function Sw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var jg={exports:{}},Nl={},Dg={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),Ew=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),jw=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),Iw=Symbol.for("react.suspense"),Tw=Symbol.for("react.memo"),Ow=Symbol.for("react.lazy"),Mh=Symbol.iterator;function Rw(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var Pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,Ig={};function Js(e,t,r){this.props=e,this.context=t,this.refs=Ig,this.updater=r||Pg}Js.prototype.isReactComponent={};Js.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Js.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tg(){}Tg.prototype=Js.prototype;function Jd(e,t,r){this.props=e,this.context=t,this.refs=Ig,this.updater=r||Pg}var Qd=Jd.prototype=new Tg;Qd.constructor=Jd;Ag(Qd,Js.prototype);Qd.isPureReactComponent=!0;var Bh=Array.isArray,Og=Object.prototype.hasOwnProperty,Yd={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function $g(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Og.call(t,n)&&!Rg.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Oo,type:e,key:i,ref:o,props:s,_owner:Yd.current}}function $w(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function Lw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uh=/\/+/g;function Fc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lw(""+e.key):t.toString(36)}function ba(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oo:case Ew:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Fc(o,0):n,Bh(s)?(r="",e!=null&&(r=e.replace(Uh,"$&/")+"/"),ba(s,t,r,"",function(c){return c})):s!=null&&(Xd(s)&&(s=$w(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Bh(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Fc(i,a);o+=ba(i,t,r,l,s)}else if(l=Rw(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Fc(i,a++),o+=ba(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qo(e,t,r){if(e==null)return e;var n=[],s=0;return ba(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Fw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},_a={transition:null},Mw={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:_a,ReactCurrentOwner:Yd};function Lg(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:qo,forEach:function(e,t,r){qo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!Xd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=Js;fe.Fragment=Cw;fe.Profiler=jw;fe.PureComponent=Jd;fe.StrictMode=Nw;fe.Suspense=Iw;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mw;fe.act=Lg;fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ag({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Yd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Og.call(t,l)&&!Rg.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Oo,type:e.type,key:s,ref:i,props:n,_owner:o}};fe.createContext=function(e){return e={$$typeof:Pw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dw,_context:e},e.Consumer=e};fe.createElement=$g;fe.createFactory=function(e){var t=$g.bind(null,e);return t.type=e,t};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:Aw,render:e}};fe.isValidElement=Xd;fe.lazy=function(e){return{$$typeof:Ow,_payload:{_status:-1,_result:e},_init:Fw}};fe.memo=function(e,t){return{$$typeof:Tw,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=_a.transition;_a.transition={};try{e()}finally{_a.transition=t}};fe.unstable_act=Lg;fe.useCallback=function(e,t){return xt.current.useCallback(e,t)};fe.useContext=function(e){return xt.current.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};fe.useEffect=function(e,t){return xt.current.useEffect(e,t)};fe.useId=function(){return xt.current.useId()};fe.useImperativeHandle=function(e,t,r){return xt.current.useImperativeHandle(e,t,r)};fe.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return xt.current.useMemo(e,t)};fe.useReducer=function(e,t,r){return xt.current.useReducer(e,t,r)};fe.useRef=function(e){return xt.current.useRef(e)};fe.useState=function(e){return xt.current.useState(e)};fe.useSyncExternalStore=function(e,t,r){return xt.current.useSyncExternalStore(e,t,r)};fe.useTransition=function(){return xt.current.useTransition()};fe.version="18.3.1";Dg.exports=fe;var w=Dg.exports;const ue=Kd(w),Bw=Sw({__proto__:null,default:ue},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw=w,zw=Symbol.for("react.element"),Vw=Symbol.for("react.fragment"),Ww=Object.prototype.hasOwnProperty,Gw=Uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hw={key:!0,ref:!0,__self:!0,__source:!0};function Fg(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ww.call(t,n)&&!Hw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:zw,type:e,key:i,ref:o,props:s,_owner:Gw.current}}Nl.Fragment=Vw;Nl.jsx=Fg;Nl.jsxs=Fg;jg.exports=Nl;var h=jg.exports,Mg={exports:{}},Mt={},Bg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var O=I.length;I.push(A);e:for(;0<O;){var te=O-1>>>1,J=I[te];if(0<s(J,A))I[te]=A,I[O]=J,O=te;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var A=I[0],O=I.pop();if(O!==A){I[0]=O;e:for(var te=0,J=I.length,xe=J>>>1;te<xe;){var ie=2*(te+1)-1,Ze=I[ie],$e=ie+1,bt=I[$e];if(0>s(Ze,O))$e<J&&0>s(bt,Ze)?(I[te]=bt,I[$e]=O,te=$e):(I[te]=Ze,I[ie]=O,te=ie);else if($e<J&&0>s(bt,O))I[te]=bt,I[$e]=O,te=$e;else break e}}return A}function s(I,A){var O=I.sortIndex-A.sortIndex;return O!==0?O:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(I){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=I)n(c),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(c)}}function S(I){if(m=!1,v(I),!x)if(r(l)!==null)x=!0,oe(k);else{var A=r(c);A!==null&&B(S,A.startTime-I)}}function k(I,A){x=!1,m&&(m=!1,y(C),C=-1),p=!0;var O=f;try{for(v(A),d=r(l);d!==null&&(!(d.expirationTime>A)||I&&!z());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var J=te(d.expirationTime<=A);A=e.unstable_now(),typeof J=="function"?d.callback=J:d===r(l)&&n(l),v(A)}else n(l);d=r(l)}if(d!==null)var xe=!0;else{var ie=r(c);ie!==null&&B(S,ie.startTime-A),xe=!1}return xe}finally{d=null,f=O,p=!1}}var N=!1,P=null,C=-1,T=5,j=-1;function z(){return!(e.unstable_now()-j<T)}function W(){if(P!==null){var I=e.unstable_now();j=I;var A=!0;try{A=P(!0,I)}finally{A?G():(N=!1,P=null)}}else N=!1}var G;if(typeof g=="function")G=function(){g(W)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,R=le.port2;le.port1.onmessage=W,G=function(){R.postMessage(null)}}else G=function(){b(W,0)};function oe(I){P=I,N||(N=!0,G())}function B(I,A){C=b(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,oe(k))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var O=f;f=A;try{return I()}finally{f=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=f;f=I;try{return A()}finally{f=O}},e.unstable_scheduleCallback=function(I,A,O){var te=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?te+O:te):O=te,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=O+J,I={id:u++,callback:A,priorityLevel:I,startTime:O,expirationTime:J,sortIndex:-1},O>te?(I.sortIndex=O,t(c,I),r(l)===null&&I===r(c)&&(m?(y(C),C=-1):m=!0,B(S,O-te))):(I.sortIndex=J,t(l,I),x||p||(x=!0,oe(k))),I},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(I){var A=f;return function(){var O=f;f=A;try{return I.apply(this,arguments)}finally{f=O}}}})(Ug);Bg.exports=Ug;var qw=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=w,Ft=qw;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zg=new Set,Hi={};function ts(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(Hi[e]=t,e=0;e<t.length;e++)zg.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=Object.prototype.hasOwnProperty,Kw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zh={},Vh={};function Jw(e){return Au.call(Vh,e)?!0:Au.call(zh,e)?!1:Kw.test(e)?Vh[e]=!0:(zh[e]=!0,!1)}function Qw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yw(e,t,r,n){if(t===null||typeof t>"u"||Qw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ef=/[\-:]([a-z])/g;function tf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ef,tf);st[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ef,tf);st[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ef,tf);st[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rf(e,t,r,n){var s=st.hasOwnProperty(t)?st[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yw(t,r,s,n)&&(r=null),n||s===null?Jw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zr=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),hs=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),nf=Symbol.for("react.strict_mode"),Iu=Symbol.for("react.profiler"),Vg=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),sf=Symbol.for("react.forward_ref"),Tu=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),of=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Gg=Symbol.for("react.offscreen"),Wh=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Wh&&e[Wh]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Mc;function _i(e){if(Mc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||""}return`
`+Mc+e}var Bc=!1;function Uc(e,t){if(!e||Bc)return"";Bc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_i(e):""}function Xw(e){switch(e.tag){case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return e=Uc(e.type,!1),e;case 11:return e=Uc(e.type.render,!1),e;case 1:return e=Uc(e.type,!0),e;default:return""}}function Ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case hs:return"Portal";case Iu:return"Profiler";case nf:return"StrictMode";case Tu:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wg:return(e.displayName||"Context")+".Consumer";case Vg:return(e._context.displayName||"Context")+".Provider";case sf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case of:return t=e.displayName||null,t!==null?t:Ru(e.type)||"Memo";case Hr:t=e._payload,e=e._init;try{return Ru(e(t))}catch{}}return null}function eb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(t);case 8:return t===nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tb(e){var t=Hg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=tb(e))}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Hg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $u(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zg(e,t){t=t.checked,t!=null&&rf(e,"checked",t,!1)}function Lu(e,t){Zg(e,t);var r=mn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fu(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fu(e,t,r){(t!=="number"||$a(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Si=Array.isArray;function Cs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(Si(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mn(r)}}function Kg(e,t){var r=mn(t.value),n=mn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jo,Qg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){rb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function Yg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function Xg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Yg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var nb=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(e,t){if(t){if(nb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function zu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function af(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wu=null,Ns=null,js=null;function Kh(e){if(e=Lo(e)){if(typeof Wu!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Il(t),Wu(e.stateNode,e.type,t))}}function ey(e){Ns?js?js.push(e):js=[e]:Ns=e}function ty(){if(Ns){var e=Ns,t=js;if(js=Ns=null,Kh(e),t)for(e=0;e<t.length;e++)Kh(t[e])}}function ry(e,t){return e(t)}function ny(){}var zc=!1;function sy(e,t,r){if(zc)return e(t,r);zc=!0;try{return ry(e,t,r)}finally{zc=!1,(Ns!==null||js!==null)&&(ny(),ty())}}function Zi(e,t){var r=e.stateNode;if(r===null)return null;var n=Il(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Gu=!1;if($r)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Gu=!1}function sb(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Pi=!1,La=null,Fa=!1,Hu=null,ib={onError:function(e){Pi=!0,La=e}};function ob(e,t,r,n,s,i,o,a,l){Pi=!1,La=null,sb.apply(ib,arguments)}function ab(e,t,r,n,s,i,o,a,l){if(ob.apply(this,arguments),Pi){if(Pi){var c=La;Pi=!1,La=null}else throw Error(L(198));Fa||(Fa=!0,Hu=c)}}function rs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(rs(e)!==e)throw Error(L(188))}function lb(e){var t=e.alternate;if(!t){if(t=rs(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Jh(s),e;if(i===n)return Jh(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function oy(e){return e=lb(e),e!==null?ay(e):null}function ay(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ay(e);if(t!==null)return t;e=e.sibling}return null}var ly=Ft.unstable_scheduleCallback,Qh=Ft.unstable_cancelCallback,cb=Ft.unstable_shouldYield,ub=Ft.unstable_requestPaint,Le=Ft.unstable_now,db=Ft.unstable_getCurrentPriorityLevel,lf=Ft.unstable_ImmediatePriority,cy=Ft.unstable_UserBlockingPriority,Ma=Ft.unstable_NormalPriority,fb=Ft.unstable_LowPriority,uy=Ft.unstable_IdlePriority,jl=null,br=null;function hb(e){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(jl,e,void 0,(e.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:gb,pb=Math.log,mb=Math.LN2;function gb(e){return e>>>=0,e===0?32:31-(pb(e)/mb|0)|0}var Qo=64,Yo=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ba(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ki(a):(i&=o,i!==0&&(n=ki(i)))}else o=r&~s,o!==0?n=ki(o):i!==0&&(n=ki(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-lr(t),s=1<<r,n|=e[r],t&=~s;return n}function yb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-lr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=yb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function qu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dy(){var e=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),e}function Vc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ro(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lr(t),e[t]=r}function xb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-lr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function cf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var we=0;function fy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hy,uf,py,my,gy,Zu=!1,Xo=[],nn=null,sn=null,on=null,Ki=new Map,Ji=new Map,Kr=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yh(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function ui(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lo(t),t!==null&&uf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bb(e,t,r,n,s){switch(t){case"focusin":return nn=ui(nn,e,t,r,n,s),!0;case"dragenter":return sn=ui(sn,e,t,r,n,s),!0;case"mouseover":return on=ui(on,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ki.set(i,ui(Ki.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ji.set(i,ui(Ji.get(i)||null,e,t,r,n,s)),!0}return!1}function yy(e){var t=Rn(e.target);if(t!==null){var r=rs(t);if(r!==null){if(t=r.tag,t===13){if(t=iy(r),t!==null){e.blockedOn=t,gy(e.priority,function(){py(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ku(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vu=n,r.target.dispatchEvent(n),Vu=null}else return t=Lo(r),t!==null&&uf(t),e.blockedOn=r,!1;t.shift()}return!0}function Xh(e,t,r){Sa(e)&&r.delete(t)}function _b(){Zu=!1,nn!==null&&Sa(nn)&&(nn=null),sn!==null&&Sa(sn)&&(sn=null),on!==null&&Sa(on)&&(on=null),Ki.forEach(Xh),Ji.forEach(Xh)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,_b)))}function Qi(e){function t(s){return di(s,e)}if(0<Xo.length){di(Xo[0],e);for(var r=1;r<Xo.length;r++){var n=Xo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(nn!==null&&di(nn,e),sn!==null&&di(sn,e),on!==null&&di(on,e),Ki.forEach(t),Ji.forEach(t),r=0;r<Kr.length;r++)n=Kr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Kr.length&&(r=Kr[0],r.blockedOn===null);)yy(r),r.blockedOn===null&&Kr.shift()}var Ds=zr.ReactCurrentBatchConfig,Ua=!0;function Sb(e,t,r,n){var s=we,i=Ds.transition;Ds.transition=null;try{we=1,df(e,t,r,n)}finally{we=s,Ds.transition=i}}function kb(e,t,r,n){var s=we,i=Ds.transition;Ds.transition=null;try{we=4,df(e,t,r,n)}finally{we=s,Ds.transition=i}}function df(e,t,r,n){if(Ua){var s=Ku(e,t,r,n);if(s===null)Xc(e,t,n,za,r),Yh(e,n);else if(bb(s,e,t,r,n))n.stopPropagation();else if(Yh(e,n),t&4&&-1<wb.indexOf(e)){for(;s!==null;){var i=Lo(s);if(i!==null&&hy(i),i=Ku(e,t,r,n),i===null&&Xc(e,t,n,za,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Xc(e,t,n,null,r)}}var za=null;function Ku(e,t,r,n){if(za=null,e=af(n),e=Rn(e),e!==null)if(t=rs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=iy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return za=e,null}function vy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(db()){case lf:return 1;case cy:return 4;case Ma:case fb:return 16;case uy:return 536870912;default:return 16}default:return 16}}var en=null,ff=null,ka=null;function xy(){if(ka)return ka;var e,t=ff,r=t.length,n,s="value"in en?en.value:en.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ka=s.slice(e,1<n?1-n:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ea(){return!0}function ep(){return!1}function Bt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ea:ep,this.isPropagationStopped=ep,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Bt(Qs),$o=Oe({},Qs,{view:0,detail:0}),Eb=Bt($o),Wc,Gc,fi,Dl=Oe({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Wc=e.screenX-fi.screenX,Gc=e.screenY-fi.screenY):Gc=Wc=0,fi=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:Gc}}),tp=Bt(Dl),Cb=Oe({},Dl,{dataTransfer:0}),Nb=Bt(Cb),jb=Oe({},$o,{relatedTarget:0}),Hc=Bt(jb),Db=Oe({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Pb=Bt(Db),Ab=Oe({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ib=Bt(Ab),Tb=Oe({},Qs,{data:0}),rp=Bt(Tb),Ob={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$b[e])?!!t[e]:!1}function pf(){return Lb}var Fb=Oe({},$o,{key:function(e){if(e.key){var t=Ob[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mb=Bt(Fb),Bb=Oe({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Bt(Bb),Ub=Oe({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),zb=Bt(Ub),Vb=Oe({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=Bt(Vb),Gb=Oe({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=Bt(Gb),qb=[9,13,27,32],mf=$r&&"CompositionEvent"in window,Ai=null;$r&&"documentMode"in document&&(Ai=document.documentMode);var Zb=$r&&"TextEvent"in window&&!Ai,wy=$r&&(!mf||Ai&&8<Ai&&11>=Ai),sp=" ",ip=!1;function by(e,t){switch(e){case"keyup":return qb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function Kb(e,t){switch(e){case"compositionend":return _y(t);case"keypress":return t.which!==32?null:(ip=!0,sp);case"textInput":return e=t.data,e===sp&&ip?null:e;default:return null}}function Jb(e,t){if(ms)return e==="compositionend"||!mf&&by(e,t)?(e=xy(),ka=ff=en=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wy&&t.locale!=="ko"?null:t.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qb[e.type]:t==="textarea"}function Sy(e,t,r,n){ey(n),t=Va(t,"onChange"),0<t.length&&(r=new hf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ii=null,Yi=null;function Yb(e){Oy(e,0)}function Pl(e){var t=vs(e);if(qg(t))return e}function Xb(e,t){if(e==="change")return t}var ky=!1;if($r){var qc;if($r){var Zc="oninput"in document;if(!Zc){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),Zc=typeof ap.oninput=="function"}qc=Zc}else qc=!1;ky=qc&&(!document.documentMode||9<document.documentMode)}function lp(){Ii&&(Ii.detachEvent("onpropertychange",Ey),Yi=Ii=null)}function Ey(e){if(e.propertyName==="value"&&Pl(Yi)){var t=[];Sy(t,Yi,e,af(e)),sy(Yb,t)}}function e_(e,t,r){e==="focusin"?(lp(),Ii=t,Yi=r,Ii.attachEvent("onpropertychange",Ey)):e==="focusout"&&lp()}function t_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Yi)}function r_(e,t){if(e==="click")return Pl(t)}function n_(e,t){if(e==="input"||e==="change")return Pl(t)}function s_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dr=typeof Object.is=="function"?Object.is:s_;function Xi(e,t){if(dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Au.call(t,s)||!dr(e[s],t[s]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function up(e,t){var r=cp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cp(r)}}function Cy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ny(){for(var e=window,t=$a();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$a(e.document)}return t}function gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i_(e){var t=Ny(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cy(r.ownerDocument.documentElement,r)){if(n!==null&&gf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=up(r,i);var o=up(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o_=$r&&"documentMode"in document&&11>=document.documentMode,gs=null,Ju=null,Ti=null,Qu=!1;function dp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qu||gs==null||gs!==$a(n)||(n=gs,"selectionStart"in n&&gf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ti&&Xi(Ti,n)||(Ti=n,n=Va(Ju,"onSelect"),0<n.length&&(t=new hf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gs)))}function ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ys={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Kc={},jy={};$r&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Al(e){if(Kc[e])return Kc[e];if(!ys[e])return e;var t=ys[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jy)return Kc[e]=t[r];return e}var Dy=Al("animationend"),Py=Al("animationiteration"),Ay=Al("animationstart"),Iy=Al("transitionend"),Ty=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _n(e,t){Ty.set(e,t),ts(t,[e])}for(var Jc=0;Jc<fp.length;Jc++){var Qc=fp[Jc],a_=Qc.toLowerCase(),l_=Qc[0].toUpperCase()+Qc.slice(1);_n(a_,"on"+l_)}_n(Dy,"onAnimationEnd");_n(Py,"onAnimationIteration");_n(Ay,"onAnimationStart");_n("dblclick","onDoubleClick");_n("focusin","onFocus");_n("focusout","onBlur");_n(Iy,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function hp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ab(n,t,void 0,e),e.currentTarget=null}function Oy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hp(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hp(s,a,c),i=l}}}if(Fa)throw e=Hu,Fa=!1,Hu=null,e}function Ne(e,t){var r=t[rd];r===void 0&&(r=t[rd]=new Set);var n=e+"__bubble";r.has(n)||(Ry(t,e,2,!1),r.add(n))}function Yc(e,t,r){var n=0;t&&(n|=4),Ry(r,e,n,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[ra]){e[ra]=!0,zg.forEach(function(r){r!=="selectionchange"&&(c_.has(r)||Yc(r,!1,e),Yc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,Yc("selectionchange",!1,t))}}function Ry(e,t,r,n){switch(vy(t)){case 1:var s=Sb;break;case 4:s=kb;break;default:s=df}r=s.bind(null,t,r,e),s=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Xc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Rn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}sy(function(){var c=i,u=af(r),d=[];e:{var f=Ty.get(e);if(f!==void 0){var p=hf,x=e;switch(e){case"keypress":if(Ea(r)===0)break e;case"keydown":case"keyup":p=Mb;break;case"focusin":x="focus",p=Hc;break;case"focusout":x="blur",p=Hc;break;case"beforeblur":case"afterblur":p=Hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Nb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zb;break;case Dy:case Py:case Ay:p=Pb;break;case Iy:p=Wb;break;case"scroll":p=Eb;break;case"wheel":p=Hb;break;case"copy":case"cut":case"paste":p=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=np}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Zi(g,y),S!=null&&m.push(to(g,S,v)))),b)break;g=g.return}0<m.length&&(f=new p(f,x,null,r,u),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Vu&&(x=r.relatedTarget||r.fromElement)&&(Rn(x)||x[Lr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=c,x=x?Rn(x):null,x!==null&&(b=rs(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(m=tp,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=np,S="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?f:vs(p),v=x==null?f:vs(x),f=new m(S,g+"leave",p,r,u),f.target=b,f.relatedTarget=v,S=null,Rn(u)===c&&(m=new m(y,g+"enter",x,r,u),m.target=v,m.relatedTarget=b,S=m),b=S,p&&x)t:{for(m=p,y=x,g=0,v=m;v;v=is(v))g++;for(v=0,S=y;S;S=is(S))v++;for(;0<g-v;)m=is(m),g--;for(;0<v-g;)y=is(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=is(m),y=is(y)}m=null}else m=null;p!==null&&pp(d,f,p,m,!1),x!==null&&b!==null&&pp(d,b,x,m,!0)}}e:{if(f=c?vs(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=Xb;else if(op(f))if(ky)k=n_;else{k=t_;var N=e_}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=r_);if(k&&(k=k(e,c))){Sy(d,k,r,u);break e}N&&N(e,f,c),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Fu(f,"number",f.value)}switch(N=c?vs(c):window,e){case"focusin":(op(N)||N.contentEditable==="true")&&(gs=N,Ju=c,Ti=null);break;case"focusout":Ti=Ju=gs=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,dp(d,r,u);break;case"selectionchange":if(o_)break;case"keydown":case"keyup":dp(d,r,u)}var P;if(mf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ms?by(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(wy&&r.locale!=="ko"&&(ms||C!=="onCompositionStart"?C==="onCompositionEnd"&&ms&&(P=xy()):(en=u,ff="value"in en?en.value:en.textContent,ms=!0)),N=Va(c,C),0<N.length&&(C=new rp(C,e,null,r,u),d.push({event:C,listeners:N}),P?C.data=P:(P=_y(r),P!==null&&(C.data=P)))),(P=Zb?Kb(e,r):Jb(e,r))&&(c=Va(c,"onBeforeInput"),0<c.length&&(u=new rp("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=P))}Oy(d,t)})}function to(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Va(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zi(e,r),i!=null&&n.unshift(to(e,i,s)),i=Zi(e,t),i!=null&&n.push(to(e,i,s))),e=e.return}return n}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pp(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Zi(r,i),l!=null&&o.unshift(to(r,l,a))):s||(l=Zi(r,i),l!=null&&o.push(to(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var u_=/\r\n?/g,d_=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(u_,`
`).replace(d_,"")}function na(e,t,r){if(t=mp(t),mp(e)!==t&&r)throw Error(L(425))}function Wa(){}var Yu=null,Xu=null;function ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,f_=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,h_=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(p_)}:td;function p_(e){setTimeout(function(){throw e})}function eu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qi(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ys,ro="__reactProps$"+Ys,Lr="__reactContainer$"+Ys,rd="__reactEvents$"+Ys,m_="__reactListeners$"+Ys,g_="__reactHandles$"+Ys;function Rn(e){var t=e[xr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lr]||r[xr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yp(e);e!==null;){if(r=e[xr])return r;e=yp(e)}return t}e=r,r=e.parentNode}return null}function Lo(e){return e=e[xr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Il(e){return e[ro]||null}var nd=[],xs=-1;function Sn(e){return{current:e}}function je(e){0>xs||(e.current=nd[xs],nd[xs]=null,xs--)}function Ce(e,t){xs++,nd[xs]=e.current,e.current=t}var gn={},ut=Sn(gn),Nt=Sn(!1),Gn=gn;function Rs(e,t){var r=e.type.contextTypes;if(!r)return gn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jt(e){return e=e.childContextTypes,e!=null}function Ga(){je(Nt),je(ut)}function vp(e,t,r){if(ut.current!==gn)throw Error(L(168));Ce(ut,t),Ce(Nt,r)}function $y(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,eb(e)||"Unknown",s));return Oe({},r,n)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Gn=ut.current,Ce(ut,e),Ce(Nt,Nt.current),!0}function xp(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=$y(e,t,Gn),n.__reactInternalMemoizedMergedChildContext=e,je(Nt),je(ut),Ce(ut,e)):je(Nt),Ce(Nt,r)}var Ar=null,Tl=!1,tu=!1;function Ly(e){Ar===null?Ar=[e]:Ar.push(e)}function y_(e){Tl=!0,Ly(e)}function kn(){if(!tu&&Ar!==null){tu=!0;var e=0,t=we;try{var r=Ar;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ar=null,Tl=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(e+1)),ly(lf,kn),s}finally{we=t,tu=!1}}return null}var ws=[],bs=0,qa=null,Za=0,Vt=[],Wt=0,Hn=null,Tr=1,Or="";function Pn(e,t){ws[bs++]=Za,ws[bs++]=qa,qa=e,Za=t}function Fy(e,t,r){Vt[Wt++]=Tr,Vt[Wt++]=Or,Vt[Wt++]=Hn,Hn=e;var n=Tr;e=Or;var s=32-lr(n)-1;n&=~(1<<s),r+=1;var i=32-lr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Tr=1<<32-lr(t)+s|r<<s|n,Or=i+e}else Tr=1<<i|r<<s|n,Or=e}function yf(e){e.return!==null&&(Pn(e,1),Fy(e,1,0))}function vf(e){for(;e===qa;)qa=ws[--bs],ws[bs]=null,Za=ws[--bs],ws[bs]=null;for(;e===Hn;)Hn=Vt[--Wt],Vt[Wt]=null,Or=Vt[--Wt],Vt[Wt]=null,Tr=Vt[--Wt],Vt[Wt]=null}var Ot=null,It=null,De=!1,nr=null;function My(e,t){var r=Gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,It=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hn!==null?{id:Tr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ot=e,It=null,!0):!1;default:return!1}}function sd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function id(e){if(De){var t=It;if(t){var r=t;if(!wp(e,t)){if(sd(e))throw Error(L(418));t=an(r.nextSibling);var n=Ot;t&&wp(e,t)?My(n,r):(e.flags=e.flags&-4097|2,De=!1,Ot=e)}}else{if(sd(e))throw Error(L(418));e.flags=e.flags&-4097|2,De=!1,Ot=e}}}function bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function sa(e){if(e!==Ot)return!1;if(!De)return bp(e),De=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ed(e.type,e.memoizedProps)),t&&(t=It)){if(sd(e))throw By(),Error(L(418));for(;t;)My(e,t),t=an(t.nextSibling)}if(bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){It=an(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}It=null}}else It=Ot?an(e.stateNode.nextSibling):null;return!0}function By(){for(var e=It;e;)e=an(e.nextSibling)}function $s(){It=Ot=null,De=!1}function xf(e){nr===null?nr=[e]:nr.push(e)}var v_=zr.ReactCurrentBatchConfig;function hi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function ia(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _p(e){var t=e._init;return t(e._payload)}function Uy(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=dn(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,S){return g===null||g.tag!==6?(g=lu(v,y.mode,S),g.return=y,g):(g=s(g,v),g.return=y,g)}function l(y,g,v,S){var k=v.type;return k===ps?u(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&_p(k)===g.type)?(S=s(g,v.props),S.ref=hi(y,g,v),S.return=y,S):(S=Ia(v.type,v.key,v.props,null,y.mode,S),S.ref=hi(y,g,v),S.return=y,S)}function c(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=cu(v,y.mode,S),g.return=y,g):(g=s(g,v.children||[]),g.return=y,g)}function u(y,g,v,S,k){return g===null||g.tag!==7?(g=Un(v,y.mode,S,k),g.return=y,g):(g=s(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=lu(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zo:return v=Ia(g.type,g.key,g.props,null,y.mode,v),v.ref=hi(y,null,g),v.return=y,v;case hs:return g=cu(g,y.mode,v),g.return=y,g;case Hr:var S=g._init;return d(y,S(g._payload),v)}if(Si(g)||li(g))return g=Un(g,y.mode,v,null),g.return=y,g;ia(y,g)}return null}function f(y,g,v,S){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:return v.key===k?l(y,g,v,S):null;case hs:return v.key===k?c(y,g,v,S):null;case Hr:return k=v._init,f(y,g,k(v._payload),S)}if(Si(v)||li(v))return k!==null?null:u(y,g,v,S,null);ia(y,v)}return null}function p(y,g,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(g,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zo:return y=y.get(S.key===null?v:S.key)||null,l(g,y,S,k);case hs:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,k);case Hr:var N=S._init;return p(y,g,v,N(S._payload),k)}if(Si(S)||li(S))return y=y.get(v)||null,u(g,y,S,k,null);ia(g,S)}return null}function x(y,g,v,S){for(var k=null,N=null,P=g,C=g=0,T=null;P!==null&&C<v.length;C++){P.index>C?(T=P,P=null):T=P.sibling;var j=f(y,P,v[C],S);if(j===null){P===null&&(P=T);break}e&&P&&j.alternate===null&&t(y,P),g=i(j,g,C),N===null?k=j:N.sibling=j,N=j,P=T}if(C===v.length)return r(y,P),De&&Pn(y,C),k;if(P===null){for(;C<v.length;C++)P=d(y,v[C],S),P!==null&&(g=i(P,g,C),N===null?k=P:N.sibling=P,N=P);return De&&Pn(y,C),k}for(P=n(y,P);C<v.length;C++)T=p(P,y,C,v[C],S),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?C:T.key),g=i(T,g,C),N===null?k=T:N.sibling=T,N=T);return e&&P.forEach(function(z){return t(y,z)}),De&&Pn(y,C),k}function m(y,g,v,S){var k=li(v);if(typeof k!="function")throw Error(L(150));if(v=k.call(v),v==null)throw Error(L(151));for(var N=k=null,P=g,C=g=0,T=null,j=v.next();P!==null&&!j.done;C++,j=v.next()){P.index>C?(T=P,P=null):T=P.sibling;var z=f(y,P,j.value,S);if(z===null){P===null&&(P=T);break}e&&P&&z.alternate===null&&t(y,P),g=i(z,g,C),N===null?k=z:N.sibling=z,N=z,P=T}if(j.done)return r(y,P),De&&Pn(y,C),k;if(P===null){for(;!j.done;C++,j=v.next())j=d(y,j.value,S),j!==null&&(g=i(j,g,C),N===null?k=j:N.sibling=j,N=j);return De&&Pn(y,C),k}for(P=n(y,P);!j.done;C++,j=v.next())j=p(P,y,C,j.value,S),j!==null&&(e&&j.alternate!==null&&P.delete(j.key===null?C:j.key),g=i(j,g,C),N===null?k=j:N.sibling=j,N=j);return e&&P.forEach(function(W){return t(y,W)}),De&&Pn(y,C),k}function b(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===ps&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:e:{for(var k=v.key,N=g;N!==null;){if(N.key===k){if(k=v.type,k===ps){if(N.tag===7){r(y,N.sibling),g=s(N,v.props.children),g.return=y,y=g;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&_p(k)===N.type){r(y,N.sibling),g=s(N,v.props),g.ref=hi(y,N,v),g.return=y,y=g;break e}r(y,N);break}else t(y,N);N=N.sibling}v.type===ps?(g=Un(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=Ia(v.type,v.key,v.props,null,y.mode,S),S.ref=hi(y,g,v),S.return=y,y=S)}return o(y);case hs:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(y,g.sibling),g=s(g,v.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=cu(v,y.mode,S),g.return=y,y=g}return o(y);case Hr:return N=v._init,b(y,g,N(v._payload),S)}if(Si(v))return x(y,g,v,S);if(li(v))return m(y,g,v,S);ia(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,v),g.return=y,y=g):(r(y,g),g=lu(v,y.mode,S),g.return=y,y=g),o(y)):r(y,g)}return b}var Ls=Uy(!0),zy=Uy(!1),Ka=Sn(null),Ja=null,_s=null,wf=null;function bf(){wf=_s=Ja=null}function _f(e){var t=Ka.current;je(Ka),e._currentValue=t}function od(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){Ja=e,wf=_s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ct=!0),e.firstContext=null)}function Jt(e){var t=e._currentValue;if(wf!==e)if(e={context:e,memoizedValue:t,next:null},_s===null){if(Ja===null)throw Error(L(308));_s=e,Ja.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var $n=null;function Sf(e){$n===null?$n=[e]:$n.push(e)}function Vy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Fr(e,n)}function Fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var qr=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Fr(e,r)}return s=n.interleaved,s===null?(t.next=t,Sf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Fr(e,r)}function Ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cf(e,r)}}function Sp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qa(e,t,r,n){var s=e.updateQueue;qr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(f=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){d=x.call(p,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,d,f):x,f==null)break e;d=Oe({},d,f);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Zn|=o,e.lanes=o,e.memoizedState=d}}function kp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var Fo={},_r=Sn(Fo),no=Sn(Fo),so=Sn(Fo);function Ln(e){if(e===Fo)throw Error(L(174));return e}function Ef(e,t){switch(Ce(so,t),Ce(no,e),Ce(_r,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bu(t,e)}je(_r),Ce(_r,t)}function Fs(){je(_r),je(no),je(so)}function Gy(e){Ln(so.current);var t=Ln(_r.current),r=Bu(t,e.type);t!==r&&(Ce(no,e),Ce(_r,r))}function Cf(e){no.current===e&&(je(_r),je(no))}var Ie=Sn(0);function Ya(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ru=[];function Nf(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var Na=zr.ReactCurrentDispatcher,nu=zr.ReactCurrentBatchConfig,qn=0,Te=null,Ge=null,Je=null,Xa=!1,Oi=!1,io=0,x_=0;function ot(){throw Error(L(321))}function jf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dr(e[r],t[r]))return!1;return!0}function Df(e,t,r,n,s,i){if(qn=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Na.current=e===null||e.memoizedState===null?S_:k_,e=r(n,s),Oi){i=0;do{if(Oi=!1,io=0,25<=i)throw Error(L(301));i+=1,Je=Ge=null,t.updateQueue=null,Na.current=E_,e=r(n,s)}while(Oi)}if(Na.current=el,t=Ge!==null&&Ge.next!==null,qn=0,Je=Ge=Te=null,Xa=!1,t)throw Error(L(300));return e}function Pf(){var e=io!==0;return io=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Te.memoizedState=Je=e:Je=Je.next=e,Je}function Qt(){if(Ge===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Je===null?Te.memoizedState:Je.next;if(t!==null)Je=t,Ge=e;else{if(e===null)throw Error(L(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Je===null?Te.memoizedState=Je=e:Je=Je.next=e}return Je}function oo(e,t){return typeof t=="function"?t(e):t}function su(e){var t=Qt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Ge,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((qn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Te.lanes|=u,Zn|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,dr(n,t.memoizedState)||(Ct=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Te.lanes|=i,Zn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function iu(e){var t=Qt(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);dr(i,t.memoizedState)||(Ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Hy(){}function qy(e,t){var r=Te,n=Qt(),s=t(),i=!dr(n.memoizedState,s);if(i&&(n.memoizedState=s,Ct=!0),n=n.queue,Af(Jy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,ao(9,Ky.bind(null,r,n,s,t),void 0,null),Qe===null)throw Error(L(349));qn&30||Zy(r,t,s)}return s}function Zy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ky(e,t,r,n){t.value=r,t.getSnapshot=n,Qy(t)&&Yy(e)}function Jy(e,t,r){return r(function(){Qy(t)&&Yy(e)})}function Qy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dr(e,r)}catch{return!0}}function Yy(e){var t=Fr(e,1);t!==null&&cr(t,e,1,-1)}function Ep(e){var t=yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=__.bind(null,Te,e),[t.memoizedState,e]}function ao(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Xy(){return Qt().memoizedState}function ja(e,t,r,n){var s=yr();Te.flags|=e,s.memoizedState=ao(1|t,r,void 0,n===void 0?null:n)}function Ol(e,t,r,n){var s=Qt();n=n===void 0?null:n;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,n!==null&&jf(n,o.deps)){s.memoizedState=ao(t,r,i,n);return}}Te.flags|=e,s.memoizedState=ao(1|t,r,i,n)}function Cp(e,t){return ja(8390656,8,e,t)}function Af(e,t){return Ol(2048,8,e,t)}function ev(e,t){return Ol(4,2,e,t)}function tv(e,t){return Ol(4,4,e,t)}function rv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nv(e,t,r){return r=r!=null?r.concat([e]):null,Ol(4,4,rv.bind(null,t,e),r)}function If(){}function sv(e,t){var r=Qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iv(e,t){var r=Qt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ov(e,t,r){return qn&21?(dr(r,t)||(r=dy(),Te.lanes|=r,Zn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=r)}function w_(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=nu.transition;nu.transition={};try{e(!1),t()}finally{we=r,nu.transition=n}}function av(){return Qt().memoizedState}function b_(e,t,r){var n=un(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lv(e))cv(t,r);else if(r=Vy(e,t,r,n),r!==null){var s=yt();cr(r,e,n,s),uv(r,t,n)}}function __(e,t,r){var n=un(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lv(e))cv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,dr(a,o)){var l=t.interleaved;l===null?(s.next=s,Sf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Vy(e,t,s,n),r!==null&&(s=yt(),cr(r,e,n,s),uv(r,t,n))}}function lv(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function cv(e,t){Oi=Xa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cf(e,r)}}var el={readContext:Jt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},S_={readContext:Jt,useCallback:function(e,t){return yr().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:Cp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ja(4194308,4,rv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var r=yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=b_.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=yr();return e={current:e},t.memoizedState=e},useState:Ep,useDebugValue:If,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=Ep(!1),t=e[0];return e=w_.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Te,s=yr();if(De){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),Qe===null)throw Error(L(349));qn&30||Zy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Cp(Jy.bind(null,n,i,e),[e]),n.flags|=2048,ao(9,Ky.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yr(),t=Qe.identifierPrefix;if(De){var r=Or,n=Tr;r=(n&~(1<<32-lr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=io++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=x_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},k_={readContext:Jt,useCallback:sv,useContext:Jt,useEffect:Af,useImperativeHandle:nv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:su,useRef:Xy,useState:function(){return su(oo)},useDebugValue:If,useDeferredValue:function(e){var t=Qt();return ov(t,Ge.memoizedState,e)},useTransition:function(){var e=su(oo)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Hy,useSyncExternalStore:qy,useId:av,unstable_isNewReconciler:!1},E_={readContext:Jt,useCallback:sv,useContext:Jt,useEffect:Af,useImperativeHandle:nv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:iu,useRef:Xy,useState:function(){return iu(oo)},useDebugValue:If,useDeferredValue:function(e){var t=Qt();return Ge===null?t.memoizedState=e:ov(t,Ge.memoizedState,e)},useTransition:function(){var e=iu(oo)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Hy,useSyncExternalStore:qy,useId:av,unstable_isNewReconciler:!1};function er(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ad(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rl={isMounted:function(e){return(e=e._reactInternals)?rs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yt(),s=un(e),i=Rr(n,s);i.payload=t,r!=null&&(i.callback=r),t=ln(e,i,s),t!==null&&(cr(t,e,s,n),Ca(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yt(),s=un(e),i=Rr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ln(e,i,s),t!==null&&(cr(t,e,s,n),Ca(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yt(),n=un(e),s=Rr(r,n);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,n),t!==null&&(cr(t,e,n,r),Ca(t,e,n))}};function Np(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xi(r,n)||!Xi(s,i):!0}function dv(e,t,r){var n=!1,s=gn,i=t.contextType;return typeof i=="object"&&i!==null?i=Jt(i):(s=jt(t)?Gn:ut.current,n=t.contextTypes,i=(n=n!=null)?Rs(e,s):gn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function jp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rl.enqueueReplaceState(t,t.state,null)}function ld(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Jt(i):(i=jt(t)?Gn:ut.current,s.context=Rs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ad(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Rl.enqueueReplaceState(s,s.state,null),Qa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,t){try{var r="",n=t;do r+=Xw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ou(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var C_=typeof WeakMap=="function"?WeakMap:Map;function fv(e,t,r){r=Rr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rl||(rl=!0,xd=n),cd(e,t)},r}function hv(e,t,r){r=Rr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cd(e,t),typeof n!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Dp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new C_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=B_.bind(null,e,t,r),t.then(e,e))}function Pp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ap(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rr(-1,1),t.tag=2,ln(r,t,1))),r.lanes|=1),e)}var N_=zr.ReactCurrentOwner,Ct=!1;function pt(e,t,r,n){t.child=e===null?zy(t,null,r,n):Ls(t,e.child,r,n)}function Ip(e,t,r,n,s){r=r.render;var i=t.ref;return Ps(t,s),n=Df(e,t,r,n,i,s),r=Pf(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mr(e,t,s)):(De&&r&&yf(t),t.flags|=1,pt(e,t,n,s),t.child)}function Tp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pv(e,t,i,n,s)):(e=Ia(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(o,n)&&e.ref===t.ref)return Mr(e,t,s)}return t.flags|=1,e=dn(i,n),e.ref=t.ref,e.return=t,t.child=e}function pv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xi(i,n)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ct=!0);else return t.lanes=e.lanes,Mr(e,t,s)}return ud(e,t,r,n,s)}function mv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ks,At),At|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(ks,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(ks,At),At|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ce(ks,At),At|=n;return pt(e,t,s,r),t.child}function gv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ud(e,t,r,n,s){var i=jt(r)?Gn:ut.current;return i=Rs(t,i),Ps(t,s),r=Df(e,t,r,n,i,s),n=Pf(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mr(e,t,s)):(De&&n&&yf(t),t.flags|=1,pt(e,t,r,s),t.child)}function Op(e,t,r,n,s){if(jt(r)){var i=!0;Ha(t)}else i=!1;if(Ps(t,s),t.stateNode===null)Da(e,t),dv(t,r,n),ld(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=jt(r)?Gn:ut.current,c=Rs(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&jp(t,o,n,c),qr=!1;var f=t.memoizedState;o.state=f,Qa(t,n,o,s),l=t.memoizedState,a!==n||f!==l||Nt.current||qr?(typeof u=="function"&&(ad(t,r,u,n),l=t.memoizedState),(a=qr||Np(t,r,a,n,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Wy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:er(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=jt(r)?Gn:ut.current,l=Rs(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&jp(t,o,n,l),qr=!1,f=t.memoizedState,o.state=f,Qa(t,n,o,s);var x=t.memoizedState;a!==d||f!==x||Nt.current||qr?(typeof p=="function"&&(ad(t,r,p,n),x=t.memoizedState),(c=qr||Np(t,r,c,n,f,x,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return dd(e,t,r,n,i,s)}function dd(e,t,r,n,s,i){gv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&xp(t,r,!1),Mr(e,t,i);n=t.stateNode,N_.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ls(t,e.child,null,i),t.child=Ls(t,null,a,i)):pt(e,t,a,i),t.memoizedState=n.state,s&&xp(t,r,!0),t.child}function yv(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),Ef(e,t.containerInfo)}function Rp(e,t,r,n,s){return $s(),xf(s),t.flags|=256,pt(e,t,r,n),t.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function hd(e){return{baseLanes:e,cachePool:null,transitions:null}}function vv(e,t,r){var n=t.pendingProps,s=Ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ce(Ie,s&1),e===null)return id(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fl(o,n,0,null),e=Un(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=hd(r),t.memoizedState=fd,e):Tf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return j_(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=dn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=dn(a,i):(i=Un(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?hd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=fd,n}return i=e.child,e=i.sibling,n=dn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Tf(e,t){return t=Fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,r,n){return n!==null&&xf(n),Ls(t,e.child,null,r),e=Tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j_(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ou(Error(L(422))),oa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Fl({mode:"visible",children:n.children},s,0,null),i=Un(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ls(t,e.child,null,o),t.child.memoizedState=hd(o),t.memoizedState=fd,i);if(!(t.mode&1))return oa(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(L(419)),n=ou(i,n,void 0),oa(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ct||a){if(n=Qe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fr(e,s),cr(n,e,s,-1))}return Mf(),n=ou(Error(L(421))),oa(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=U_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,It=an(s.nextSibling),Ot=t,De=!0,nr=null,e!==null&&(Vt[Wt++]=Tr,Vt[Wt++]=Or,Vt[Wt++]=Hn,Tr=e.id,Or=e.overflow,Hn=t),t=Tf(t,n.children),t.flags|=4096,t)}function $p(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),od(e.return,t,r)}function au(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function xv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(pt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,r,t);else if(e.tag===19)$p(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ya(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),au(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ya(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}au(t,!0,r,null,i);break;case"together":au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Da(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=dn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function D_(e,t,r){switch(t.tag){case 3:yv(t),$s();break;case 5:Gy(t);break;case 1:jt(t.type)&&Ha(t);break;case 4:Ef(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ce(Ka,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?vv(e,t,r):(Ce(Ie,Ie.current&1),e=Mr(e,t,r),e!==null?e.sibling:null);Ce(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,mv(e,t,r)}return Mr(e,t,r)}var wv,pd,bv,_v;wv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pd=function(){};bv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ln(_r.current);var i=null;switch(r){case"input":s=$u(e,s),n=$u(e,n),i=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),i=[];break;case"textarea":s=Mu(e,s),n=Mu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wa)}Uu(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};_v=function(e,t,r,n){r!==n&&(t.flags|=4)};function pi(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function P_(e,t,r){var n=t.pendingProps;switch(vf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return jt(t.type)&&Ga(),at(t),null;case 3:return n=t.stateNode,Fs(),je(Nt),je(ut),Nf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nr!==null&&(_d(nr),nr=null))),pd(e,t),at(t),null;case 5:Cf(t);var s=Ln(so.current);if(r=t.type,e!==null&&t.stateNode!=null)bv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return at(t),null}if(e=Ln(_r.current),sa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[xr]=t,n[ro]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Ei.length;s++)Ne(Ei[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":Gh(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":qh(n,i),Ne("invalid",n)}Uu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&na(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&na(n.textContent,a,e),s=["children",""+a]):Hi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":Ko(n),Hh(n,i,!0);break;case"textarea":Ko(n),Zh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wa)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[xr]=t,e[ro]=n,wv(e,t,!1,!1),t.stateNode=e;e:{switch(o=zu(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ei.length;s++)Ne(Ei[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":Gh(e,n),s=$u(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":qh(e,n),s=Mu(e,n),Ne("invalid",e);break;default:s=n}Uu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Xg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qg(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qi(e,l):typeof l=="number"&&qi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ne("scroll",e):l!=null&&rf(e,i,l,o))}switch(r){case"input":Ko(e),Hh(e,n,!1);break;case"textarea":Ko(e),Zh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Cs(e,!!n.multiple,i,!1):n.defaultValue!=null&&Cs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)_v(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=Ln(so.current),Ln(_r.current),sa(t)){if(n=t.stateNode,r=t.memoizedProps,n[xr]=t,(i=n.nodeValue!==r)&&(e=Ot,e!==null))switch(e.tag){case 3:na(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xr]=t,t.stateNode=n}return at(t),null;case 13:if(je(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(De&&It!==null&&t.mode&1&&!(t.flags&128))By(),$s(),t.flags|=98560,i=!1;else if(i=sa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[xr]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),i=!1}else nr!==null&&(_d(nr),nr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?He===0&&(He=3):Mf())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Fs(),pd(e,t),e===null&&eo(t.stateNode.containerInfo),at(t),null;case 10:return _f(t.type._context),at(t),null;case 17:return jt(t.type)&&Ga(),at(t),null;case 19:if(je(Ie),i=t.memoizedState,i===null)return at(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)pi(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ya(e),o!==null){for(t.flags|=128,pi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>Bs&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ya(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return at(t),null}else 2*Le()-i.renderingStartTime>Bs&&r!==1073741824&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,r=Ie.current,Ce(Ie,n?r&1|2:r&1),t):(at(t),null);case 22:case 23:return Ff(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?At&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function A_(e,t){switch(vf(t),t.tag){case 1:return jt(t.type)&&Ga(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fs(),je(Nt),je(ut),Nf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cf(t),null;case 13:if(je(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Ie),null;case 4:return Fs(),null;case 10:return _f(t.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var aa=!1,ct=!1,I_=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ss(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(e,t,n)}else r.current=null}function md(e,t,r){try{r()}catch(n){Re(e,t,n)}}var Lp=!1;function T_(e,t){if(Yu=Ua,e=Ny(),gf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++c===s&&(a=o),f===i&&++u===n&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xu={focusedElem:e,selectionRange:r},Ua=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:er(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){Re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return x=Lp,Lp=!1,x}function Ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&md(t,r,i)}s=s.next}while(s!==n)}}function $l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sv(e){var t=e.alternate;t!==null&&(e.alternate=null,Sv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[ro],delete t[rd],delete t[m_],delete t[g_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kv(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wa));else if(n!==4&&(e=e.child,e!==null))for(yd(e,t,r),e=e.sibling;e!==null;)yd(e,t,r),e=e.sibling}function vd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vd(e,t,r),e=e.sibling;e!==null;)vd(e,t,r),e=e.sibling}var tt=null,tr=!1;function Vr(e,t,r){for(r=r.child;r!==null;)Ev(e,t,r),r=r.sibling}function Ev(e,t,r){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(jl,r)}catch{}switch(r.tag){case 5:ct||Ss(r,t);case 6:var n=tt,s=tr;tt=null,Vr(e,t,r),tt=n,tr=s,tt!==null&&(tr?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(tr?(e=tt,r=r.stateNode,e.nodeType===8?eu(e.parentNode,r):e.nodeType===1&&eu(e,r),Qi(e)):eu(tt,r.stateNode));break;case 4:n=tt,s=tr,tt=r.stateNode.containerInfo,tr=!0,Vr(e,t,r),tt=n,tr=s;break;case 0:case 11:case 14:case 15:if(!ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&md(r,t,o),s=s.next}while(s!==n)}Vr(e,t,r);break;case 1:if(!ct&&(Ss(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Re(r,t,a)}Vr(e,t,r);break;case 21:Vr(e,t,r);break;case 22:r.mode&1?(ct=(n=ct)||r.memoizedState!==null,Vr(e,t,r),ct=n):Vr(e,t,r);break;default:Vr(e,t,r)}}function Mp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new I_),t.forEach(function(n){var s=z_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,tr=!1;break e;case 3:tt=a.stateNode.containerInfo,tr=!0;break e;case 4:tt=a.stateNode.containerInfo,tr=!0;break e}a=a.return}if(tt===null)throw Error(L(160));Ev(i,o,s),tt=null,tr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cv(t,e),t=t.sibling}function Cv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),mr(e),n&4){try{Ri(3,e,e.return),$l(3,e)}catch(m){Re(e,e.return,m)}try{Ri(5,e,e.return)}catch(m){Re(e,e.return,m)}}break;case 1:Xt(t,e),mr(e),n&512&&r!==null&&Ss(r,r.return);break;case 5:if(Xt(t,e),mr(e),n&512&&r!==null&&Ss(r,r.return),e.flags&32){var s=e.stateNode;try{qi(s,"")}catch(m){Re(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zg(s,i),zu(a,o);var c=zu(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Xg(s,d):u==="dangerouslySetInnerHTML"?Qg(s,d):u==="children"?qi(s,d):rf(s,u,d,c)}switch(a){case"input":Lu(s,i);break;case"textarea":Kg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cs(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cs(s,!!i.multiple,i.defaultValue,!0):Cs(s,!!i.multiple,i.multiple?[]:"",!1))}s[ro]=i}catch(m){Re(e,e.return,m)}}break;case 6:if(Xt(t,e),mr(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Re(e,e.return,m)}}break;case 3:if(Xt(t,e),mr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(m){Re(e,e.return,m)}break;case 4:Xt(t,e),mr(e);break;case 13:Xt(t,e),mr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($f=Le())),n&4&&Mp(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ct=(c=ct)||u,Xt(t,e),ct=c):Xt(t,e),mr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(K=e,u=e.child;u!==null;){for(d=K=u;K!==null;){switch(f=K,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ri(4,f,f.return);break;case 1:Ss(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Re(n,r,m)}}break;case 5:Ss(f,f.return);break;case 22:if(f.memoizedState!==null){Up(d);continue}}p!==null?(p.return=f,K=p):Up(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yg("display",o))}catch(m){Re(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Re(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(t,e),mr(e),n&4&&Mp(e);break;case 21:break;default:Xt(t,e),mr(e)}}function mr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kv(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qi(s,""),n.flags&=-33);var i=Fp(e);vd(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Fp(e);yd(e,a,o);break;default:throw Error(L(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O_(e,t,r){K=e,Nv(e)}function Nv(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var s=K,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||aa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ct;a=aa;var c=ct;if(aa=o,(ct=l)&&!c)for(K=s;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?zp(s):l!==null?(l.return=o,K=l):zp(s);for(;i!==null;)K=i,Nv(i),i=i.sibling;K=s,aa=a,ct=c}Bp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,K=i):Bp(e)}}function Bp(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||$l(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ct)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:er(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kp(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}ct||t.flags&512&&gd(t)}catch(f){Re(t,t.return,f)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Up(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function zp(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$l(4,t)}catch(l){Re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Re(t,s,l)}}var i=t.return;try{gd(t)}catch(l){Re(t,i,l)}break;case 5:var o=t.return;try{gd(t)}catch(l){Re(t,o,l)}}}catch(l){Re(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var R_=Math.ceil,tl=zr.ReactCurrentDispatcher,Of=zr.ReactCurrentOwner,qt=zr.ReactCurrentBatchConfig,ye=0,Qe=null,ze=null,nt=0,At=0,ks=Sn(0),He=0,lo=null,Zn=0,Ll=0,Rf=0,$i=null,kt=null,$f=0,Bs=1/0,Dr=null,rl=!1,xd=null,cn=null,la=!1,tn=null,nl=0,Li=0,wd=null,Pa=-1,Aa=0;function yt(){return ye&6?Le():Pa!==-1?Pa:Pa=Le()}function un(e){return e.mode&1?ye&2&&nt!==0?nt&-nt:v_.transition!==null?(Aa===0&&(Aa=dy()),Aa):(e=we,e!==0||(e=window.event,e=e===void 0?16:vy(e.type)),e):1}function cr(e,t,r,n){if(50<Li)throw Li=0,wd=null,Error(L(185));Ro(e,r,n),(!(ye&2)||e!==Qe)&&(e===Qe&&(!(ye&2)&&(Ll|=r),He===4&&Jr(e,nt)),Dt(e,n),r===1&&ye===0&&!(t.mode&1)&&(Bs=Le()+500,Tl&&kn()))}function Dt(e,t){var r=e.callbackNode;vb(e,t);var n=Ba(e,e===Qe?nt:0);if(n===0)r!==null&&Qh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qh(r),t===1)e.tag===0?y_(Vp.bind(null,e)):Ly(Vp.bind(null,e)),h_(function(){!(ye&6)&&kn()}),r=null;else{switch(fy(n)){case 1:r=lf;break;case 4:r=cy;break;case 16:r=Ma;break;case 536870912:r=uy;break;default:r=Ma}r=Rv(r,jv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jv(e,t){if(Pa=-1,Aa=0,ye&6)throw Error(L(327));var r=e.callbackNode;if(As()&&e.callbackNode!==r)return null;var n=Ba(e,e===Qe?nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sl(e,n);else{t=n;var s=ye;ye|=2;var i=Pv();(Qe!==e||nt!==t)&&(Dr=null,Bs=Le()+500,Bn(e,t));do try{F_();break}catch(a){Dv(e,a)}while(!0);bf(),tl.current=i,ye=s,ze!==null?t=0:(Qe=null,nt=0,t=He)}if(t!==0){if(t===2&&(s=qu(e),s!==0&&(n=s,t=bd(e,s))),t===1)throw r=lo,Bn(e,0),Jr(e,n),Dt(e,Le()),r;if(t===6)Jr(e,n);else{if(s=e.current.alternate,!(n&30)&&!$_(s)&&(t=sl(e,n),t===2&&(i=qu(e),i!==0&&(n=i,t=bd(e,i))),t===1))throw r=lo,Bn(e,0),Jr(e,n),Dt(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:An(e,kt,Dr);break;case 3:if(Jr(e,n),(n&130023424)===n&&(t=$f+500-Le(),10<t)){if(Ba(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){yt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=td(An.bind(null,e,kt,Dr),t);break}An(e,kt,Dr);break;case 4:if(Jr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-lr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*R_(n/1960))-n,10<n){e.timeoutHandle=td(An.bind(null,e,kt,Dr),n);break}An(e,kt,Dr);break;case 5:An(e,kt,Dr);break;default:throw Error(L(329))}}}return Dt(e,Le()),e.callbackNode===r?jv.bind(null,e):null}function bd(e,t){var r=$i;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=sl(e,t),e!==2&&(t=kt,kt=r,t!==null&&_d(t)),e}function _d(e){kt===null?kt=e:kt.push.apply(kt,e)}function $_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~Rf,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lr(t),n=1<<r;e[r]=-1,t&=~n}}function Vp(e){if(ye&6)throw Error(L(327));As();var t=Ba(e,0);if(!(t&1))return Dt(e,Le()),null;var r=sl(e,t);if(e.tag!==0&&r===2){var n=qu(e);n!==0&&(t=n,r=bd(e,n))}if(r===1)throw r=lo,Bn(e,0),Jr(e,t),Dt(e,Le()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,kt,Dr),Dt(e,Le()),null}function Lf(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Bs=Le()+500,Tl&&kn())}}function Kn(e){tn!==null&&tn.tag===0&&!(ye&6)&&As();var t=ye;ye|=1;var r=qt.transition,n=we;try{if(qt.transition=null,we=1,e)return e()}finally{we=n,qt.transition=r,ye=t,!(ye&6)&&kn()}}function Ff(){At=ks.current,je(ks)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,f_(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(vf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ga();break;case 3:Fs(),je(Nt),je(ut),Nf();break;case 5:Cf(n);break;case 4:Fs();break;case 13:je(Ie);break;case 19:je(Ie);break;case 10:_f(n.type._context);break;case 22:case 23:Ff()}r=r.return}if(Qe=e,ze=e=dn(e.current,null),nt=At=t,He=0,lo=null,Rf=Ll=Zn=0,kt=$i=null,$n!==null){for(t=0;t<$n.length;t++)if(r=$n[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}$n=null}return e}function Dv(e,t){do{var r=ze;try{if(bf(),Na.current=el,Xa){for(var n=Te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xa=!1}if(qn=0,Je=Ge=Te=null,Oi=!1,io=0,Of.current=null,r===null||r.return===null){He=1,lo=t,ze=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Pp(o);if(p!==null){p.flags&=-257,Ap(p,o,a,i,t),p.mode&1&&Dp(i,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var m=new Set;m.add(l),t.updateQueue=m}else x.add(l);break e}else{if(!(t&1)){Dp(i,c,t),Mf();break e}l=Error(L(426))}}else if(De&&a.mode&1){var b=Pp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ap(b,o,a,i,t),xf(Ms(l,a));break e}}i=l=Ms(l,a),He!==4&&(He=2),$i===null?$i=[i]:$i.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=fv(i,l,t);Sp(i,y);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cn===null||!cn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=hv(i,a,t);Sp(i,S);break e}}i=i.return}while(i!==null)}Iv(r)}catch(k){t=k,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function Pv(){var e=tl.current;return tl.current=el,e===null?el:e}function Mf(){(He===0||He===3||He===2)&&(He=4),Qe===null||!(Zn&268435455)&&!(Ll&268435455)||Jr(Qe,nt)}function sl(e,t){var r=ye;ye|=2;var n=Pv();(Qe!==e||nt!==t)&&(Dr=null,Bn(e,t));do try{L_();break}catch(s){Dv(e,s)}while(!0);if(bf(),ye=r,tl.current=n,ze!==null)throw Error(L(261));return Qe=null,nt=0,He}function L_(){for(;ze!==null;)Av(ze)}function F_(){for(;ze!==null&&!cb();)Av(ze)}function Av(e){var t=Ov(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?Iv(e):ze=t,Of.current=null}function Iv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=A_(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,ze=null;return}}else if(r=P_(r,t,At),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);He===0&&(He=5)}function An(e,t,r){var n=we,s=qt.transition;try{qt.transition=null,we=1,M_(e,t,r,n)}finally{qt.transition=s,we=n}return null}function M_(e,t,r,n){do As();while(tn!==null);if(ye&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(xb(e,i),e===Qe&&(ze=Qe=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||la||(la=!0,Rv(Ma,function(){return As(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var o=we;we=1;var a=ye;ye|=4,Of.current=null,T_(e,r),Cv(r,e),i_(Xu),Ua=!!Yu,Xu=Yu=null,e.current=r,O_(r),ub(),ye=a,we=o,qt.transition=i}else e.current=r;if(la&&(la=!1,tn=e,nl=s),i=e.pendingLanes,i===0&&(cn=null),hb(r.stateNode),Dt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(rl)throw rl=!1,e=xd,xd=null,e;return nl&1&&e.tag!==0&&As(),i=e.pendingLanes,i&1?e===wd?Li++:(Li=0,wd=e):Li=0,kn(),null}function As(){if(tn!==null){var e=fy(nl),t=qt.transition,r=we;try{if(qt.transition=null,we=16>e?16:e,tn===null)var n=!1;else{if(e=tn,tn=null,nl=0,ye&6)throw Error(L(331));var s=ye;for(ye|=4,K=e.current;K!==null;){var i=K,o=i.child;if(K.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var u=K;switch(u.tag){case 0:case 11:case 15:Ri(8,u,i)}var d=u.child;if(d!==null)d.return=u,K=d;else for(;K!==null;){u=K;var f=u.sibling,p=u.return;if(Sv(u),u===c){K=null;break}if(f!==null){f.return=p,K=f;break}K=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}K=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,K=o;else e:for(;K!==null;){if(i=K,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ri(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,K=y;break e}K=i.return}}var g=e.current;for(K=g;K!==null;){o=K;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,K=v;else e:for(o=g;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$l(9,a)}}catch(k){Re(a,a.return,k)}if(a===o){K=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,K=S;break e}K=a.return}}if(ye=s,kn(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(jl,e)}catch{}n=!0}return n}finally{we=r,qt.transition=t}}return!1}function Wp(e,t,r){t=Ms(r,t),t=fv(e,t,1),e=ln(e,t,1),t=yt(),e!==null&&(Ro(e,1,t),Dt(e,t))}function Re(e,t,r){if(e.tag===3)Wp(e,e,r);else for(;t!==null;){if(t.tag===3){Wp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cn===null||!cn.has(n))){e=Ms(r,e),e=hv(t,e,1),t=ln(t,e,1),e=yt(),t!==null&&(Ro(t,1,e),Dt(t,e));break}}t=t.return}}function B_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(nt&r)===r&&(He===4||He===3&&(nt&130023424)===nt&&500>Le()-$f?Bn(e,0):Rf|=r),Dt(e,t)}function Tv(e,t){t===0&&(e.mode&1?(t=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):t=1);var r=yt();e=Fr(e,t),e!==null&&(Ro(e,t,r),Dt(e,r))}function U_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tv(e,r)}function z_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),Tv(e,r)}var Ov;Ov=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)Ct=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ct=!1,D_(e,t,r);Ct=!!(e.flags&131072)}else Ct=!1,De&&t.flags&1048576&&Fy(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Da(e,t),e=t.pendingProps;var s=Rs(t,ut.current);Ps(t,r),s=Df(null,t,n,e,s,r);var i=Pf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(n)?(i=!0,Ha(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kf(t),s.updater=Rl,t.stateNode=s,s._reactInternals=t,ld(t,n,e,r),t=dd(null,t,n,!0,i,r)):(t.tag=0,De&&i&&yf(t),pt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Da(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=W_(n),e=er(n,e),s){case 0:t=ud(null,t,n,e,r);break e;case 1:t=Op(null,t,n,e,r);break e;case 11:t=Ip(null,t,n,e,r);break e;case 14:t=Tp(null,t,n,er(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),ud(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),Op(e,t,n,s,r);case 3:e:{if(yv(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Wy(e,t),Qa(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ms(Error(L(423)),t),t=Rp(e,t,n,r,s);break e}else if(n!==s){s=Ms(Error(L(424)),t),t=Rp(e,t,n,r,s);break e}else for(It=an(t.stateNode.containerInfo.firstChild),Ot=t,De=!0,nr=null,r=zy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===s){t=Mr(e,t,r);break e}pt(e,t,n,r)}t=t.child}return t;case 5:return Gy(t),e===null&&id(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ed(n,s)?o=null:i!==null&&ed(n,i)&&(t.flags|=32),gv(e,t),pt(e,t,o,r),t.child;case 6:return e===null&&id(t),null;case 13:return vv(e,t,r);case 4:return Ef(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ls(t,null,n,r):pt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),Ip(e,t,n,s,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ce(Ka,n._currentValue),n._currentValue=o,i!==null)if(dr(i.value,o)){if(i.children===s.children&&!Nt.current){t=Mr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Rr(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),od(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),od(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ps(t,r),s=Jt(s),n=n(s),t.flags|=1,pt(e,t,n,r),t.child;case 14:return n=t.type,s=er(n,t.pendingProps),s=er(n.type,s),Tp(e,t,n,s,r);case 15:return pv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:er(n,s),Da(e,t),t.tag=1,jt(n)?(e=!0,Ha(t)):e=!1,Ps(t,r),dv(t,n,s),ld(t,n,s,r),dd(null,t,n,!0,e,r);case 19:return xv(e,t,r);case 22:return mv(e,t,r)}throw Error(L(156,t.tag))};function Rv(e,t){return ly(e,t)}function V_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,r,n){return new V_(e,t,r,n)}function Bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W_(e){if(typeof e=="function")return Bf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sf)return 11;if(e===of)return 14}return 2}function dn(e,t){var r=e.alternate;return r===null?(r=Gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ia(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Bf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ps:return Un(r.children,s,i,t);case nf:o=8,s|=8;break;case Iu:return e=Gt(12,r,t,s|2),e.elementType=Iu,e.lanes=i,e;case Tu:return e=Gt(13,r,t,s),e.elementType=Tu,e.lanes=i,e;case Ou:return e=Gt(19,r,t,s),e.elementType=Ou,e.lanes=i,e;case Gg:return Fl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vg:o=10;break e;case Wg:o=9;break e;case sf:o=11;break e;case of:o=14;break e;case Hr:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Gt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Un(e,t,r,n){return e=Gt(7,e,n,t),e.lanes=r,e}function Fl(e,t,r,n){return e=Gt(22,e,n,t),e.elementType=Gg,e.lanes=r,e.stateNode={isHidden:!1},e}function lu(e,t,r){return e=Gt(6,e,null,t),e.lanes=r,e}function cu(e,t,r){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uf(e,t,r,n,s,i,o,a,l){return e=new G_(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(i),e}function H_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $v(e){if(!e)return gn;e=e._reactInternals;e:{if(rs(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(jt(r))return $y(e,r,t)}return t}function Lv(e,t,r,n,s,i,o,a,l){return e=Uf(r,n,!0,e,s,i,o,a,l),e.context=$v(null),r=e.current,n=yt(),s=un(r),i=Rr(n,s),i.callback=t??null,ln(r,i,s),e.current.lanes=s,Ro(e,s,n),Dt(e,n),e}function Ml(e,t,r,n){var s=t.current,i=yt(),o=un(s);return r=$v(r),t.context===null?t.context=r:t.pendingContext=r,t=Rr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ln(s,t,o),e!==null&&(cr(e,s,o,i),Ca(e,s,o)),o}function il(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zf(e,t){Gp(e,t),(e=e.alternate)&&Gp(e,t)}function q_(){return null}var Fv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vf(e){this._internalRoot=e}Bl.prototype.render=Vf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ml(e,t,null,null)};Bl.prototype.unmount=Vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){Ml(null,e,null,null)}),t[Lr]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=my();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kr.length&&t!==0&&t<Kr[r].priority;r++);Kr.splice(r,0,e),r===0&&yy(e)}};function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hp(){}function Z_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=il(o);i.call(c)}}var o=Lv(t,n,e,0,null,!1,!1,"",Hp);return e._reactRootContainer=o,e[Lr]=o.current,eo(e.nodeType===8?e.parentNode:e),Kn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=il(l);a.call(c)}}var l=Uf(e,0,!1,null,null,!1,!1,"",Hp);return e._reactRootContainer=l,e[Lr]=l.current,eo(e.nodeType===8?e.parentNode:e),Kn(function(){Ml(t,l,r,n)}),l}function zl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=il(o);a.call(l)}}Ml(t,o,e,s)}else o=Z_(r,t,e,s,n);return il(o)}hy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ki(t.pendingLanes);r!==0&&(cf(t,r|1),Dt(t,Le()),!(ye&6)&&(Bs=Le()+500,kn()))}break;case 13:Kn(function(){var n=Fr(e,1);if(n!==null){var s=yt();cr(n,e,1,s)}}),zf(e,1)}};uf=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var r=yt();cr(t,e,134217728,r)}zf(e,134217728)}};py=function(e){if(e.tag===13){var t=un(e),r=Fr(e,t);if(r!==null){var n=yt();cr(r,e,t,n)}zf(e,t)}};my=function(){return we};gy=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Wu=function(e,t,r){switch(t){case"input":if(Lu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Il(n);if(!s)throw Error(L(90));qg(n),Lu(n,s)}}}break;case"textarea":Kg(e,r);break;case"select":t=r.value,t!=null&&Cs(e,!!r.multiple,t,!1)}};ry=Lf;ny=Kn;var K_={usingClientEntryPoint:!1,Events:[Lo,vs,Il,ey,ty,Lf]},mi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J_={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oy(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||q_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{jl=ca.inject(J_),br=ca}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K_;Mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(t))throw Error(L(200));return H_(e,t,null,r)};Mt.createRoot=function(e,t){if(!Wf(e))throw Error(L(299));var r=!1,n="",s=Fv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uf(e,1,!1,null,null,r,!1,n,s),e[Lr]=t.current,eo(e.nodeType===8?e.parentNode:e),new Vf(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=oy(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Kn(e)};Mt.hydrate=function(e,t,r){if(!Ul(t))throw Error(L(200));return zl(null,e,t,!0,r)};Mt.hydrateRoot=function(e,t,r){if(!Wf(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Fv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Lv(t,null,e,1,r??null,s,!1,i,o),e[Lr]=t.current,eo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Bl(t)};Mt.render=function(e,t,r){if(!Ul(t))throw Error(L(200));return zl(null,e,t,!1,r)};Mt.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(L(40));return e._reactRootContainer?(Kn(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};Mt.unstable_batchedUpdates=Lf;Mt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ul(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return zl(e,t,r,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(e){console.error(e)}}Mv(),Mg.exports=Mt;var Mo=Mg.exports;const Q_=Kd(Mo);var Bv,qp=Mo;Bv=qp.createRoot,qp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}var rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rn||(rn={}));const Zp="popstate";function Y_(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Sd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zv(s)}return e1(t,r,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X_(){return Math.random().toString(36).substr(2,8)}function Kp(e,t){return{usr:e.state,key:e.key,idx:t}}function Sd(e,t,r,n){return r===void 0&&(r=null),co({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xs(t):t,{state:r,key:t&&t.key||n||X_()})}function zv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function e1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=rn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(co({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=rn.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:m.location,delta:y})}function f(b,y){a=rn.Push;let g=Sd(m.location,b,y);c=u()+1;let v=Kp(g,c),S=m.createHref(g);try{o.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:m.location,delta:1})}function p(b,y){a=rn.Replace;let g=Sd(m.location,b,y);c=u();let v=Kp(g,c),S=m.createHref(g);o.replaceState(v,"",S),i&&l&&l({action:a,location:m.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:zv(b);return g=g.replace(/ $/,"%20"),qe(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Zp,d),l=b,()=>{s.removeEventListener(Zp,d),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return m}var Jp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jp||(Jp={}));function t1(e,t,r){return r===void 0&&(r="/"),r1(e,t,r,!1)}function r1(e,t,r,n){let s=typeof t=="string"?Xs(t):t,i=Gv(s.pathname||"/",r);if(i==null)return null;let o=Vv(e);n1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=p1(i);a=f1(o[l],c,n)}return a}function Vv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=zn([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Vv(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:u1(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Wv(i.path))s(i,o,l)}),t}function Wv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Wv(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function n1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:d1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const s1=/^:[\w-]+$/,i1=3,o1=2,a1=1,l1=10,c1=-2,Qp=e=>e==="*";function u1(e,t){let r=e.split("/"),n=r.length;return r.some(Qp)&&(n+=c1),t&&(n+=o1),r.filter(s=>!Qp(s)).reduce((s,i)=>s+(s1.test(i)?i1:i===""?a1:l1),n)}function d1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function f1(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Yp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=Yp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:zn([i,d.pathname]),pathnameBase:w1(zn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=zn([i,d.pathnameBase]))}return o}function Yp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=h1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[d];return p&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function h1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Uv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function p1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function m1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Xs(e):e;return{pathname:r?r.startsWith("/")?r:g1(r,t):t,search:b1(n),hash:_1(s)}}function g1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function uu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function v1(e,t){let r=y1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function x1(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Xs(e):(s=co({},e),qe(!s.pathname||!s.pathname.includes("?"),uu("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),uu("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),uu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=m1(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zn=e=>e.join("/").replace(/\/\/+/g,"/"),w1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hv=["post","put","patch","delete"];new Set(Hv);const k1=["get",...Hv];new Set(k1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}const Gf=w.createContext(null),E1=w.createContext(null),Vl=w.createContext(null),Wl=w.createContext(null),ei=w.createContext({outlet:null,matches:[],isDataRoute:!1}),qv=w.createContext(null);function Gl(){return w.useContext(Wl)!=null}function Zv(){return Gl()||qe(!1),w.useContext(Wl).location}function Kv(e){w.useContext(Vl).static||w.useLayoutEffect(e)}function Hf(){let{isDataRoute:e}=w.useContext(ei);return e?F1():C1()}function C1(){Gl()||qe(!1);let e=w.useContext(Gf),{basename:t,future:r,navigator:n}=w.useContext(Vl),{matches:s}=w.useContext(ei),{pathname:i}=Zv(),o=JSON.stringify(v1(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return Kv(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=x1(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:zn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function N1(e,t){return j1(e,t)}function j1(e,t,r,n){Gl()||qe(!1);let{navigator:s,static:i}=w.useContext(Vl),{matches:o}=w.useContext(ei),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Zv(),d;if(t){var f;let y=typeof t=="string"?Xs(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||qe(!1),d=y}else d=u;let p=d.pathname||"/",x=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:t1(e,{pathname:x}),b=T1(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:zn([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:zn([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&b?w.createElement(Wl.Provider,{value:{location:uo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rn.Pop}},b):b}function D1(){let e=L1(),t=S1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const P1=w.createElement(D1,null);class A1 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(ei.Provider,{value:this.props.routeContext},w.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I1(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(Gf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(ei.Provider,{value:t},n)}function T1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||qe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=r,x=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,x=!1,m=null,b=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||P1,l&&(c<0&&f===0?(x=!0,b=null):c===f&&(x=!0,b=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),g=()=>{let v;return p?v=m:x?v=b:d.route.Component?v=w.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,w.createElement(I1,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(A1,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Jv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jv||{}),ol=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ol||{});function O1(e){let t=w.useContext(Gf);return t||qe(!1),t}function R1(e){let t=w.useContext(E1);return t||qe(!1),t}function $1(e){let t=w.useContext(ei);return t||qe(!1),t}function Qv(e){let t=$1(),r=t.matches[t.matches.length-1];return r.route.id||qe(!1),r.route.id}function L1(){var e;let t=w.useContext(qv),r=R1(ol.UseRouteError),n=Qv(ol.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function F1(){let{router:e}=O1(Jv.UseNavigateStable),t=Qv(ol.UseNavigateStable),r=w.useRef(!1);return Kv(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,uo({fromRouteId:t},i)))},[e,t])}function M1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function us(e){qe(!1)}function B1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=rn.Pop,navigator:i,static:o=!1,future:a}=e;Gl()&&qe(!1);let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:uo({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Xs(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:x="default"}=n,m=w.useMemo(()=>{let b=Gv(u,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:x},navigationType:s}},[l,u,d,f,p,x,s]);return m==null?null:w.createElement(Vl.Provider,{value:c},w.createElement(Wl.Provider,{children:r,value:m}))}function U1(e){let{children:t,location:r}=e;return N1(kd(t),r)}new Promise(()=>{});function kd(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,kd(n.props.children,i));return}n.type!==us&&qe(!1),!n.props.index||!n.props.children||qe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=kd(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const z1="6";try{window.__reactRouterVersion=z1}catch{}const V1="startTransition",Xp=Bw[V1];function W1(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=Y_({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=w.useCallback(d=>{c&&Xp?Xp(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>M1(n),[n]),w.createElement(B1,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var em;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(em||(em={}));var tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tm||(tm={}));let G1={data:""},H1=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||G1,q1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Z1=/\/\*[^]*?\*\/|  +/g,rm=/\n+/g,Qr=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Qr(o,i):i+"{"+Qr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Qr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Qr.p?Qr.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Cr={},Yv=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Yv(e[r]);return t}return e},K1=(e,t,r,n,s)=>{let i=Yv(e),o=Cr[i]||(Cr[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Cr[o]){let l=i!==e?e:(c=>{let u,d,f=[{}];for(;u=q1.exec(c.replace(Z1,""));)u[4]?f.shift():u[3]?(d=u[3].replace(rm," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(rm," ").trim();return f[0]})(e);Cr[o]=Qr(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Cr.g?Cr.g:null;return r&&(Cr.g=Cr[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Cr[o],t,n,a),o},J1=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Qr(a,""):a===!1?"":a}return n+s+(o??"")},"");function Hl(e){let t=this||{},r=e.call?e(t.p):e;return K1(r.unshift?r.raw?J1(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,H1(t.target),t.g,t.o,t.k)}let Xv,Ed,Cd;Hl.bind({g:1});let Br=Hl.bind({k:1});function Q1(e,t,r,n){Qr.p=t,Xv=e,Ed=r,Cd=n}function En(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:Ed&&Ed()},a),r.o=/ *go\d+/.test(l),a.className=Hl.apply(r,n)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Cd&&c[0]&&Cd(a),Xv(c,a)}return s}}var Y1=e=>typeof e=="function",al=(e,t)=>Y1(e)?e(t):e,X1=(()=>{let e=0;return()=>(++e).toString()})(),e0=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),eS=20,t0=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,eS)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return t0(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ta=[],Fn={toasts:[],pausedAt:void 0},ns=e=>{Fn=t0(Fn,e),Ta.forEach(t=>{t(Fn)})},tS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rS=(e={})=>{let[t,r]=w.useState(Fn),n=w.useRef(Fn);w.useEffect(()=>(n.current!==Fn&&r(Fn),Ta.push(r),()=>{let i=Ta.indexOf(r);i>-1&&Ta.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||tS[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},nS=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||X1()}),Bo=e=>(t,r)=>{let n=nS(t,e,r);return ns({type:2,toast:n}),n.id},gt=(e,t)=>Bo("blank")(e,t);gt.error=Bo("error");gt.success=Bo("success");gt.loading=Bo("loading");gt.custom=Bo("custom");gt.dismiss=e=>{ns({type:3,toastId:e})};gt.remove=e=>ns({type:4,toastId:e});gt.promise=(e,t,r)=>{let n=gt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?al(t.success,s):void 0;return i?gt.success(i,{id:n,...r,...r==null?void 0:r.success}):gt.dismiss(n),s}).catch(s=>{let i=t.error?al(t.error,s):void 0;i?gt.error(i,{id:n,...r,...r==null?void 0:r.error}):gt.dismiss(n)}),e};var sS=(e,t)=>{ns({type:1,toast:{id:e,height:t}})},iS=()=>{ns({type:5,time:Date.now()})},Fi=new Map,oS=1e3,aS=(e,t=oS)=>{if(Fi.has(e))return;let r=setTimeout(()=>{Fi.delete(e),ns({type:4,toastId:e})},t);Fi.set(e,r)},lS=e=>{let{toasts:t,pausedAt:r}=rS(e);w.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&gt.dismiss(a.id);return}return setTimeout(()=>gt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=w.useCallback(()=>{r&&ns({type:6,time:Date.now()})},[r]),s=w.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=t.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),f=u.filter((p,x)=>x<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,x)=>p+(x.height||0)+l,0)},[t]);return w.useEffect(()=>{t.forEach(i=>{if(i.dismissed)aS(i.id,i.removeDelay);else{let o=Fi.get(i.id);o&&(clearTimeout(o),Fi.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:sS,startPause:iS,endPause:n,calculateOffset:s}}},cS=Br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,uS=Br`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dS=Br`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fS=En("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${uS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hS=Br`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pS=En("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${hS} 1s linear infinite;
`,mS=Br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gS=Br`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yS=En("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vS=En("div")`
  position: absolute;
`,xS=En("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wS=Br`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bS=En("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_S=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(bS,null,t):t:r==="blank"?null:w.createElement(xS,null,w.createElement(pS,{...n}),r!=="loading"&&w.createElement(vS,null,r==="error"?w.createElement(fS,{...n}):w.createElement(yS,{...n})))},SS=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kS=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ES="0%{opacity:0;} 100%{opacity:1;}",CS="0%{opacity:1;} 100%{opacity:0;}",NS=En("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jS=En("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DS=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=e0()?[ES,CS]:[SS(r),kS(r)];return{animation:t?`${Br(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Br(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PS=w.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?DS(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(_S,{toast:e}),o=w.createElement(jS,{...e.ariaProps},al(e.message,e));return w.createElement(NS,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});Q1(w.createElement);var AS=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:i,className:t,style:r},s)},IS=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:e0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},TS=Hl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ua=16,OS=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=lS(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ua,left:ua,right:ua,bottom:ua,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||t,d=l.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),f=IS(u,d);return w.createElement(AS,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?TS:"",style:f},c.type==="custom"?al(c.message,c):s?s(c):w.createElement(PS,{toast:c,position:u}))}))},re=gt;/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>w.createElement("svg",{ref:u,...RS,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${$S(e)}`,a].join(" "),...c},[...t.map(([d,f])=>w.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=be("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=be("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=be("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=be("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ZS="modulepreload",KS=function(e){return"/"+e},lm={},Us=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=KS(l),l in lm)return;lm[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":ZS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},JS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Us(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Qf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class QS extends Qf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class YS extends Qf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class XS extends Qf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dd||(Dd={}));var ek=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class tk{constructor(t,{headers:r={},customFetch:n,region:s=Dd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return ek(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new QS(x)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new YS(u);if(!u.ok)throw new XS(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Et={},Yf={},Kl={},Uo={},Jl={},Ql={},rk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=rk();const nk=zs.fetch,i0=zs.fetch.bind(zs),o0=zs.Headers,sk=zs.Request,ik=zs.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:o0,Request:sk,Response:ik,default:i0,fetch:nk},Symbol.toStringTag,{value:"Module"})),ok=kw(ti);var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});let ak=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Yl.default=ak;var a0=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const lk=a0(ok),ck=a0(Yl);let uk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&m===""?(f=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new ck.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ql.default=uk;var dk=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jl,"__esModule",{value:!0});const fk=dk(Ql);let hk=class extends fk.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jl.default=hk;var pk=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uo,"__esModule",{value:!0});const mk=pk(Jl);let gk=class extends mk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uo.default=gk;var yk=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kl,"__esModule",{value:!0});const gi=yk(Uo);let vk=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new gi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Kl.default=vk;var Xl={},ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.version=void 0;ec.version="0.0.0-automated";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.DEFAULT_HEADERS=void 0;const xk=ec;Xl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xk.version}`};var l0=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yf,"__esModule",{value:!0});const wk=l0(Kl),bk=l0(Uo),_k=Xl;let Sk=class c0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},_k.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new wk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new c0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new bk.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Yf.default=Sk;var ri=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Et,"__esModule",{value:!0});Et.PostgrestError=Et.PostgrestBuilder=Et.PostgrestTransformBuilder=Et.PostgrestFilterBuilder=Et.PostgrestQueryBuilder=Et.PostgrestClient=void 0;const u0=ri(Yf);Et.PostgrestClient=u0.default;const d0=ri(Kl);Et.PostgrestQueryBuilder=d0.default;const f0=ri(Uo);Et.PostgrestFilterBuilder=f0.default;const h0=ri(Jl);Et.PostgrestTransformBuilder=h0.default;const p0=ri(Ql);Et.PostgrestBuilder=p0.default;const m0=ri(Yl);Et.PostgrestError=m0.default;var kk=Et.default={PostgrestClient:u0.default,PostgrestQueryBuilder:d0.default,PostgrestFilterBuilder:f0.default,PostgrestTransformBuilder:h0.default,PostgrestBuilder:p0.default,PostgrestError:m0.default};const{PostgrestClient:Ek,PostgrestQueryBuilder:oT,PostgrestFilterBuilder:aT,PostgrestTransformBuilder:lT,PostgrestBuilder:cT,PostgrestError:uT}=kk,Ck="2.11.2",Nk={"X-Client-Info":`realtime-js/${Ck}`},jk="1.0.0",g0=1e4,Dk=1e3;var Is;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Is||(Is={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var rr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rr||(rr={}));var Pd;(function(e){e.websocket="websocket"})(Pd||(Pd={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class Pk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class y0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const cm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ak(o,e,t,s),i),{})},Ak=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?v0(i,o):Ad(o)},v0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Rk(t,r)}switch(e){case Ee.bool:return Ik(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Tk(t);case Ee.json:case Ee.jsonb:return Ok(t);case Ee.timestamp:return $k(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Ad(t);default:return Ad(t)}},Ad=e=>e,Ik=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Tk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ok=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Rk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>v0(t,a))}return e},$k=e=>typeof e=="string"?e.replace(" ","T"):e,x0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class du{constructor(t,r,n={},s=g0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var um;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(um||(um={}));class Mi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Mi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),x=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(a[c]=x),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dm||(dm={}));var fm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fm||(fm={}));var Pr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pr||(Pr={}));class Xf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new du(this,rr.join,this.params,this.timeout),this.rejoinTimer=new y0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Mi(this),this.broadcastEndpointURL=x0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Pr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Pr.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(Pr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,x=[];for(let m=0;m<p;m++){const b=f[m],{filter:{event:y,schema:g,table:v,filter:S}}=b,k=u&&u[m];if(k&&k.event===y&&k.schema===g&&k.table===v&&k.filter===S)x.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(Pr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Pr.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Pr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new du(this,rr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new du(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=rr;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,m,b,y,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,k=(x=p.filter)===null||x===void 0?void 0:x.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:m,table:b,commit_timestamp:y,type:g,errors:v}=x;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(x))}p.callback(f,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rr.close,{},t)}_onError(t){this._on(rr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=cm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=cm(t.columns,t.old_record)),r}}const Lk=()=>{},Fk=typeof WebSocket<"u",Mk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nk,this.params={},this.timeout=g0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lk,this.conn=null,this.sendBuffer=[],this.serializer=new Pk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Us(async()=>{const{default:l}=await Promise.resolve().then(()=>ti);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Pd.websocket}`,this.httpEndpoint=x0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new y0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Fk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Uk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Us(async()=>{const{default:t}=await import("./browser-DQzlDJI7.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jk}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Is.connecting:return On.Connecting;case Is.open:return On.Open;case Is.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}channel(t,r={config:{}}){const n=new Xf(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(rr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Dk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Mk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Uk{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Is.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class eh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ke(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zk extends eh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Id extends eh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Vk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const w0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Us(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Wk=()=>Vk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Us(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),Td=e=>{if(Array.isArray(e))return e.map(r=>Td(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Td(n)}),t};var ss=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const fu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gk=(e,t,r)=>ss(void 0,void 0,void 0,function*(){const n=yield Wk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new zk(fu(s),e.status||500))}).catch(s=>{t(new Id(fu(s),s))}):t(new Id(fu(e),e))}),Hk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function zo(e,t,r,n,s,i){return ss(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Hk(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gk(l,a,n))})})}function ll(e,t,r,n){return ss(this,void 0,void 0,function*(){return zo(e,"GET",t,r,n)})}function Zr(e,t,r,n,s){return ss(this,void 0,void 0,function*(){return zo(e,"POST",t,n,s,r)})}function qk(e,t,r,n,s){return ss(this,void 0,void 0,function*(){return zo(e,"PUT",t,n,s,r)})}function Zk(e,t,r,n){return ss(this,void 0,void 0,function*(){return zo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function b0(e,t,r,n,s){return ss(this,void 0,void 0,function*(){return zo(e,"DELETE",t,n,s,r)})}var _t=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Kk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=w0(s)}uploadOrUpdate(t,r,n,s){return _t(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}upload(t,r,n){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return _t(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:hm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return _t(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Zr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new eh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}update(t,r,n){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _t(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}copy(t,r,n){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield Zr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return _t(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Zr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return _t(this,void 0,void 0,function*(){try{const s=yield Zr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}download(t,r){return _t(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ll(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}info(t){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ll(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Td(n),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}exists(t){return _t(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Zk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ke(n)&&n instanceof Id){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return _t(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}list(t,r,n){return _t(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kk),r),{prefix:t||""});return{data:yield Zr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Qk="2.7.1",Yk={"X-Client-Info":`storage-js/${Qk}`};var os=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Xk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Yk),r),this.fetch=w0(n)}listBuckets(){return os(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ke(t))return{data:null,error:t};throw t}})}getBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return os(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return os(this,void 0,void 0,function*(){try{return{data:yield qk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}}class eE extends Xk{constructor(t,r={},n){super(t,r,n)}from(t){return new Jk(this.url,this.headers,t,this.fetch)}}const tE="2.49.4";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const rE={"X-Client-Info":`supabase-js-${Ci}/${tE}`},nE={headers:rE},sE={schema:"public"},iE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oE={};var aE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const lE=e=>{let t;return e?t=e:typeof fetch>"u"?t=i0:t=fetch,(...r)=>t(...r)},cE=()=>typeof Headers>"u"?o0:Headers,uE=(e,t,r)=>{const n=lE(r),s=cE();return(i,o)=>aE(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var dE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function fE(e){return e.replace(/\/$/,"")}function hE(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>dE(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const _0="2.69.1",ds=30*1e3,Od=3,hu=Od*ds,pE="http://localhost:9999",mE="supabase.auth.token",gE={"X-Client-Info":`gotrue-js/${_0}`},Rd="X-Supabase-Api-Version",S0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vE=6e5;class th extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xE extends th{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wE(e){return ce(e)&&e.name==="AuthApiError"}class k0 extends th{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Cn extends th{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Wr extends Cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bE(e){return ce(e)&&e.name==="AuthSessionMissingError"}class pu extends Cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class da extends Cn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fa extends Cn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _E(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class pm extends Cn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $d extends Cn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mu(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class mm extends Cn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bi extends Cn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ym=` 	
\r=`.split(""),SE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ym.length;t+=1)e[ym[t].charCodeAt(0)]=-2;for(let t=0;t<gm.length;t+=1)e[gm[t].charCodeAt(0)]=t;return e})();function E0(e,t,r){const n=SE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vm(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{CE(o,n,r)};for(let o=0;o<e.length;o+=1)E0(e.charCodeAt(o),s,i);return t.join("")}function kE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kE(n,t)}}function CE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function NE(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)E0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function jE(e){const t=[];return EE(e,r=>t.push(r)),new Uint8Array(t)}function DE(e){return Math.round(Date.now()/1e3)+e}function PE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const gr=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Ui=()=>{if(!gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function AE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const C0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Us(async()=>{const{default:n}=await Promise.resolve().then(()=>ti);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",N0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ha=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pa=async(e,t)=>{await e.removeItem(t)};class tc{constructor(){this.promise=new tc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}tc.promiseConstructor=Promise;function gu(e){const t=e.split(".");if(t.length!==3)throw new Bi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yE.test(t[n]))throw new Bi("JWT not in base64url format");return{header:JSON.parse(vm(t[0])),payload:JSON.parse(vm(t[1])),signature:NE(t[2]),raw:{header:t[0],payload:t[1]}}}async function TE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function RE(e){return("0"+e.toString(16)).substr(-2)}function $E(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,RE).join("")}async function LE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function FE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function as(e,t,r=!1){const n=$E();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await N0(e,`${t}-code-verifier`,s);const i=await FE(n);return[i,n===i?"plain":"s256"]}const ME=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BE(e){const t=e.headers.get(Rd);if(!t||!t.match(ME))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var VE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WE=[502,503,504];async function xm(e){var t;if(!IE(e))throw new $d(In(e),0);if(WE.includes(e.status))throw new $d(In(e),e.status);let r;try{r=await e.json()}catch(i){throw new k0(In(i),i)}let n;const s=BE(e);if(s&&s.getTime()>=S0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mm(In(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Wr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mm(In(r),e.status,r.weak_password.reasons);throw new xE(In(r),e.status||500,n)}const GE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function he(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Rd]||(i[Rd]=S0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await HE(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function HE(e,t,r,n,s,i){const o=GE(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new $d(In(l),0)}if(a.ok||await xm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await xm(l)}}function Gr(e){var t;let r=null;JE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function wm(e){const t=Gr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qE(e){return{data:e,error:null}}function ZE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=VE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function KE(e){return e}function JE(e){return e.access_token&&e.refresh_token&&e.expires_in}var QE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class YE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=C0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=QE(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:KE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ce(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yr})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yr})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}const XE={getItem:e=>Ui()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ui()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ui()&&globalThis.localStorage.removeItem(e)}};function bm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function eC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ls={debug:!!(globalThis&&Ui()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tC extends j0{}async function rC(e,t,r){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ls.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}eC();const nC={url:pE,storageKey:mE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _m(e,t,r){return await r()}class fo{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fo.nextInstanceID,fo.nextInstanceID+=1,this.instanceID>0&&gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},nC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new YE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=C0(s.fetch),this.lock=s.lock||_m,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:gr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rC:this.lock=_m,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ui()?this.storage=XE:(this.memoryStorage={},this.storage=bm(this.memoryStorage)):(this.memoryStorage={},this.storage=bm(this.memoryStorage)),gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),gr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_E(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?{error:r}:{error:new k0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await as(this.storage,this.storageKey)),i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:Gr})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Gr})}else throw new da("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wm})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wm})}else throw new da("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gr});if(await pa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ce(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await as(this.storage,this.storageKey));const{error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new da("You must provide either an email or phone number.")}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await as(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qE})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Wr;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new da("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yr})})}catch(r){if(ce(r))return bE(r)&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Wr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await as(this.storage,this.storageKey));const{data:c,error:u}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Yr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=gu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Wr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!gr())throw new fa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pm("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new fa("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const x=f-d;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,u);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(wE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=PE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await as(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return gr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OE(async s=>(s>0&&await TE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&mu(i)&&Date.now()+o-n<ds})}catch(n){if(this._debug(r,"error",n),ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ha(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${hu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),mu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Wr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ce(i)){const o={session:null,error:i};return mu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await N0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await pa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ds}ms, refresh threshold is ${Od} ticks`),s<=Od&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await as(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+vE>Date.now()))return n;const{data:s,error:i}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Bi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Bi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=gu(n);if(UE(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=zE(s.alg),u=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,jE(`${a}.${l}`)))throw new Bi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}fo.nextInstanceID=0;const sC=fo;class iC extends sC{constructor(t){super(t)}}var oC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class aC{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=fE(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:sE,realtime:oE,auth:Object.assign(Object.assign({},iE),{storageKey:l}),global:nE},u=hE(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=uE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ek(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new tk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return oC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iC({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Bk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lC=(e,t,r)=>new aC(e,t,r),cC="https://wmffldceadgfrnrnnjtz.supabase.co",uC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndtZmZsZGNlYWRnZnJucm5uanR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM3MTY5MjAsImV4cCI6MjA1OTI5MjkyMH0._I-ZqPuh959cpIiujCv8l7T8iUxIzKjJV1lQ4gKh3t4";let rh;try{rh=lC(cC,uC,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"supabase-js-web"}}})}catch(e){throw console.error("Failed to initialize Supabase client:",e),re.error("Failed to initialize database connection"),e}const H=rh,Sm=()=>!!rh;function ma({children:e,onSignOut:t,user:r}){const[n,s]=w.useState(!1),[i,o]=w.useState(!1),a=Hf(),[l,c]=w.useState(null);return w.useEffect(()=>{const u=async()=>{if(r)try{const{data:{user:d}}=await H.auth.getUser();if(!d){const{data:{session:x},error:m}=await H.auth.refreshSession();if(m||!x){await H.auth.signOut(),a("/");return}}const{data:f,error:p}=await H.from("profiles").select("*").eq("id",d==null?void 0:d.id).single();if(p){if(p.message.includes("session_not_found")){const{data:{session:x},error:m}=await H.auth.refreshSession();if(m||!x){await H.auth.signOut(),a("/");return}return u()}throw p}c(f)}catch(d){console.error("Error fetching profile:",d),re.error("Failed to load profile")}};u()},[r,a]),h.jsxs(h.Fragment,{children:[r&&h.jsx("nav",{className:"bg-[#0A0A0A] border-b border-[#1F1F1F]",children:h.jsxs("div",{className:"max-w-[1920px] mx-auto px-4",children:[h.jsxs("div",{className:"flex items-center justify-between h-14",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("h1",{className:"text-[#E0E0E0] text-xl font-semibold",children:"Sharon AI"}),h.jsx("p",{className:"text-[#757575] text-sm hidden md:block",children:"Making Your Teams more Productive"})]}),h.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[h.jsxs("button",{onClick:()=>a("/"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#E0E0E0] hover:bg-[#1F1F1F] hover:text-accent",children:[h.jsx(Nd,{className:"w-5 h-5"}),h.jsx("span",{children:"Chat"})]}),(l==null?void 0:l.role)==="admin"?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>a("/workflows"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(jd,{className:"w-5 h-5"}),h.jsx("span",{children:"Workflows"})]}),h.jsxs("button",{onClick:()=>a("/users"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(am,{className:"w-5 h-5"}),h.jsx("span",{children:"Users"})]}),h.jsxs("button",{onClick:()=>a("/permissions"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(om,{className:"w-5 h-5"}),h.jsx("span",{children:"Permissions"})]})]}):null,h.jsxs("div",{className:"relative ml-4",children:[h.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-[#1F1F1F] transition-colors group",children:[h.jsx("span",{className:"text-[#E0E0E0]",children:(l==null?void 0:l.email)||"Loading..."}),h.jsx("span",{className:"px-2 py-0.5 text-white text-sm rounded bg-[#f7ab38]",children:(l==null?void 0:l.role)||"Loading..."}),h.jsx(Zf,{className:"w-4 h-4 text-[#757575] group-hover:text-[#E0E0E0]"})]}),i&&h.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-[#1F1F1F] rounded-md shadow-lg py-1 border border-[#2D2D2D] z-50",children:[h.jsx("div",{className:"px-4 py-2 border-b border-[#2D2D2D]",children:h.jsx("p",{className:"text-sm font-medium text-[#E0E0E0]",children:"My Account"})}),h.jsxs("button",{onClick:()=>a("/profile"),className:"w-full flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#2D2D2D]",children:[h.jsx(im,{className:"w-4 h-4"}),h.jsx("span",{children:"Profile Settings"})]}),h.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#2D2D2D]",children:[h.jsx(sm,{className:"w-4 h-4"}),h.jsx("span",{children:"Logout"})]})]})]})]}),h.jsx("button",{onClick:()=>s(!n),className:"md:hidden text-[#757575] hover:text-[#E0E0E0]",children:h.jsx(zS,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:`md:hidden ${n?"block":"hidden"} py-2 space-y-2`,children:[h.jsxs("button",{onClick:()=>a("/"),className:"w-full flex items-center space-x-2 px-3 py-2 text-[#E0E0E0] bg-[#1F1F1F] rounded-md",children:[h.jsx(Nd,{className:"w-5 h-5"}),h.jsx("span",{children:"Chat"})]}),(l==null?void 0:l.role)==="admin"&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>a("/workflows"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(jd,{className:"w-5 h-5"}),h.jsx("span",{children:"Workflows"})]}),h.jsxs("button",{onClick:()=>a("/users"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] transition-colors",children:[h.jsx(am,{className:"w-5 h-5"}),h.jsx("span",{children:"Users"})]}),h.jsxs("button",{onClick:()=>a("/permissions"),className:"flex items-center space-x-2 px-3 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] rounded-md",children:[h.jsx(om,{className:"w-5 h-5"}),h.jsx("span",{children:"Permissions"})]})]}),h.jsx("div",{className:"border-t border-[#1F1F1F] pt-2",children:h.jsxs("div",{className:"px-3 py-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-[#E0E0E0] text-sm",children:(l==null?void 0:l.email)||"Loading..."}),h.jsx("span",{className:"px-2 py-0.5 text-white text-sm rounded bg-[#f7ab38]",children:(l==null?void 0:l.role)||"Loading..."})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>a("/profile"),className:"flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-accent hover:bg-[#2D2D2D]",children:[h.jsx(im,{className:"w-4 h-4"}),h.jsx("span",{children:"Profile Settings"})]}),h.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-accent hover:bg-[#2D2D2D]",children:[h.jsx(sm,{className:"w-4 h-4"}),h.jsx("span",{children:"Logout"})]})]})]})})]})]})}),e,h.jsx(OS,{})]})}function dC({onNewChat:e,selectedChat:t,selectedWorkflow:r,onSelectWorkflow:n,onSelectChat:s}){const[i,o]=w.useState(""),[a,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState([]),[p,x]=w.useState(!0),[m,b]=w.useState(!1),[y,g]=w.useState(!0),[v,S]=w.useState(0),k=15;w.useEffect(()=>{P()},[]),w.useEffect(()=>{r&&N()},[r,i]);const N=async(j=!1)=>{try{if(!r)return;if(!Sm()){re.error("Database connection not initialized");return}const z=j?v+1:0,W=H.from("conversations").select("*").eq("workflow_id",r.id).order("created_at",{ascending:!1}).range(z*k,(z+1)*k-1);i&&W.ilike("title",`%${i}%`);const{data:G,error:le}=await W;if(le){console.error("Error fetching conversations:",le),re.error("Failed to load conversations");return}j?(l(R=>[...R,...G||[]]),g(G.length===k)):(l(G||[]),g(G.length===k)),S(z)}catch(z){console.error("Error fetching conversations:",z),re.error("Failed to load conversations")}};async function P(){try{if(!Sm()){re.error("Database connection not initialized");return}const{data:{user:j},error:z}=await H.auth.getUser();if(z){console.error("Error fetching user:",z),re.error("Failed to authenticate user");return}if(!j){console.error("No user found"),re.error("User not authenticated");return}const{data:W,error:G}=await H.from("workflows").select("id, name, display_name, worker_id, api_auth_token, supports_documents, supports_images, api_url").eq("status","active").order("order",{ascending:!0});if(G){console.error("Error fetching workflows:",G),re.error("Failed to load workflows");return}f(W||[])}catch(j){console.error("Error:",j),re.error("Failed to fetch workflows")}finally{x(!1)}}const C=async()=>{b(!0),await N(!0),b(!1)},T=j=>{n(j),u(!1)};return h.jsxs("div",{className:"w-80 bg-[#121212] border-r border-[#2D2D2D] flex flex-col h-full",children:[h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("button",{className:"w-full bg-[#1F1F1F] text-white px-4 py-2 rounded-md flex items-center justify-between hover:bg-[#2D2D2D] transition-colors",onClick:()=>u(!c),children:[h.jsx("span",{children:r?r.display_name||r.name:"Select Workflow"}),h.jsx(Zf,{className:"h-5 w-5"})]}),c&&h.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1F1F1F] rounded-md shadow-lg border border-[#2D2D2D] py-1 z-10",children:d.map(j=>h.jsxs("button",{onClick:()=>T(j),className:"w-full px-4 py-2 text-left flex items-center justify-between hover:bg-[#2D2D2D] transition-colors",children:[h.jsx("span",{className:"text-white",children:j.display_name||j.name}),(r==null?void 0:r.id)===j.id&&h.jsx(n0,{className:"h-4 w-4 text-emerald-500"})]},j.id))})]}),h.jsx("button",{onClick:()=>{e();const j=document.querySelector('input[type="text"][placeholder="Type your message..."]');j&&j.focus()},className:"w-full bg-emerald-600 text-white py-2 rounded-md hover:bg-emerald-700 transition-colors",children:"New Chat"}),h.jsxs("div",{className:"relative",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search conversations...",value:i,onChange:j=>o(j.target.value),className:"w-full bg-[#1F1F1F] text-white pl-10 pr-4 py-2 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"space-y-1 p-2",children:[a.map(j=>h.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left p-3 rounded-md transition-colors ${t===j.id?"bg-[#1F1F1F]":"hover:bg-[#1F1F1F]/50"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(Nd,{className:"h-5 w-5 text-gray-400 mt-1"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-white line-clamp-3",children:j.title}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(j.created_at).toLocaleString()})]})]}),h.jsx("button",{onClick:async z=>{if(z.stopPropagation(),confirm("Are you sure you want to delete this conversation?")){const{error:W}=await H.from("conversations").delete().eq("id",j.id);W?re.error("Failed to delete conversation"):(re.success("Conversation deleted"),t===j.id&&s(null),N())}},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:h.jsx(Zl,{className:"h-4 w-4"})})]})},j.id)),y&&h.jsx("button",{onClick:C,disabled:m,className:"w-full py-2 text-center text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:m?"Loading...":"Load More"})]})})]})}var Vo=e=>e.type==="checkbox",Mn=e=>e instanceof Date,mt=e=>e==null;const D0=e=>typeof e=="object";var Fe=e=>!mt(e)&&!Array.isArray(e)&&D0(e)&&!Mn(e),fC=e=>Fe(e)&&e.target?Vo(e.target)?e.target.checked:e.target.value:e,hC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pC=(e,t)=>e.has(hC(t)),mC=e=>{const t=e.constructor&&e.constructor.prototype;return Fe(t)&&t.hasOwnProperty("isPrototypeOf")},nh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(nh&&(e instanceof Blob||n))&&(r||Fe(e)))if(t=r?[]:{},!r&&!mC(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=lt(e[s]));else return e;return t}var rc=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>e===void 0,Q=(e,t,r)=>{if(!t||!Fe(e))return r;const n=rc(t.split(/[,[\].]+?/)).reduce((s,i)=>mt(s)?s:s[i],e);return Ue(n)||n===e?Ue(e[t])?r:e[t]:n},vr=e=>typeof e=="boolean",sh=e=>/^\w*$/.test(e),P0=e=>rc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,r)=>{let n=-1;const s=sh(t)?[t]:P0(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=Fe(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const km={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ue.createContext(null);var gC=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==sr.all&&(t._proxyFormState[o]=!n||sr.all),e[o]}});return s},wr=e=>typeof e=="string",yC=(e,t,r,n,s)=>wr(e)?(n&&t.watch.add(e),Q(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Q(r,i))):(n&&(t.watchAll=!0),r),A0=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},zi=e=>Array.isArray(e)?e:[e],Em=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Ld=e=>mt(e)||!D0(e);function Xr(e,t){if(Ld(e)||Ld(t))return e===t;if(Mn(e)&&Mn(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Mn(i)&&Mn(o)||Fe(i)&&Fe(o)||Array.isArray(i)&&Array.isArray(o)?!Xr(i,o):i!==o)return!1}}return!0}var ht=e=>Fe(e)&&!Object.keys(e).length,ih=e=>e.type==="file",ir=e=>typeof e=="function",cl=e=>{if(!nh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},I0=e=>e.type==="select-multiple",oh=e=>e.type==="radio",vC=e=>oh(e)||Vo(e),yu=e=>cl(e)&&e.isConnected;function xC(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ue(e)?n++:e[t[n++]];return e}function wC(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ue(e[t]))return!1;return!0}function We(e,t){const r=Array.isArray(t)?t:sh(t)?[t]:P0(t),n=r.length===1?e:xC(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Fe(n)&&ht(n)||Array.isArray(n)&&wC(n))&&We(e,r.slice(0,-1)),e}var T0=e=>{for(const t in e)if(ir(e[t]))return!0;return!1};function ul(e,t={}){const r=Array.isArray(e);if(Fe(e)||r)for(const n in e)Array.isArray(e[n])||Fe(e[n])&&!T0(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ul(e[n],t[n])):mt(e[n])||(t[n]=!0);return t}function O0(e,t,r){const n=Array.isArray(e);if(Fe(e)||n)for(const s in e)Array.isArray(e[s])||Fe(e[s])&&!T0(e[s])?Ue(t)||Ld(r[s])?r[s]=Array.isArray(e[s])?ul(e[s],[]):{...ul(e[s])}:O0(e[s],mt(t)?{}:t[s],r[s]):r[s]=!Xr(e[s],t[s]);return r}var yi=(e,t)=>O0(e,t,ul(t));const Cm={value:!1,isValid:!1},Nm={value:!0,isValid:!0};var R0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ue(e[0].attributes.value)?Ue(e[0].value)||e[0].value===""?Nm:{value:e[0].value,isValid:!0}:Nm:Cm}return Cm},$0=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ue(e)?e:t?e===""?NaN:e&&+e:r&&wr(e)?new Date(e):n?n(e):e;const jm={isValid:!1,value:null};var L0=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,jm):jm;function Dm(e){const t=e.ref;return ih(t)?t.files:oh(t)?L0(e.refs).value:I0(t)?[...t.selectedOptions].map(({value:r})=>r):Vo(t)?R0(e.refs).value:$0(Ue(t.value)?e.ref.value:t.value,e)}var bC=(e,t,r,n)=>{const s={};for(const i of e){const o=Q(t,i);o&&ke(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},dl=e=>e instanceof RegExp,vi=e=>Ue(e)?e:dl(e)?e.source:Fe(e)?dl(e.value)?e.value.source:e.value:e,Pm=e=>({isOnSubmit:!e||e===sr.onSubmit,isOnBlur:e===sr.onBlur,isOnChange:e===sr.onChange,isOnAll:e===sr.all,isOnTouch:e===sr.onTouched});const Am="AsyncFunction";var _C=e=>!!e&&!!e.validate&&!!(ir(e.validate)&&e.validate.constructor.name===Am||Fe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Am)),SC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Im=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Q(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Vi(a,t))break}else if(Fe(a)&&Vi(a,t))break}}};function Tm(e,t,r){const n=Q(e,r);if(n||sh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Q(t,i),a=Q(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var kC=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ht(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||sr.all))},EC=(e,t,r)=>!e||!t||e===t||zi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),CC=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,NC=(e,t)=>!rc(Q(e,t)).length&&We(e,t),jC=(e,t,r)=>{const n=zi(Q(e,r));return ke(n,"root",t[r]),ke(e,r,n),e},Oa=e=>wr(e);function Om(e,t,r="validate"){if(Oa(e)||Array.isArray(e)&&e.every(Oa)||vr(e)&&!e)return{type:r,message:Oa(e)?e:"",ref:t}}var cs=e=>Fe(e)&&!dl(e)?e:{value:e,message:""},Rm=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:x,name:m,valueAsNumber:b,mount:y}=e._f,g=Q(r,m);if(!y||t.has(m))return{};const v=a?a[0]:o,S=W=>{s&&v.reportValidity&&(v.setCustomValidity(vr(W)?"":W||""),v.reportValidity())},k={},N=oh(o),P=Vo(o),C=N||P,T=(b||ih(o))&&Ue(o.value)&&Ue(g)||cl(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,j=A0.bind(null,m,n,k),z=(W,G,le,R=Nr.maxLength,oe=Nr.minLength)=>{const B=W?G:le;k[m]={type:W?R:oe,message:B,ref:o,...j(W?R:oe,B)}};if(i?!Array.isArray(g)||!g.length:l&&(!C&&(T||mt(g))||vr(g)&&!g||P&&!R0(a).isValid||N&&!L0(a).isValid)){const{value:W,message:G}=Oa(l)?{value:!!l,message:l}:cs(l);if(W&&(k[m]={type:Nr.required,message:G,ref:v,...j(Nr.required,G)},!n))return S(G),k}if(!T&&(!mt(d)||!mt(f))){let W,G;const le=cs(f),R=cs(d);if(!mt(g)&&!isNaN(g)){const oe=o.valueAsNumber||g&&+g;mt(le.value)||(W=oe>le.value),mt(R.value)||(G=oe<R.value)}else{const oe=o.valueAsDate||new Date(g),B=O=>new Date(new Date().toDateString()+" "+O),I=o.type=="time",A=o.type=="week";wr(le.value)&&g&&(W=I?B(g)>B(le.value):A?g>le.value:oe>new Date(le.value)),wr(R.value)&&g&&(G=I?B(g)<B(R.value):A?g<R.value:oe<new Date(R.value))}if((W||G)&&(z(!!W,le.message,R.message,Nr.max,Nr.min),!n))return S(k[m].message),k}if((c||u)&&!T&&(wr(g)||i&&Array.isArray(g))){const W=cs(c),G=cs(u),le=!mt(W.value)&&g.length>+W.value,R=!mt(G.value)&&g.length<+G.value;if((le||R)&&(z(le,W.message,G.message),!n))return S(k[m].message),k}if(p&&!T&&wr(g)){const{value:W,message:G}=cs(p);if(dl(W)&&!g.match(W)&&(k[m]={type:Nr.pattern,message:G,ref:o,...j(Nr.pattern,G)},!n))return S(G),k}if(x){if(ir(x)){const W=await x(g,r),G=Om(W,v);if(G&&(k[m]={...G,...j(Nr.validate,G.message)},!n))return S(G.message),k}else if(Fe(x)){let W={};for(const G in x){if(!ht(W)&&!n)break;const le=Om(await x[G](g,r),v,G);le&&(W={...le,...j(G,le.message)},S(le.message),n&&(k[m]=W))}if(!ht(W)&&(k[m]={ref:v,...W},!n))return k}}return S(!0),k};const DC={mode:sr.onSubmit,reValidateMode:sr.onChange,shouldFocusError:!0};function PC(e={}){let t={...DC,...e},r={submitCount:0,isDirty:!1,isLoading:ir(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Fe(t.defaultValues)||Fe(t.values)?lt(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:lt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:Em(),state:Em()},p=Pm(t.mode),x=Pm(t.reValidateMode),m=t.criteriaMode===sr.all,b=_=>E=>{clearTimeout(c),c=setTimeout(_,E)},y=async _=>{if(!t.disabled&&(u.isValid||d.isValid||_)){const E=t.resolver?ht((await T()).errors):await z(n,!0);E!==r.isValid&&f.state.next({isValid:E})}},g=(_,E)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((_||Array.from(a.mount)).forEach(D=>{D&&(E?ke(r.validatingFields,D,E):We(r.validatingFields,D))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ht(r.validatingFields)}))},v=(_,E=[],D,Z,U=!0,F=!0)=>{if(Z&&D&&!t.disabled){if(o.action=!0,F&&Array.isArray(Q(n,_))){const Y=D(Q(n,_),Z.argA,Z.argB);U&&ke(n,_,Y)}if(F&&Array.isArray(Q(r.errors,_))){const Y=D(Q(r.errors,_),Z.argA,Z.argB);U&&ke(r.errors,_,Y),NC(r.errors,_)}if((u.touchedFields||d.touchedFields)&&F&&Array.isArray(Q(r.touchedFields,_))){const Y=D(Q(r.touchedFields,_),Z.argA,Z.argB);U&&ke(r.touchedFields,_,Y)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=yi(s,i)),f.state.next({name:_,isDirty:G(_,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ke(i,_,E)},S=(_,E)=>{ke(r.errors,_,E),f.state.next({errors:r.errors})},k=_=>{r.errors=_,f.state.next({errors:r.errors,isValid:!1})},N=(_,E,D,Z)=>{const U=Q(n,_);if(U){const F=Q(i,_,Ue(D)?Q(s,_):D);Ue(F)||Z&&Z.defaultChecked||E?ke(i,_,E?F:Dm(U._f)):oe(_,F),o.mount&&y()}},P=(_,E,D,Z,U)=>{let F=!1,Y=!1;const ve={name:_};if(!t.disabled){if(!D||Z){(u.isDirty||d.isDirty)&&(Y=r.isDirty,r.isDirty=ve.isDirty=G(),F=Y!==ve.isDirty);const Be=Xr(Q(s,_),E);Y=!!Q(r.dirtyFields,_),Be?We(r.dirtyFields,_):ke(r.dirtyFields,_,!0),ve.dirtyFields=r.dirtyFields,F=F||(u.dirtyFields||d.dirtyFields)&&Y!==!Be}if(D){const Be=Q(r.touchedFields,_);Be||(ke(r.touchedFields,_,D),ve.touchedFields=r.touchedFields,F=F||(u.touchedFields||d.touchedFields)&&Be!==D)}F&&U&&f.state.next(ve)}return F?ve:{}},C=(_,E,D,Z)=>{const U=Q(r.errors,_),F=(u.isValid||d.isValid)&&vr(E)&&r.isValid!==E;if(t.delayError&&D?(l=b(()=>S(_,D)),l(t.delayError)):(clearTimeout(c),l=null,D?ke(r.errors,_,D):We(r.errors,_)),(D?!Xr(U,D):U)||!ht(Z)||F){const Y={...Z,...F&&vr(E)?{isValid:E}:{},errors:r.errors,name:_};r={...r,...Y},f.state.next(Y)}},T=async _=>{g(_,!0);const E=await t.resolver(i,t.context,bC(_||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(_),E},j=async _=>{const{errors:E}=await T(_);if(_)for(const D of _){const Z=Q(E,D);Z?ke(r.errors,D,Z):We(r.errors,D)}else r.errors=E;return E},z=async(_,E,D={valid:!0})=>{for(const Z in _){const U=_[Z];if(U){const{_f:F,...Y}=U;if(F){const ve=a.array.has(F.name),Be=U._f&&_C(U._f);Be&&u.validatingFields&&g([Z],!0);const it=await Rm(U,a.disabled,i,m,t.shouldUseNativeValidation&&!E,ve);if(Be&&u.validatingFields&&g([Z]),it[F.name]&&(D.valid=!1,E))break;!E&&(Q(it,F.name)?ve?jC(r.errors,it,F.name):ke(r.errors,F.name,it[F.name]):We(r.errors,F.name))}!ht(Y)&&await z(Y,E,D)}}return D.valid},W=()=>{for(const _ of a.unMount){const E=Q(n,_);E&&(E._f.refs?E._f.refs.every(D=>!yu(D)):!yu(E._f.ref))&&Pe(_)}a.unMount=new Set},G=(_,E)=>!t.disabled&&(_&&E&&ke(i,_,E),!Xr(J(),s)),le=(_,E,D)=>yC(_,a,{...o.mount?i:Ue(E)?s:wr(_)?{[_]:E}:E},D,E),R=_=>rc(Q(o.mount?i:s,_,t.shouldUnregister?Q(s,_,[]):[])),oe=(_,E,D={})=>{const Z=Q(n,_);let U=E;if(Z){const F=Z._f;F&&(!F.disabled&&ke(i,_,$0(E,F)),U=cl(F.ref)&&mt(E)?"":E,I0(F.ref)?[...F.ref.options].forEach(Y=>Y.selected=U.includes(Y.value)):F.refs?Vo(F.ref)?F.refs.length>1?F.refs.forEach(Y=>(!Y.defaultChecked||!Y.disabled)&&(Y.checked=Array.isArray(U)?!!U.find(ve=>ve===Y.value):U===Y.value)):F.refs[0]&&(F.refs[0].checked=!!U):F.refs.forEach(Y=>Y.checked=Y.value===U):ih(F.ref)?F.ref.value="":(F.ref.value=U,F.ref.type||f.state.next({name:_,values:lt(i)})))}(D.shouldDirty||D.shouldTouch)&&P(_,U,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&te(_)},B=(_,E,D)=>{for(const Z in E){const U=E[Z],F=`${_}.${Z}`,Y=Q(n,F);(a.array.has(_)||Fe(U)||Y&&!Y._f)&&!Mn(U)?B(F,U,D):oe(F,U,D)}},I=(_,E,D={})=>{const Z=Q(n,_),U=a.array.has(_),F=lt(E);ke(i,_,F),U?(f.array.next({name:_,values:lt(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&D.shouldDirty&&f.state.next({name:_,dirtyFields:yi(s,i),isDirty:G(_,F)})):Z&&!Z._f&&!mt(F)?B(_,F,D):oe(_,F,D),Im(_,a)&&f.state.next({...r}),f.state.next({name:o.mount?_:void 0,values:lt(i)})},A=async _=>{o.mount=!0;const E=_.target;let D=E.name,Z=!0;const U=Q(n,D),F=Y=>{Z=Number.isNaN(Y)||Mn(Y)&&isNaN(Y.getTime())||Xr(Y,Q(i,D,Y))};if(U){let Y,ve;const Be=E.type?Dm(U._f):fC(_),it=_.type===km.BLUR||_.type===km.FOCUS_OUT,ww=!SC(U._f)&&!t.resolver&&!Q(r.errors,D)&&!U._f.deps||CC(it,Q(r.touchedFields,D),r.isSubmitted,x,p),$c=Im(D,a,it);ke(i,D,Be),it?(U._f.onBlur&&U._f.onBlur(_),l&&l(0)):U._f.onChange&&U._f.onChange(_);const Lc=P(D,Be,it),bw=!ht(Lc)||$c;if(!it&&f.state.next({name:D,type:_.type,values:lt(i)}),ww)return(u.isValid||d.isValid)&&(t.mode==="onBlur"?it&&y():it||y()),bw&&f.state.next({name:D,...$c?{}:Lc});if(!it&&$c&&f.state.next({...r}),t.resolver){const{errors:Lh}=await T([D]);if(F(Be),Z){const _w=Tm(r.errors,n,D),Fh=Tm(Lh,n,_w.name||D);Y=Fh.error,D=Fh.name,ve=ht(Lh)}}else g([D],!0),Y=(await Rm(U,a.disabled,i,m,t.shouldUseNativeValidation))[D],g([D]),F(Be),Z&&(Y?ve=!1:(u.isValid||d.isValid)&&(ve=await z(n,!0)));Z&&(U._f.deps&&te(U._f.deps),C(D,ve,Y,Lc))}},O=(_,E)=>{if(Q(r.errors,E)&&_.focus)return _.focus(),1},te=async(_,E={})=>{let D,Z;const U=zi(_);if(t.resolver){const F=await j(Ue(_)?_:U);D=ht(F),Z=_?!U.some(Y=>Q(F,Y)):D}else _?(Z=(await Promise.all(U.map(async F=>{const Y=Q(n,F);return await z(Y&&Y._f?{[F]:Y}:Y)}))).every(Boolean),!(!Z&&!r.isValid)&&y()):Z=D=await z(n);return f.state.next({...!wr(_)||(u.isValid||d.isValid)&&D!==r.isValid?{}:{name:_},...t.resolver||!_?{isValid:D}:{},errors:r.errors}),E.shouldFocus&&!Z&&Vi(n,O,_?U:a.mount),Z},J=_=>{const E={...o.mount?i:s};return Ue(_)?E:wr(_)?Q(E,_):_.map(D=>Q(E,D))},xe=(_,E)=>({invalid:!!Q((E||r).errors,_),isDirty:!!Q((E||r).dirtyFields,_),error:Q((E||r).errors,_),isValidating:!!Q(r.validatingFields,_),isTouched:!!Q((E||r).touchedFields,_)}),ie=_=>{_&&zi(_).forEach(E=>We(r.errors,E)),f.state.next({errors:_?r.errors:{}})},Ze=(_,E,D)=>{const Z=(Q(n,_,{_f:{}})._f||{}).ref,U=Q(r.errors,_)||{},{ref:F,message:Y,type:ve,...Be}=U;ke(r.errors,_,{...Be,...E,ref:Z}),f.state.next({name:_,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&Z&&Z.focus&&Z.focus()},$e=(_,E)=>ir(_)?f.state.subscribe({next:D=>_(le(void 0,E),D)}):le(_,E,!0),bt=_=>f.state.subscribe({next:E=>{EC(_.name,E.name,_.exact)&&kC(E,_.formState||u,xw,_.reRenderRoot)&&_.callback({values:{...i},...r,...E})}}).unsubscribe,oi=_=>(o.mount=!0,d={...d,..._.formState},bt({..._,formState:d})),Pe=(_,E={})=>{for(const D of _?zi(_):a.mount)a.mount.delete(D),a.array.delete(D),E.keepValue||(We(n,D),We(i,D)),!E.keepError&&We(r.errors,D),!E.keepDirty&&We(r.dirtyFields,D),!E.keepTouched&&We(r.touchedFields,D),!E.keepIsValidating&&We(r.validatingFields,D),!t.shouldUnregister&&!E.keepDefaultValue&&We(s,D);f.state.next({values:lt(i)}),f.state.next({...r,...E.keepDirty?{isDirty:G()}:{}}),!E.keepIsValid&&y()},Me=({disabled:_,name:E})=>{(vr(_)&&o.mount||_||a.disabled.has(E))&&(_?a.disabled.add(E):a.disabled.delete(E))},hr=(_,E={})=>{let D=Q(n,_);const Z=vr(E.disabled)||vr(t.disabled);return ke(n,_,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:_}},name:_,mount:!0,...E}}),a.mount.add(_),D?Me({disabled:vr(E.disabled)?E.disabled:t.disabled,name:_}):N(_,!0,E.value),{...Z?{disabled:E.disabled||t.disabled}:{},...t.progressive?{required:!!E.required,min:vi(E.min),max:vi(E.max),minLength:vi(E.minLength),maxLength:vi(E.maxLength),pattern:vi(E.pattern)}:{},name:_,onChange:A,onBlur:A,ref:U=>{if(U){hr(_,E),D=Q(n,_);const F=Ue(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,Y=vC(F),ve=D._f.refs||[];if(Y?ve.find(Be=>Be===F):F===D._f.ref)return;ke(n,_,{_f:{...D._f,...Y?{refs:[...ve.filter(yu),F,...Array.isArray(Q(s,_))?[{}]:[]],ref:{type:F.type,name:_}}:{ref:F}}}),N(_,!1,void 0,F)}else D=Q(n,_,{}),D._f&&(D._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(pC(a.array,_)&&o.action)&&a.unMount.add(_)}}},Ve=()=>t.shouldFocusError&&Vi(n,O,a.mount),pr=_=>{vr(_)&&(f.state.next({disabled:_}),Vi(n,(E,D)=>{const Z=Q(n,D);Z&&(E.disabled=Z._f.disabled||_,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(U=>{U.disabled=Z._f.disabled||_}))},0,!1))},Oc=(_,E)=>async D=>{let Z;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let U=lt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:F,values:Y}=await T();r.errors=F,U=Y}else await z(n);if(a.disabled.size)for(const F of a.disabled)ke(U,F,void 0);if(We(r.errors,"root"),ht(r.errors)){f.state.next({errors:{}});try{await _(U,D)}catch(F){Z=F}}else E&&await E({...r.errors},D),Ve(),setTimeout(Ve);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ht(r.errors)&&!Z,submitCount:r.submitCount+1,errors:r.errors}),Z)throw Z},Rc=(_,E={})=>{Q(n,_)&&(Ue(E.defaultValue)?I(_,lt(Q(s,_))):(I(_,E.defaultValue),ke(s,_,lt(E.defaultValue))),E.keepTouched||We(r.touchedFields,_),E.keepDirty||(We(r.dirtyFields,_),r.isDirty=E.defaultValue?G(_,lt(Q(s,_))):G()),E.keepError||(We(r.errors,_),u.isValid&&y()),f.state.next({...r}))},Nn=(_,E={})=>{const D=_?lt(_):s,Z=lt(D),U=ht(_),F=U?s:Z;if(E.keepDefaultValues||(s=D),!E.keepValues){if(E.keepDirtyValues){const Y=new Set([...a.mount,...Object.keys(yi(s,i))]);for(const ve of Array.from(Y))Q(r.dirtyFields,ve)?ke(F,ve,Q(i,ve)):I(ve,Q(F,ve))}else{if(nh&&Ue(_))for(const Y of a.mount){const ve=Q(n,Y);if(ve&&ve._f){const Be=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(cl(Be)){const it=Be.closest("form");if(it){it.reset();break}}}}for(const Y of a.mount)I(Y,Q(F,Y))}i=lt(F),f.array.next({values:{...F}}),f.state.next({values:{...F}})}a={mount:E.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!E.keepIsValid||!!E.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:U?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!Xr(_,s)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:E.keepDirtyValues?E.keepDefaultValues&&i?yi(s,i):r.dirtyFields:E.keepDefaultValues&&_?yi(s,_):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ai=(_,E)=>Nn(ir(_)?_(i):_,E),vw=(_,E={})=>{const D=Q(n,_),Z=D&&D._f;if(Z){const U=Z.refs?Z.refs[0]:Z.ref;U.focus&&(U.focus(),E.shouldSelect&&ir(U.select)&&U.select())}},xw=_=>{r={...r,..._}},$h={control:{register:hr,unregister:Pe,getFieldState:xe,handleSubmit:Oc,setError:Ze,_subscribe:bt,_runSchema:T,_getWatch:le,_getDirty:G,_setValid:y,_setFieldArray:v,_setDisabledField:Me,_setErrors:k,_getFieldArray:R,_reset:Nn,_resetDefaultValues:()=>ir(t.defaultValues)&&t.defaultValues().then(_=>{ai(_,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:pr,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(_){o=_},get _defaultValues(){return s},get _names(){return a},set _names(_){a=_},get _formState(){return r},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:oi,trigger:te,register:hr,handleSubmit:Oc,watch:$e,setValue:I,getValues:J,reset:ai,resetField:Rc,clearErrors:ie,unregister:Pe,setError:Ze,setFocus:vw,getFieldState:xe};return{...$h,formControl:$h}}function nc(e={}){const t=ue.useRef(void 0),r=ue.useRef(void 0),[n,s]=ue.useState({isDirty:!1,isValidating:!1,isLoading:ir(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ir(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:PC(e),formState:n},e.formControl&&e.defaultValues&&!ir(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,ue.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ue.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ue.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ue.useEffect(()=>{e.values&&!Xr(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),ue.useEffect(()=>{e.errors&&!ht(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),ue.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ue.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=gC(n,i),t.current}const $m=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Q(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},F0=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?$m(n.ref,r,e):n.refs&&n.refs.forEach(s=>$m(s,r,e))}},AC=(e,t)=>{t.shouldUseNativeValidation&&F0(e,t);const r={};for(const n in e){const s=Q(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(IC(t.names||Object.keys(e),n)){const o=Object.assign({},Q(r,n));ke(o,"root",i),ke(r,n,o)}else ke(r,n,i)}return r},IC=(e,t)=>e.some(r=>r.startsWith(t+"."));var TC=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=A0(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},sc=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&F0({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:AC(TC(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};function OC({context:e,error:t}){const r=t instanceof Error?t.message:"An unknown error occurred",n=t instanceof Error?t.stack:void 0;console.error("Error occurred:",{message:r,stack:n,context:e})}async function RC(e,t,r,n){try{const s=r instanceof Error?r.message:"An unknown error occurred",{error:i}=await e.from("workflow_logs").insert({workflow_id:t,level:"error",message:s,details:{error:s,stack:r instanceof Error?r.stack:void 0,context:n}});i&&console.error("Failed to log workflow error:",i)}catch(s){console.error("Failed to log workflow error:",s)}}class ga extends Error{constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.details=n}}async function M0({workerId:e,apiAuthToken:t,apiConfig:r,variables:n,workflowId:s}){var i;if(console.log("API: Making request with:",{workerId:e,variables:n,workflowId:s}),!e||e==="your-worker-id")throw new ga("Worker ID is not configured",400);if(!t||t==="your-auth-token")throw new ga("API authentication token is not configured",400);try{const o=await fetch(r.url,{method:r.method,headers:{"Content-Type":r.content_type,Authorization:t.startsWith("Bearer ")?t:`Bearer ${t}`},body:JSON.stringify({workerId:e,variables:n})});console.log("API: Response received:",{status:o.status,ok:o.ok});const a=await o.json(),l=a.result||a.responseText||a.response||a.message||"No response received";if(s){const{error:c}=await H.from("workflow_logs").insert({workflow_id:s,level:o.ok?"info":"error",message:o.ok?"API test completed successfully":`API request failed: ${o.statusText}`,details:{workerId:e,url:r.url,method:r.method,status:o.status,response:a},created_by:(i=(await H.auth.getUser()).data.user)==null?void 0:i.id});c&&console.error("Failed to log workflow test:",c)}if(!o.ok)throw new ga(a.message||`API request failed: ${o.statusText}`,o.status,a);return{success:!0,data:{response:l}}}catch(o){throw s||(console.error("API Error Details:",{error:o,stack:o instanceof Error?o.stack:void 0,context:{workerId:e,url:r.url,method:r.method,variables:n}}),OC({context:{workerId:e,url:r.url,method:r.method,variables:n,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0},error:o}),await RC(H,s,o,{workflow_id:s,level:"error",message:o instanceof Error?o.message:"Failed to connect to MindStudio API",details:{error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0,request:{workerId:e,url:r.url,method:r.method,variables:n},response:o instanceof ga?o.details:void 0,context:{workerId:e,url:r.url,method:r.method}}})),o}}var ge;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ge||(ge={}));var Fd;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Fd||(Fd={}));const q=ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ir=e=>{switch(typeof e){case"undefined":return q.undefined;case"string":return q.string;case"number":return isNaN(e)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(e)?q.array:e===null?q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?q.promise:typeof Map<"u"&&e instanceof Map?q.map:typeof Set<"u"&&e instanceof Set?q.set:typeof Date<"u"&&e instanceof Date?q.date:q.object;default:return q.unknown}},$=ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$C=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Rt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof Rt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rt.create=e=>new Rt(e);const Vs=(e,t)=>{let r;switch(e.code){case $.invalid_type:e.received===q.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case $.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ge.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:r=`Unrecognized key(s) in object: ${ge.joinValues(e.keys,", ")}`;break;case $.invalid_union:r="Invalid input";break;case $.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ge.joinValues(e.options)}`;break;case $.invalid_enum_value:r=`Invalid enum value. Expected ${ge.joinValues(e.options)}, received '${e.received}'`;break;case $.invalid_arguments:r="Invalid function arguments";break;case $.invalid_return_type:r="Invalid function return type";break;case $.invalid_date:r="Invalid date";break;case $.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ge.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case $.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case $.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case $.custom:r="Invalid input";break;case $.invalid_intersection_types:r="Intersection results could not be merged";break;case $.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case $.not_finite:r="Number must be finite";break;default:r=t.defaultError,ge.assertNever(e)}return{message:r}};let B0=Vs;function LC(e){B0=e}function fl(){return B0}const hl=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}},FC=[];function V(e,t){const r=fl(),n=hl({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Vs?void 0:Vs].filter(s=>!!s)});e.common.issues.push(n)}class dt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return se;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return dt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return se;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const se=Object.freeze({status:"aborted"}),Es=e=>({status:"dirty",value:e}),vt=e=>({status:"valid",value:e}),Md=e=>e.status==="aborted",Bd=e=>e.status==="dirty",Qn=e=>e.status==="valid",ho=e=>typeof Promise<"u"&&e instanceof Promise;function pl(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function U0(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var X;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(X||(X={}));var Ni,ji;class kr{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lm=(e,t)=>{if(Qn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rt(e.common.issues);return this._error=r,this._error}}};function ae(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class de{get description(){return this._def.description}_getType(t){return Ir(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ir(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dt,ctx:{common:t.parent.common,data:t.data,parsedType:Ir(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ho(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ir(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Lm(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ir(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Qn(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Qn(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ir(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(ho(s)?s:Promise.resolve(s));return Lm(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:$.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new fr({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Sr.create(this,this._def)}nullable(){return wn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ur.create(this)}promise(){return Gs.create(this,this._def)}or(t){return yo.create([this,t],this._def)}and(t){return vo.create(this,t,this._def)}transform(t){return new fr({...ae(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new So({...ae(this._def),innerType:this,defaultValue:r,typeName:ne.ZodDefault})}brand(){return new ah({typeName:ne.ZodBranded,type:this,...ae(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ko({...ae(this._def),innerType:this,catchValue:r,typeName:ne.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Wo.create(this,t)}readonly(){return Eo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MC=/^c[^\s-]{8,}$/i,BC=/^[0-9a-z]+$/,UC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VC=/^[a-z0-9_-]{21}$/i,WC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,HC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vu;const ZC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,XC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,z0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",e2=new RegExp(`^${z0}$`);function V0(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function t2(e){return new RegExp(`^${V0(e)}$`)}function W0(e){let t=`${z0}T${V0(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function r2(e,t){return!!((t==="v4"||!t)&&ZC.test(e)||(t==="v6"||!t)&&JC.test(e))}function n2(e,t){if(!WC.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function s2(e,t){return!!((t==="v4"||!t)&&KC.test(e)||(t==="v6"||!t)&&QC.test(e))}class or extends de{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==q.string){const i=this._getOrReturnCtx(t);return V(i,{code:$.invalid_type,expected:q.string,received:i.parsedType}),se}const n=new dt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?V(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&V(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")HC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"email",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")vu||(vu=new RegExp(qC,"u")),vu.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"emoji",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")zC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"uuid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")VC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"nanoid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")MC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cuid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")BC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cuid2",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")UC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"ulid",code:$.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),V(s,{validation:"url",code:$.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"regex",code:$.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),V(s,{code:$.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),V(s,{code:$.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),V(s,{code:$.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?W0(i).test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:$.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?e2.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:$.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?t2(i).test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{code:$.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?GC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"duration",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?r2(t.data,i.version)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"ip",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?n2(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"jwt",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?s2(t.data,i.version)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"cidr",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?YC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"base64",code:$.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?XC.test(t.data)||(s=this._getOrReturnCtx(t,s),V(s,{validation:"base64url",code:$.invalid_string,message:i.message}),n.dirty()):ge.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:$.invalid_string,...X.errToObj(n)})}_addCheck(t){return new or({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...X.errToObj(t)})}url(t){return this._addCheck({kind:"url",...X.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...X.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...X.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...X.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...X.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...X.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...X.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...X.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...X.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...X.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...X.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...X.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...X.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...X.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...X.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...X.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...X.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...X.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...X.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...X.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...X.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...X.errToObj(r)})}nonempty(t){return this.min(1,X.errToObj(t))}trim(){return new or({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new or({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new or({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}or.create=e=>{var t;return new or({checks:[],typeName:ne.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ae(e)})};function i2(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class yn extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==q.number){const i=this._getOrReturnCtx(t);return V(i,{code:$.invalid_type,expected:q.number,received:i.parsedType}),se}let n;const s=new dt;for(const i of this._def.checks)i.kind==="int"?ge.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),V(n,{code:$.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?i2(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),V(n,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),V(n,{code:$.not_finite,message:i.message}),s.dirty()):ge.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,X.toString(r))}gt(t,r){return this.setLimit("min",t,!1,X.toString(r))}lte(t,r){return this.setLimit("max",t,!0,X.toString(r))}lt(t,r){return this.setLimit("max",t,!1,X.toString(r))}setLimit(t,r,n,s){return new yn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:X.toString(s)}]})}_addCheck(t){return new yn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:X.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:X.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:X.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:X.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:X.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:X.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:X.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:X.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:X.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ge.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}yn.create=e=>new yn({checks:[],typeName:ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ae(e)});class vn extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==q.bigint)return this._getInvalidInput(t);let n;const s=new dt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:$.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),V(n,{code:$.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),V(n,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ge.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return V(r,{code:$.invalid_type,expected:q.bigint,received:r.parsedType}),se}gte(t,r){return this.setLimit("min",t,!0,X.toString(r))}gt(t,r){return this.setLimit("min",t,!1,X.toString(r))}lte(t,r){return this.setLimit("max",t,!0,X.toString(r))}lt(t,r){return this.setLimit("max",t,!1,X.toString(r))}setLimit(t,r,n,s){return new vn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:X.toString(s)}]})}_addCheck(t){return new vn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:X.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:X.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:X.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:X.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:X.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vn.create=e=>{var t;return new vn({checks:[],typeName:ne.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ae(e)})};class po extends de{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==q.boolean){const n=this._getOrReturnCtx(t);return V(n,{code:$.invalid_type,expected:q.boolean,received:n.parsedType}),se}return vt(t.data)}}po.create=e=>new po({typeName:ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ae(e)});class Yn extends de{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==q.date){const i=this._getOrReturnCtx(t);return V(i,{code:$.invalid_type,expected:q.date,received:i.parsedType}),se}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return V(i,{code:$.invalid_date}),se}const n=new dt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:$.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),V(s,{code:$.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ge.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Yn({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:X.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:X.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Yn.create=e=>new Yn({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ne.ZodDate,...ae(e)});class ml extends de{_parse(t){if(this._getType(t)!==q.symbol){const n=this._getOrReturnCtx(t);return V(n,{code:$.invalid_type,expected:q.symbol,received:n.parsedType}),se}return vt(t.data)}}ml.create=e=>new ml({typeName:ne.ZodSymbol,...ae(e)});class mo extends de{_parse(t){if(this._getType(t)!==q.undefined){const n=this._getOrReturnCtx(t);return V(n,{code:$.invalid_type,expected:q.undefined,received:n.parsedType}),se}return vt(t.data)}}mo.create=e=>new mo({typeName:ne.ZodUndefined,...ae(e)});class go extends de{_parse(t){if(this._getType(t)!==q.null){const n=this._getOrReturnCtx(t);return V(n,{code:$.invalid_type,expected:q.null,received:n.parsedType}),se}return vt(t.data)}}go.create=e=>new go({typeName:ne.ZodNull,...ae(e)});class Ws extends de{constructor(){super(...arguments),this._any=!0}_parse(t){return vt(t.data)}}Ws.create=e=>new Ws({typeName:ne.ZodAny,...ae(e)});class Wn extends de{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vt(t.data)}}Wn.create=e=>new Wn({typeName:ne.ZodUnknown,...ae(e)});class Ur extends de{_parse(t){const r=this._getOrReturnCtx(t);return V(r,{code:$.invalid_type,expected:q.never,received:r.parsedType}),se}}Ur.create=e=>new Ur({typeName:ne.ZodNever,...ae(e)});class gl extends de{_parse(t){if(this._getType(t)!==q.undefined){const n=this._getOrReturnCtx(t);return V(n,{code:$.invalid_type,expected:q.void,received:n.parsedType}),se}return vt(t.data)}}gl.create=e=>new gl({typeName:ne.ZodVoid,...ae(e)});class ur extends de{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==q.array)return V(r,{code:$.invalid_type,expected:q.array,received:r.parsedType}),se;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(V(r,{code:o?$.too_big:$.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(V(r,{code:$.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(V(r,{code:$.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new kr(r,o,r.path,a)))).then(o=>dt.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new kr(r,o,r.path,a)));return dt.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ur({...this._def,minLength:{value:t,message:X.toString(r)}})}max(t,r){return new ur({...this._def,maxLength:{value:t,message:X.toString(r)}})}length(t,r){return new ur({...this._def,exactLength:{value:t,message:X.toString(r)}})}nonempty(t){return this.min(1,t)}}ur.create=(e,t)=>new ur({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...ae(t)});function fs(e){if(e instanceof Ae){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Sr.create(fs(n))}return new Ae({...e._def,shape:()=>t})}else return e instanceof ur?new ur({...e._def,type:fs(e.element)}):e instanceof Sr?Sr.create(fs(e.unwrap())):e instanceof wn?wn.create(fs(e.unwrap())):e instanceof Er?Er.create(e.items.map(t=>fs(t))):e}class Ae extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ge.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==q.object){const c=this._getOrReturnCtx(t);return V(c,{code:$.invalid_type,expected:q.object,received:c.parsedType}),se}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ur&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new kr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ur){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(V(s,{code:$.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new kr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>dt.mergeObjectSync(n,c)):dt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return X.errToObj,new Ae({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=X.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ae({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ae({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ne.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ae({...this._def,catchall:t})}pick(t){const r={};return ge.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}omit(t){const r={};return ge.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}deepPartial(){return fs(this)}partial(t){const r={};return ge.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Ae({...this._def,shape:()=>r})}required(t){const r={};return ge.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Sr;)i=i._def.innerType;r[n]=i}}),new Ae({...this._def,shape:()=>r})}keyof(){return G0(ge.objectKeys(this.shape))}}Ae.create=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strip",catchall:Ur.create(),typeName:ne.ZodObject,...ae(t)});Ae.strictCreate=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strict",catchall:Ur.create(),typeName:ne.ZodObject,...ae(t)});Ae.lazycreate=(e,t)=>new Ae({shape:e,unknownKeys:"strip",catchall:Ur.create(),typeName:ne.ZodObject,...ae(t)});class yo extends de{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Rt(a.ctx.common.issues));return V(r,{code:$.invalid_union,unionErrors:o}),se}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Rt(l));return V(r,{code:$.invalid_union,unionErrors:a}),se}}get options(){return this._def.options}}yo.create=(e,t)=>new yo({options:e,typeName:ne.ZodUnion,...ae(t)});const jr=e=>e instanceof wo?jr(e.schema):e instanceof fr?jr(e.innerType()):e instanceof bo?[e.value]:e instanceof xn?e.options:e instanceof _o?ge.objectValues(e.enum):e instanceof So?jr(e._def.innerType):e instanceof mo?[void 0]:e instanceof go?[null]:e instanceof Sr?[void 0,...jr(e.unwrap())]:e instanceof wn?[null,...jr(e.unwrap())]:e instanceof ah||e instanceof Eo?jr(e.unwrap()):e instanceof ko?jr(e._def.innerType):[];class ic extends de{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==q.object)return V(r,{code:$.invalid_type,expected:q.object,received:r.parsedType}),se;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(V(r,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=jr(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new ic({typeName:ne.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ae(n)})}}function Ud(e,t){const r=Ir(e),n=Ir(t);if(e===t)return{valid:!0,data:e};if(r===q.object&&n===q.object){const s=ge.objectKeys(t),i=ge.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=Ud(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===q.array&&n===q.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=Ud(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===q.date&&n===q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vo extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Md(i)||Md(o))return se;const a=Ud(i.value,o.value);return a.valid?((Bd(i)||Bd(o))&&r.dirty(),{status:r.value,value:a.data}):(V(n,{code:$.invalid_intersection_types}),se)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vo.create=(e,t,r)=>new vo({left:e,right:t,typeName:ne.ZodIntersection,...ae(r)});class Er extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.array)return V(n,{code:$.invalid_type,expected:q.array,received:n.parsedType}),se;if(n.data.length<this._def.items.length)return V(n,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&n.data.length>this._def.items.length&&(V(n,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new kr(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>dt.mergeArray(r,o)):dt.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Er({...this._def,rest:t})}}Er.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Er({items:e,typeName:ne.ZodTuple,rest:null,...ae(t)})};class xo extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.object)return V(n,{code:$.invalid_type,expected:q.object,received:n.parsedType}),se;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new kr(n,a,n.path,a)),value:o._parse(new kr(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?dt.mergeObjectAsync(r,s):dt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof de?new xo({keyType:t,valueType:r,typeName:ne.ZodRecord,...ae(n)}):new xo({keyType:or.create(),valueType:t,typeName:ne.ZodRecord,...ae(r)})}}class yl extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.map)return V(n,{code:$.invalid_type,expected:q.map,received:n.parsedType}),se;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new kr(n,a,n.path,[c,"key"])),value:i._parse(new kr(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return se;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return se;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}yl.create=(e,t,r)=>new yl({valueType:t,keyType:e,typeName:ne.ZodMap,...ae(r)});class Xn extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.set)return V(n,{code:$.invalid_type,expected:q.set,received:n.parsedType}),se;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(V(n,{code:$.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(V(n,{code:$.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return se;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new kr(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new Xn({...this._def,minSize:{value:t,message:X.toString(r)}})}max(t,r){return new Xn({...this._def,maxSize:{value:t,message:X.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Xn.create=(e,t)=>new Xn({valueType:e,minSize:null,maxSize:null,typeName:ne.ZodSet,...ae(t)});class Ts extends de{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==q.function)return V(r,{code:$.invalid_type,expected:q.function,received:r.parsedType}),se;function n(a,l){return hl({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fl(),Vs].filter(c=>!!c),issueData:{code:$.invalid_arguments,argumentsError:l}})}function s(a,l){return hl({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fl(),Vs].filter(c=>!!c),issueData:{code:$.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Gs){const a=this;return vt(async function(...l){const c=new Rt([]),u=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{const a=this;return vt(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Rt([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Rt([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ts({...this._def,args:Er.create(t).rest(Wn.create())})}returns(t){return new Ts({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Ts({args:t||Er.create([]).rest(Wn.create()),returns:r||Wn.create(),typeName:ne.ZodFunction,...ae(n)})}}class wo extends de{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wo.create=(e,t)=>new wo({getter:e,typeName:ne.ZodLazy,...ae(t)});class bo extends de{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return V(r,{received:r.data,code:$.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:t.data}}get value(){return this._def.value}}bo.create=(e,t)=>new bo({value:e,typeName:ne.ZodLiteral,...ae(t)});function G0(e,t){return new xn({values:e,typeName:ne.ZodEnum,...ae(t)})}class xn extends de{constructor(){super(...arguments),Ni.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return V(r,{expected:ge.joinValues(n),received:r.parsedType,code:$.invalid_type}),se}if(pl(this,Ni)||U0(this,Ni,new Set(this._def.values)),!pl(this,Ni).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return V(r,{received:r.data,code:$.invalid_enum_value,options:n}),se}return vt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return xn.create(t,{...this._def,...r})}exclude(t,r=this._def){return xn.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ni=new WeakMap;xn.create=G0;class _o extends de{constructor(){super(...arguments),ji.set(this,void 0)}_parse(t){const r=ge.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==q.string&&n.parsedType!==q.number){const s=ge.objectValues(r);return V(n,{expected:ge.joinValues(s),received:n.parsedType,code:$.invalid_type}),se}if(pl(this,ji)||U0(this,ji,new Set(ge.getValidEnumValues(this._def.values))),!pl(this,ji).has(t.data)){const s=ge.objectValues(r);return V(n,{received:n.data,code:$.invalid_enum_value,options:s}),se}return vt(t.data)}get enum(){return this._def.values}}ji=new WeakMap;_o.create=(e,t)=>new _o({values:e,typeName:ne.ZodNativeEnum,...ae(t)});class Gs extends de{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==q.promise&&r.common.async===!1)return V(r,{code:$.invalid_type,expected:q.promise,received:r.parsedType}),se;const n=r.parsedType===q.promise?r.data:Promise.resolve(r.data);return vt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Gs.create=(e,t)=>new Gs({type:e,typeName:ne.ZodPromise,...ae(t)});class fr extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{V(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return se;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?se:l.status==="dirty"||r.value==="dirty"?Es(l.value):l});{if(r.value==="aborted")return se;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?se:a.status==="dirty"||r.value==="dirty"?Es(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?se:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?se:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);ge.assertNever(s)}}fr.create=(e,t,r)=>new fr({schema:e,typeName:ne.ZodEffects,effect:t,...ae(r)});fr.createWithPreprocess=(e,t,r)=>new fr({schema:t,effect:{type:"preprocess",transform:e},typeName:ne.ZodEffects,...ae(r)});class Sr extends de{_parse(t){return this._getType(t)===q.undefined?vt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sr.create=(e,t)=>new Sr({innerType:e,typeName:ne.ZodOptional,...ae(t)});class wn extends de{_parse(t){return this._getType(t)===q.null?vt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wn.create=(e,t)=>new wn({innerType:e,typeName:ne.ZodNullable,...ae(t)});class So extends de{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===q.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}So.create=(e,t)=>new So({innerType:e,typeName:ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ae(t)});class ko extends de{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ho(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ae(t)});class vl extends de{_parse(t){if(this._getType(t)!==q.nan){const n=this._getOrReturnCtx(t);return V(n,{code:$.invalid_type,expected:q.nan,received:n.parsedType}),se}return{status:"valid",value:t.data}}}vl.create=e=>new vl({typeName:ne.ZodNaN,...ae(e)});const o2=Symbol("zod_brand");class ah extends de{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wo extends de{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?se:i.status==="dirty"?(r.dirty(),Es(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?se:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Wo({in:t,out:r,typeName:ne.ZodPipeline})}}class Eo extends de{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Qn(s)&&(s.value=Object.freeze(s.value)),s);return ho(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:ne.ZodReadonly,...ae(t)});function Fm(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function H0(e,t={},r){return e?Ws.create().superRefine((n,s)=>{var i,o;const a=e(n);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=Fm(t,n),f=(u=(c=d.fatal)!==null&&c!==void 0?c:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...d,fatal:f})}});if(!a){const l=Fm(t,n),c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):Ws.create()}const a2={object:Ae.lazycreate};var ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ne||(ne={}));const l2=(e,t={message:`Input not instance of ${e.name}`})=>H0(r=>r instanceof e,t),q0=or.create,Z0=yn.create,c2=vl.create,u2=vn.create,K0=po.create,d2=Yn.create,f2=ml.create,h2=mo.create,p2=go.create,m2=Ws.create,g2=Wn.create,y2=Ur.create,v2=gl.create,x2=ur.create,w2=Ae.create,b2=Ae.strictCreate,_2=yo.create,S2=ic.create,k2=vo.create,E2=Er.create,C2=xo.create,N2=yl.create,j2=Xn.create,D2=Ts.create,P2=wo.create,A2=bo.create,I2=xn.create,T2=_o.create,O2=Gs.create,Mm=fr.create,R2=Sr.create,$2=wn.create,L2=fr.createWithPreprocess,F2=Wo.create,M2=()=>q0().optional(),B2=()=>Z0().optional(),U2=()=>K0().optional(),z2={string:e=>or.create({...e,coerce:!0}),number:e=>yn.create({...e,coerce:!0}),boolean:e=>po.create({...e,coerce:!0}),bigint:e=>vn.create({...e,coerce:!0}),date:e=>Yn.create({...e,coerce:!0})},V2=se;var pe=Object.freeze({__proto__:null,defaultErrorMap:Vs,setErrorMap:LC,getErrorMap:fl,makeIssue:hl,EMPTY_PATH:FC,addIssueToContext:V,ParseStatus:dt,INVALID:se,DIRTY:Es,OK:vt,isAborted:Md,isDirty:Bd,isValid:Qn,isAsync:ho,get util(){return ge},get objectUtil(){return Fd},ZodParsedType:q,getParsedType:Ir,ZodType:de,datetimeRegex:W0,ZodString:or,ZodNumber:yn,ZodBigInt:vn,ZodBoolean:po,ZodDate:Yn,ZodSymbol:ml,ZodUndefined:mo,ZodNull:go,ZodAny:Ws,ZodUnknown:Wn,ZodNever:Ur,ZodVoid:gl,ZodArray:ur,ZodObject:Ae,ZodUnion:yo,ZodDiscriminatedUnion:ic,ZodIntersection:vo,ZodTuple:Er,ZodRecord:xo,ZodMap:yl,ZodSet:Xn,ZodFunction:Ts,ZodLazy:wo,ZodLiteral:bo,ZodEnum:xn,ZodNativeEnum:_o,ZodPromise:Gs,ZodEffects:fr,ZodTransformer:fr,ZodOptional:Sr,ZodNullable:wn,ZodDefault:So,ZodCatch:ko,ZodNaN:vl,BRAND:o2,ZodBranded:ah,ZodPipeline:Wo,ZodReadonly:Eo,custom:H0,Schema:de,ZodSchema:de,late:a2,get ZodFirstPartyTypeKind(){return ne},coerce:z2,any:m2,array:x2,bigint:u2,boolean:K0,date:d2,discriminatedUnion:S2,effect:Mm,enum:I2,function:D2,instanceof:l2,intersection:k2,lazy:P2,literal:A2,map:N2,nan:c2,nativeEnum:T2,never:y2,null:p2,nullable:$2,number:Z0,object:w2,oboolean:U2,onumber:B2,optional:R2,ostring:M2,pipeline:F2,preprocess:L2,promise:O2,record:C2,set:j2,strictObject:b2,string:q0,symbol:f2,transformer:Mm,tuple:E2,undefined:h2,union:_2,unknown:g2,void:v2,NEVER:V2,ZodIssueCode:$,quotelessJson:$C,ZodError:Rt});pe.object({email:pe.string().email("Invalid email address"),password:pe.string().min(8,"Password must be at least 8 characters").max(72,"Password must be less than 72 characters"),confirmPassword:pe.string(),company_name:pe.string().min(1,"Company name is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});const W2=pe.object({email:pe.string().email("Invalid email address"),password:pe.string().min(1,"Password is required")}),G2=pe.object({email:pe.string().email("Invalid email format"),password:pe.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least 1 uppercase letter").regex(/[a-z]/,"Password must contain at least 1 lowercase letter").regex(/[0-9]/,"Password must contain at least 1 number").regex(/[^A-Za-z0-9]/,"Password must contain at least 1 special character").optional(),confirmPassword:pe.string().optional(),company_name:pe.string().min(1,"Company name is required").max(100,"Company name too long"),role:pe.enum(["admin","user","manager"])}).refine(e=>e.password||e.confirmPassword?e.password===e.confirmPassword:!0,{message:"Passwords don't match",path:["confirmPassword"]}),H2=pe.object({name:pe.string().min(1,"Name is required").max(100,"Name is too long"),display_name:pe.string().max(100,"Display name is too long").optional(),description:pe.string().max(500,"Description is too long").optional(),status:pe.enum(["active","inactive","archived"]).default("active"),api_url:pe.enum(["https://api.mindstudio.ai/developer/v2/workers/run","https://api.mindstudio.ai/developer/v2/apps/run"]).default("https://api.mindstudio.ai/developer/v2/workers/run"),stages:pe.array(pe.object({name:pe.string(),description:pe.string().optional(),order:pe.number()})).default([]),assignment_rules:pe.record(pe.any()).default({}),approval_levels:pe.number().min(1).max(10).default(1),supports_documents:pe.boolean().default(!1)});function q2({workflow:e,onClose:t,onSave:r}){const[n,s]=w.useState(!1),[i,o]=w.useState("general"),[a,l]=w.useState([{name:"request",value:"request"}]),[c,u]=w.useState(!1),[d,f]=w.useState({name:"",value:""}),[p,x]=w.useState(!1),[m,b]=w.useState(""),[y,g]=w.useState(""),[v,S]=w.useState("https://api.mindstudio.ai/developer/v2/workers/run"),[k,N]=w.useState(!1),[P,C]=w.useState(!1),T=nc({resolver:sc(H2),defaultValues:{status:"active",api_url:"https://api.mindstudio.ai/developer/v2/workers/run",stages:[],assignment_rules:{},approval_levels:1,supports_documents:!1}}),{register:j,handleSubmit:z,formState:{errors:W},watch:G,reset:le}=T;w.useEffect(()=>{var A,O;if(e){console.log("Workflow data received:",e),le({...e,display_name:e.display_name||""}),S(e.api_url||"https://api.mindstudio.ai/developer/v2/workers/run");const te=e.supports_documents===!0,J=e.supports_images===!0;if(console.log("Setting support flags:",{documents:te,images:J}),N(te),C(J),g(((A=e.worker_id)==null?void 0:A.trim())||""),b(((O=e.api_auth_token)==null?void 0:O.trim())||""),e.variables&&Array.isArray(e.variables)){const xe=e.variables.map(ie=>({name:typeof ie.name=="string"?ie.name:"",value:typeof ie.value=="string"?ie.value:""}));l(xe.length>0?xe:[{name:"request",value:"request"}])}}},[e,le]);const R=async A=>{var O,te;try{s(!0);const J=[];if((O=A.name)!=null&&O.trim()||J.push("Workflow Name"),y!=null&&y.trim()||J.push("Worker ID"),m!=null&&m.trim()||J.push("Authorization"),a.length===0&&J.push("At least one variable"),J.length>0){re.error(`Missing required fields: ${J.join(", ")}`),s(!1);return}const{data:xe}=await H.auth.getUser();if(!((te=xe==null?void 0:xe.user)!=null&&te.id))throw new Error("User not authenticated");const ie={...A,api_url:v,worker_id:y.trim(),api_auth_token:m.trim().startsWith("Bearer ")?m.trim():`Bearer ${m.trim()}`,variables:a.map($e=>({name:$e.name.trim(),value:$e.value.trim()})),api_config:{method:"post",url:v,content_type:"application/json"},created_by:xe.user.id},{error:Ze}=e?await H.from("workflows").update({name:ie.name,description:ie.description,display_name:ie.display_name,status:ie.status,api_url:ie.api_url,stages:ie.stages,assignment_rules:ie.assignment_rules,approval_levels:ie.approval_levels,worker_id:ie.worker_id,api_auth_token:ie.api_auth_token,api_config:ie.api_config,variables:ie.variables,created_by:ie.created_by,supports_documents:!!k,supports_images:!!P}).eq("id",e.id):await H.from("workflows").insert([{name:ie.name,description:ie.description,display_name:ie.display_name,status:ie.status,api_url:ie.api_url,stages:ie.stages,assignment_rules:ie.assignment_rules,approval_levels:ie.approval_levels,worker_id:ie.worker_id,api_auth_token:ie.api_auth_token,api_config:ie.api_config,variables:ie.variables,created_by:ie.created_by,supports_documents:!!k,supports_images:!!P}]);if(Ze)throw console.error("Supabase error:",Ze),new Error(Ze.message);re.success(e?"Workflow updated":"Workflow created"),r()}catch(J){console.error("Error:",J),re.error(J instanceof Error?J.message:"Failed to save workflow")}finally{s(!1)}},oe=()=>{d.name&&d.value&&(l(A=>{const O=[...A];return O.push({name:d.name.trim(),value:d.value.trim()}),O}),f({name:"",value:""}),u(!1))},B=A=>{A!==0&&l(O=>O.filter((te,J)=>J!==A))},I=async()=>{if(!y){re.error("Worker ID is required");return}if(!m){re.error("Authorization token is required");return}try{if(x(!0),!(e!=null&&e.id)){re.error("Workflow must be saved before testing");return}await M0({workerId:y,apiAuthToken:m.startsWith("Bearer ")?m:`Bearer ${m}`,apiConfig:{method:"post",url:v,content_type:"application/json"},variables:{...Object.fromEntries(a.map(A=>[A.name,A.value])),workflow:G("name")||""}}),re.success("API test successful")}catch(A){console.error("API test error:",A),re.error(A instanceof Error?A.message:"API test failed")}finally{x(!1)}};return h.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:e?"Edit Workflow":"Add Workflow"}),h.jsx("button",{onClick:t,className:"text-[#757575] hover:text-[#E0E0E0] transition-colors",children:h.jsx(Jf,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex space-x-4 border-b border-[#2D2D2D]",children:[h.jsx("button",{onClick:()=>o("general"),className:`py-2 px-4 ${i==="general"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"General"}),h.jsx("button",{onClick:()=>o("api"),className:`py-2 px-4 ${i==="api"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"API Configuration"}),h.jsx("button",{onClick:()=>o("variables"),className:`py-2 px-4 ${i==="variables"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"Variables"})]}),h.jsxs("form",{onSubmit:z(R),className:"space-y-6",children:[i==="general"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Internal Name"}),h.jsx("input",{...j("name"),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter internal workflow name"}),W.name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:W.name.message}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"This name is used internally and for API calls"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Display Name"}),h.jsx("input",{...j("display_name"),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter display name (optional)"}),W.display_name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:W.display_name.message}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"This name will be shown in the sidebar (falls back to internal name if not set)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),h.jsx("textarea",{...j("description"),rows:3,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter workflow description"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Worker ID"}),h.jsx("input",{required:!0,type:"text",value:y,onChange:A=>g(A.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter worker ID"}),!(y!=null&&y.trim())&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Worker ID is required"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",id:"documentUpload",checked:k,onChange:A=>N(A.target.checked),className:"rounded border-[#2D2D2D] bg-[#1A1B1E] text-[#f7ab38] focus:ring-[#f7ab38]"}),h.jsx("label",{htmlFor:"documentUpload",className:"text-white",children:"Support Document Uploads"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"checkbox",id:"imageUpload",checked:P,onChange:A=>{const O=A.target.checked;console.log("Changing supports_images to:",O),C(O)},className:"rounded border-[#2D2D2D] bg-[#1A1B1E] text-[#f7ab38] focus:ring-[#f7ab38]"}),h.jsx("label",{htmlFor:"imageUpload",className:"text-white",children:"Support Image Uploads"})]})]}),(k||P)&&h.jsx("p",{className:"text-sm text-[#757575]",children:k&&P?"Documents (.pdf, .doc, .docx, .txt) and Images (.png, .jpg, .jpeg, .gif) are supported":k?"Documents (.pdf, .doc, .docx, .txt) are supported":"Images (.png, .jpg, .jpeg, .gif) are supported"})]})]}),i==="api"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Authorization"}),h.jsx("input",{required:!0,type:"text",value:m,onChange:A=>b(A.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Bearer"}),!(m!=null&&m.trim())&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Authorization token is required"}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"Private key in header"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"API Endpoint"}),h.jsxs("select",{...j("api_url"),value:v,onChange:A=>S(A.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",children:[h.jsx("option",{value:"https://api.mindstudio.ai/developer/v2/workers/run",children:"Workers API"}),h.jsx("option",{value:"https://api.mindstudio.ai/developer/v2/apps/run",children:"Apps API"})]}),h.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"Select the API endpoint for this workflow"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Content-Type"}),h.jsx("input",{type:"text",value:"application/json",readOnly:!0,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"API Method"}),h.jsx("input",{type:"text",value:"post",readOnly:!0,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),h.jsx("button",{type:"button",onClick:I,disabled:p,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?h.jsxs(h.Fragment,{children:[h.jsx(Jn,{className:"w-5 h-5 mr-2 animate-spin"}),h.jsx("span",{children:"Testing..."})]}):h.jsx("span",{children:"Test API"})})]}),i==="variables"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Body Parameters"}),h.jsxs("div",{className:"space-y-3",children:[a.length===0&&h.jsx("p",{className:"text-sm text-red-500",children:"At least one variable is required"}),a.map((A,O)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-sm text-[#757575] mb-1",children:A.name}),h.jsx("input",{type:"text",value:A.value,readOnly:O===0,onChange:te=>{l(J=>{const xe=[...J];return xe[O]={...xe[O],value:te.target.value},xe})},className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),O!==0&&h.jsx("button",{type:"button",onClick:()=>B(O),className:"mt-6 p-2 text-red-500 hover:text-red-400 transition-colors",children:h.jsx(Zl,{className:"w-5 h-5"})})]},O))]}),h.jsxs("button",{type:"button",onClick:()=>u(!0),className:"mt-4 px-4 py-2 text-white hover:bg-[#2D2D2D] rounded-lg transition-colors flex items-center space-x-2",children:[h.jsx(Kf,{className:"w-5 h-5"}),h.jsx("span",{children:"Add Variable"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Body Preview"}),h.jsx("pre",{className:"w-full p-4 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] font-mono text-sm",children:JSON.stringify({workerId:y,variables:Object.fromEntries(a.map(A=>[A.name,A.value])),workflow:G("name")||""},null,2)})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white hover:text-[#f7ab38] transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center",onClick:()=>{if(!(y!=null&&y.trim())||!(m!=null&&m.trim())||a.length===0){re.error("Please fill in all required fields");return}},children:n?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"animate-spin mr-2",children:"⌛"}),"Saving..."]}):h.jsx(h.Fragment,{children:"Save Workflow"})})]})]})]})}),c&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-md p-6 space-y-4",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Variable"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Variable Name"}),h.jsx("input",{type:"text",value:d.name,onChange:A=>f({...d,name:A.target.value}),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter variable name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Variable Value"}),h.jsx("input",{type:"text",value:d.value,onChange:A=>f({...d,value:A.target.value}),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter variable value"})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>{u(!1),f({name:"",value:""})},className:"px-4 py-2 text-white hover:text-[#f7ab38] transition-colors",children:"Cancel"}),h.jsx("button",{type:"button",onClick:oe,disabled:!d.name||!d.value,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50",children:"Add Variable"})]})]})})]})}function Z2({workflowId:e}){const[t,r]=w.useState([]),[n,s]=w.useState(!0),i=async()=>{try{s(!0);const{data:l,error:c}=await H.from("workflow_logs").select("*").eq("workflow_id",e).order("timestamp",{ascending:!1}).limit(50);if(c)throw c;r(l||[])}catch(l){console.error("Error fetching logs:",l)}finally{s(!1)}};w.useEffect(()=>{i()},[e]);const o=l=>{switch(l){case"error":return h.jsx(qf,{className:"w-5 h-5 text-red-500"});case"warning":return h.jsx(r0,{className:"w-5 h-5 text-yellow-500"});default:return h.jsx(s0,{className:"w-5 h-5 text-blue-500"})}},a=l=>{switch(l){case"error":return"border-red-500/20 bg-red-500/10";case"warning":return"border-yellow-500/20 bg-yellow-500/10";default:return"border-blue-500/20 bg-blue-500/10"}};return n?h.jsx("div",{className:"flex items-center justify-center p-4",children:h.jsx(Vn,{className:"w-6 h-6 animate-spin text-[#BB86FC]"})}):h.jsxs("div",{className:"space-y-4 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0]",children:"Workflow Logs"}),h.jsx("button",{onClick:i,className:"text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",children:h.jsx(Vn,{className:"w-5 h-5"})})]}),t.length===0?h.jsx("div",{className:"text-center text-[#757575] py-8",children:"No logs available"}):h.jsx("div",{className:"space-y-3",children:t.map(l=>h.jsx("div",{className:`p-4 rounded-lg border ${a(l.level)} animate-fade-in`,children:h.jsxs("div",{className:"flex items-start space-x-3",children:[o(l.level),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium text-[#E0E0E0]",children:new Date(l.timestamp).toLocaleString()}),h.jsx("span",{className:"text-xs uppercase text-[#757575]",children:l.level})]}),h.jsx("p",{className:"mt-1 text-[#E0E0E0]",children:l.message}),l.details&&h.jsx("pre",{className:"mt-2 p-2 rounded bg-black/20 text-sm text-[#BB86FC] overflow-x-auto",children:JSON.stringify(l.details,null,2)})]})]})},l.id))})]})}function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function K2(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J2(e){var t=K2(e,"string");return Co(t)=="symbol"?t:t+""}function Q2(e,t,r){return(t=J2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bm(Object(r),!0).forEach(function(n){Q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function St(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var zm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),xu=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vm={INIT:"@@redux/INIT"+xu(),REPLACE:"@@redux/REPLACE"+xu(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xu()}};function Y2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function J0(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(St(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(St(1));return r(J0)(e,t)}if(typeof e!="function")throw new Error(St(2));var s=e,i=t,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(St(3));return i}function d(m){if(typeof m!="function")throw new Error(St(4));if(l)throw new Error(St(5));var b=!0;return c(),a.push(m),function(){if(b){if(l)throw new Error(St(6));b=!1,c();var g=a.indexOf(m);a.splice(g,1),o=null}}}function f(m){if(!Y2(m))throw new Error(St(7));if(typeof m.type>"u")throw new Error(St(8));if(l)throw new Error(St(9));try{l=!0,i=s(i,m)}finally{l=!1}for(var b=o=a,y=0;y<b.length;y++){var g=b[y];g()}return m}function p(m){if(typeof m!="function")throw new Error(St(10));s=m,f({type:Vm.REPLACE})}function x(){var m,b=d;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(St(11));function v(){g.next&&g.next(u())}v();var S=b(v);return{unsubscribe:S}}},m[zm]=function(){return this},m}return f({type:Vm.INIT}),n={dispatch:f,subscribe:d,getState:u,replaceReducer:p},n[zm]=x,n}function Wm(e,t){return function(){return t(e.apply(this,arguments))}}function Gm(e,t){if(typeof e=="function")return Wm(e,t);if(typeof e!="object"||e===null)throw new Error(St(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Wm(s,t))}return r}function Q0(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function X2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(St(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return i=Q0.apply(void 0,a)(s.dispatch),Um(Um({},s),{},{dispatch:i})}}}var Y0={exports:{}},X0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=w;function eN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tN=typeof Object.is=="function"?Object.is:eN,rN=Hs.useState,nN=Hs.useEffect,sN=Hs.useLayoutEffect,iN=Hs.useDebugValue;function oN(e,t){var r=t(),n=rN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return sN(function(){s.value=r,s.getSnapshot=t,wu(s)&&i({inst:s})},[e,r,t]),nN(function(){return wu(s)&&i({inst:s}),e(function(){wu(s)&&i({inst:s})})},[e]),iN(r),r}function wu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tN(e,r)}catch{return!0}}function aN(e,t){return t()}var lN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aN:oN;X0.useSyncExternalStore=Hs.useSyncExternalStore!==void 0?Hs.useSyncExternalStore:lN;Y0.exports=X0;var ex=Y0.exports,cN={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=w,uN=ex;function dN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fN=typeof Object.is=="function"?Object.is:dN,hN=uN.useSyncExternalStore,pN=oc.useRef,mN=oc.useEffect,gN=oc.useMemo,yN=oc.useDebugValue;cN.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=pN(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=gN(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var x=o.value;if(s(x,p))return d=x}return d=p}if(x=d,fN(u,p))return x;var m=n(p);return s!==void 0&&s(x,m)?(u=p,x):(u=p,d=m)}var c=!1,u,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,s]);var a=hN(e,i[0],i[1]);return mN(function(){o.hasValue=!0,o.value=a},[a]),yN(a),a};function vN(e){e()}let tx=vN;const xN=e=>tx=e,wN=()=>tx,Hm=Symbol.for("react-redux-context"),qm=typeof globalThis<"u"?globalThis:{};function bN(){var e;if(!w.createContext)return{};const t=(e=qm[Hm])!=null?e:qm[Hm]=new Map;let r=t.get(w.createContext);return r||(r=w.createContext(null),t.set(w.createContext,r)),r}const rx=bN(),_N=()=>{throw new Error("uSES not initialized!")};function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fn.apply(null,arguments)}function nx(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sx={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=typeof Symbol=="function"&&Symbol.for,lh=et?Symbol.for("react.element"):60103,ch=et?Symbol.for("react.portal"):60106,ac=et?Symbol.for("react.fragment"):60107,lc=et?Symbol.for("react.strict_mode"):60108,cc=et?Symbol.for("react.profiler"):60114,uc=et?Symbol.for("react.provider"):60109,dc=et?Symbol.for("react.context"):60110,uh=et?Symbol.for("react.async_mode"):60111,fc=et?Symbol.for("react.concurrent_mode"):60111,hc=et?Symbol.for("react.forward_ref"):60112,pc=et?Symbol.for("react.suspense"):60113,SN=et?Symbol.for("react.suspense_list"):60120,mc=et?Symbol.for("react.memo"):60115,gc=et?Symbol.for("react.lazy"):60116,kN=et?Symbol.for("react.block"):60121,EN=et?Symbol.for("react.fundamental"):60117,CN=et?Symbol.for("react.responder"):60118,NN=et?Symbol.for("react.scope"):60119;function Ut(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lh:switch(e=e.type,e){case uh:case fc:case ac:case cc:case lc:case pc:return e;default:switch(e=e&&e.$$typeof,e){case dc:case hc:case gc:case mc:case uc:return e;default:return t}}case ch:return t}}}function ix(e){return Ut(e)===fc}_e.AsyncMode=uh;_e.ConcurrentMode=fc;_e.ContextConsumer=dc;_e.ContextProvider=uc;_e.Element=lh;_e.ForwardRef=hc;_e.Fragment=ac;_e.Lazy=gc;_e.Memo=mc;_e.Portal=ch;_e.Profiler=cc;_e.StrictMode=lc;_e.Suspense=pc;_e.isAsyncMode=function(e){return ix(e)||Ut(e)===uh};_e.isConcurrentMode=ix;_e.isContextConsumer=function(e){return Ut(e)===dc};_e.isContextProvider=function(e){return Ut(e)===uc};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lh};_e.isForwardRef=function(e){return Ut(e)===hc};_e.isFragment=function(e){return Ut(e)===ac};_e.isLazy=function(e){return Ut(e)===gc};_e.isMemo=function(e){return Ut(e)===mc};_e.isPortal=function(e){return Ut(e)===ch};_e.isProfiler=function(e){return Ut(e)===cc};_e.isStrictMode=function(e){return Ut(e)===lc};_e.isSuspense=function(e){return Ut(e)===pc};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ac||e===fc||e===cc||e===lc||e===pc||e===SN||typeof e=="object"&&e!==null&&(e.$$typeof===gc||e.$$typeof===mc||e.$$typeof===uc||e.$$typeof===dc||e.$$typeof===hc||e.$$typeof===EN||e.$$typeof===CN||e.$$typeof===NN||e.$$typeof===kN)};_e.typeOf=Ut;sx.exports=_e;var jN=sx.exports,dh=jN,DN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ox={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fh={};fh[dh.ForwardRef]=AN;fh[dh.Memo]=ox;function Zm(e){return dh.isMemo(e)?ox:fh[e.$$typeof]||DN}var IN=Object.defineProperty,TN=Object.getOwnPropertyNames,Km=Object.getOwnPropertySymbols,ON=Object.getOwnPropertyDescriptor,RN=Object.getPrototypeOf,Jm=Object.prototype;function ax(e,t,r){if(typeof t!="string"){if(Jm){var n=RN(t);n&&n!==Jm&&ax(e,n,r)}var s=TN(t);Km&&(s=s.concat(Km(t)));for(var i=Zm(e),o=Zm(t),a=0;a<s.length;++a){var l=s[a];if(!PN[l]&&!(r&&r[l])&&!(o&&o[l])&&!(i&&i[l])){var c=ON(t,l);try{IN(e,l,c)}catch{}}}}return e}var $N=ax;const Qm=Kd($N);var lx={exports:{}},Se={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),ph=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),vc=Symbol.for("react.strict_mode"),xc=Symbol.for("react.profiler"),wc=Symbol.for("react.provider"),bc=Symbol.for("react.context"),LN=Symbol.for("react.server_context"),_c=Symbol.for("react.forward_ref"),Sc=Symbol.for("react.suspense"),kc=Symbol.for("react.suspense_list"),Ec=Symbol.for("react.memo"),Cc=Symbol.for("react.lazy"),FN=Symbol.for("react.offscreen"),cx;cx=Symbol.for("react.module.reference");function Yt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hh:switch(e=e.type,e){case yc:case xc:case vc:case Sc:case kc:return e;default:switch(e=e&&e.$$typeof,e){case LN:case bc:case _c:case Cc:case Ec:case wc:return e;default:return t}}case ph:return t}}}Se.ContextConsumer=bc;Se.ContextProvider=wc;Se.Element=hh;Se.ForwardRef=_c;Se.Fragment=yc;Se.Lazy=Cc;Se.Memo=Ec;Se.Portal=ph;Se.Profiler=xc;Se.StrictMode=vc;Se.Suspense=Sc;Se.SuspenseList=kc;Se.isAsyncMode=function(){return!1};Se.isConcurrentMode=function(){return!1};Se.isContextConsumer=function(e){return Yt(e)===bc};Se.isContextProvider=function(e){return Yt(e)===wc};Se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hh};Se.isForwardRef=function(e){return Yt(e)===_c};Se.isFragment=function(e){return Yt(e)===yc};Se.isLazy=function(e){return Yt(e)===Cc};Se.isMemo=function(e){return Yt(e)===Ec};Se.isPortal=function(e){return Yt(e)===ph};Se.isProfiler=function(e){return Yt(e)===xc};Se.isStrictMode=function(e){return Yt(e)===vc};Se.isSuspense=function(e){return Yt(e)===Sc};Se.isSuspenseList=function(e){return Yt(e)===kc};Se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yc||e===xc||e===vc||e===Sc||e===kc||e===FN||typeof e=="object"&&e!==null&&(e.$$typeof===Cc||e.$$typeof===Ec||e.$$typeof===wc||e.$$typeof===bc||e.$$typeof===_c||e.$$typeof===cx||e.getModuleId!==void 0)};Se.typeOf=Yt;lx.exports=Se;var MN=lx.exports;const BN=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function UN(e,t,r,n,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let a=!1,l,c,u,d,f;function p(g,v){return l=g,c=v,u=e(l,c),d=t(n,c),f=r(u,d,c),a=!0,f}function x(){return u=e(l,c),t.dependsOnOwnProps&&(d=t(n,c)),f=r(u,d,c),f}function m(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(d=t(n,c)),f=r(u,d,c),f}function b(){const g=e(l,c),v=!o(g,u);return u=g,v&&(f=r(u,d,c)),f}function y(g,v){const S=!i(v,c),k=!s(g,l,v,c);return l=g,c=v,S&&k?x():S?m():k?b():f}return function(v,S){return a?y(v,S):p(v,S)}}function zN(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:s}=t,i=nx(t,BN);const o=r(e,i),a=n(e,i),l=s(e,i);return UN(o,a,l,e,i)}function VN(e,t){const r={};for(const n in e){const s=e[n];typeof s=="function"&&(r[n]=(...i)=>t(s(...i)))}return r}function zd(e){return function(r){const n=e(r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function Ym(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function ux(e,t){return function(n,{displayName:s}){const i=function(a,l){return i.dependsOnOwnProps?i.mapToProps(a,l):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,l){i.mapToProps=e,i.dependsOnOwnProps=Ym(e);let c=i(a,l);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=Ym(c),c=i(a,l)),c},i}}function mh(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function WN(e){return e&&typeof e=="object"?zd(t=>VN(e,t)):e?typeof e=="function"?ux(e):mh(e,"mapDispatchToProps"):zd(t=>({dispatch:t}))}function GN(e){return e?typeof e=="function"?ux(e):mh(e,"mapStateToProps"):zd(()=>({}))}function HN(e,t,r){return fn({},r,e,t)}function qN(e){return function(r,{displayName:n,areMergedPropsEqual:s}){let i=!1,o;return function(l,c,u){const d=e(l,c,u);return i?s(d,o)||(o=d):(i=!0,o=d),o}}}function ZN(e){return e?typeof e=="function"?qN(e):mh(e,"mergeProps"):()=>HN}function KN(){const e=wN();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,i=r={callback:n,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const Xm={notify(){},get:()=>[]};function dx(e,t){let r,n=Xm,s=0,i=!1;function o(m){u();const b=n.subscribe(m);let y=!1;return()=>{y||(y=!0,b(),d())}}function a(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function c(){return i}function u(){s++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=KN())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=Xm)}function f(){i||(i=!0,u())}function p(){i&&(i=!1,d())}const x={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return x}const JN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xl=JN?w.useLayoutEffect:w.useEffect;function eg(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function bu(e,t){if(eg(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!eg(e[r[s]],t[r[s]]))return!1;return!0}const QN=["reactReduxForwardedRef"];let fx=_N;const YN=e=>{fx=e},XN=[null,null];function ej(e,t,r){xl(()=>e(...t),r)}function tj(e,t,r,n,s,i){e.current=n,r.current=!1,s.current&&(s.current=null,i())}function rj(e,t,r,n,s,i,o,a,l,c,u){if(!e)return()=>{};let d=!1,f=null;const p=()=>{if(d||!a.current)return;const m=t.getState();let b,y;try{b=n(m,s.current)}catch(g){y=g,f=g}y||(f=null),b===i.current?o.current||c():(i.current=b,l.current=b,o.current=!0,u())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}function nj(e,t){return e===t}function hx(e,t,r,{pure:n,areStatesEqual:s=nj,areOwnPropsEqual:i=bu,areStatePropsEqual:o=bu,areMergedPropsEqual:a=bu,forwardRef:l=!1,context:c=rx}={}){const u=c,d=GN(e),f=WN(t),p=ZN(r),x=!!e;return b=>{const y=b.displayName||b.name||"Component",g=`Connect(${y})`,v={shouldHandleStateChanges:x,displayName:g,wrappedComponentName:y,WrappedComponent:b,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:a};function S(P){const[C,T,j]=w.useMemo(()=>{const{reactReduxForwardedRef:Ve}=P,pr=nx(P,QN);return[P.context,Ve,pr]},[P]),z=w.useMemo(()=>C&&C.Consumer&&MN.isContextConsumer(w.createElement(C.Consumer,null))?C:u,[C,u]),W=w.useContext(z),G=!!P.store&&!!P.store.getState&&!!P.store.dispatch,le=!!W&&!!W.store,R=G?P.store:W.store,oe=le?W.getServerState:R.getState,B=w.useMemo(()=>zN(R.dispatch,v),[R]),[I,A]=w.useMemo(()=>{if(!x)return XN;const Ve=dx(R,G?void 0:W.subscription),pr=Ve.notifyNestedSubs.bind(Ve);return[Ve,pr]},[R,G,W]),O=w.useMemo(()=>G?W:fn({},W,{subscription:I}),[G,W,I]),te=w.useRef(),J=w.useRef(j),xe=w.useRef(),ie=w.useRef(!1);w.useRef(!1);const Ze=w.useRef(!1),$e=w.useRef();xl(()=>(Ze.current=!0,()=>{Ze.current=!1}),[]);const bt=w.useMemo(()=>()=>xe.current&&j===J.current?xe.current:B(R.getState(),j),[R,j]),oi=w.useMemo(()=>pr=>I?rj(x,R,I,B,J,te,ie,Ze,xe,A,pr):()=>{},[I]);ej(tj,[J,te,ie,j,xe,A]);let Pe;try{Pe=fx(oi,bt,oe?()=>B(oe(),j):bt)}catch(Ve){throw $e.current&&(Ve.message+=`
The error may be correlated with this previous error:
${$e.current.stack}

`),Ve}xl(()=>{$e.current=void 0,xe.current=void 0,te.current=Pe});const Me=w.useMemo(()=>w.createElement(b,fn({},Pe,{ref:T})),[T,b,Pe]);return w.useMemo(()=>x?w.createElement(z.Provider,{value:O},Me):Me,[z,Me,O])}const N=w.memo(S);if(N.WrappedComponent=b,N.displayName=S.displayName=g,l){const C=w.forwardRef(function(j,z){return w.createElement(N,fn({},j,{reactReduxForwardedRef:z}))});return C.displayName=g,C.WrappedComponent=b,Qm(C,b)}return Qm(N,b)}}function sj({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",noopCheck:i="once"}){const o=w.useMemo(()=>{const c=dx(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:s,noopCheck:i}},[e,n,s,i]),a=w.useMemo(()=>e.getState(),[e]);xl(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=t||rx;return w.createElement(l.Provider,{value:o},r)}YN(ex.useSyncExternalStore);xN(Mo.unstable_batchedUpdates);function ij(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function px(e,t){var r=w.useState(function(){return{inputs:t,result:e()}})[0],n=w.useRef(!0),s=w.useRef(r),i=n.current||!!(t&&s.current.inputs&&ij(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return w.useEffect(function(){n.current=!1,s.current=o},[o]),o.result}function oj(e,t){return px(function(){return e},t)}var me=px,ee=oj,aj="Invariant failed";function lj(e,t){throw new Error(aj)}var ar=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,a=s-r,l={top:r,right:n,bottom:s,left:i,width:o,height:a,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return l},gh=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},tg=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},cj=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},_u={top:0,right:0,bottom:0,left:0},yh=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?_u:n,i=t.border,o=i===void 0?_u:i,a=t.padding,l=a===void 0?_u:a,c=ar(gh(r,s)),u=ar(tg(r,o)),d=ar(tg(u,l));return{marginBox:c,borderBox:ar(r),paddingBox:u,contentBox:d,margin:s,border:o,padding:l}},zt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&lj(),s},uj=function(){return{x:window.pageXOffset,y:window.pageYOffset}},wl=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,o=t.padding,a=cj(n,r);return yh({borderBox:a,border:s,margin:i,padding:o})},bl=function(t,r){return r===void 0&&(r=uj()),wl(t,r)},mx=function(t,r){var n={top:zt(r.marginTop),right:zt(r.marginRight),bottom:zt(r.marginBottom),left:zt(r.marginLeft)},s={top:zt(r.paddingTop),right:zt(r.paddingRight),bottom:zt(r.paddingBottom),left:zt(r.paddingLeft)},i={top:zt(r.borderTopWidth),right:zt(r.borderRightWidth),bottom:zt(r.borderBottomWidth),left:zt(r.borderLeftWidth)};return yh({borderBox:t,margin:n,padding:s,border:i})},gx=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return mx(r,n)},rg=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function dj(e,t){return!!(e===t||rg(e)&&rg(t))}function fj(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!dj(e[r],t[r]))return!1;return!0}function Ye(e,t){t===void 0&&(t=fj);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var No=function(t){var r=[],n=null,s=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function yx(e,t){}yx.bind(null,"warn");yx.bind(null,"error");function hn(){}function hj(e,t){return{...e,...t}}function Ht(e,t,r){const n=t.map(s=>{const i=hj(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(i=>{i()})}}const pj="Invariant failed";class _l extends Error{}_l.prototype.toString=function(){return this.message};function M(e,t){throw new _l(pj)}let mj=class extends ue.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=hn,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof _l&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Ht(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof _l){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const gj=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Sl=e=>e+1,yj=e=>`
  You have lifted an item in position ${Sl(e.source.index)}
`,vx=(e,t)=>{const r=e.droppableId===t.droppableId,n=Sl(e.index),s=Sl(t.index);return r?`
      You have moved the item from position ${n}
      to position ${s}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},xx=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,vj=e=>{const t=e.destination;if(t)return vx(e.source,t);const r=e.combine;return r?xx(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},ng=e=>`
  The item has returned to its starting position
  of ${Sl(e.index)}
`,xj=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ng(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${vx(e.source,t)}
    `:r?`
      You have dropped the item.
      ${xx(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${ng(e.source)}
  `},wj={dragHandleUsageInstructions:gj,onDragStart:yj,onDragUpdate:vj,onDragEnd:xj};var Ra=wj;const Xe={x:0,y:0},rt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Tt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),pn=(e,t)=>e.x===t.x&&e.y===t.y,ni=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),es=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},jo=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),sg=(e,t)=>Math.min(...t.map(r=>jo(e,r))),wx=e=>t=>({x:e(t.x),y:e(t.y)});var bj=(e,t)=>{const r=ar({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Go=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ig=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],_j={top:0,right:0,bottom:0,left:0},Sj=(e,t)=>t?Go(e,t.scroll.diff.displacement):e,kj=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Ej=(e,t)=>t&&t.shouldClipSubject?bj(t.pageMarginBox,e):ar(e);var qs=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const s=Sj(e.marginBox,n),i=kj(s,r,t),o=Ej(i,n);return{page:e,withPlaceholder:t,active:o}},vh=(e,t)=>{e.frame||M();const r=e.frame,n=Tt(t,r.scroll.initial),s=ni(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}},o=qs({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};const bx=Ye(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),_x=Ye(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Nc=Ye(e=>Object.values(e)),Cj=Ye(e=>Object.values(e));var si=Ye((e,t)=>Cj(t).filter(n=>e===n.descriptor.droppableId).sort((n,s)=>n.descriptor.index-s.descriptor.index));function xh(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function jc(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Dc=Ye((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Nj=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:s})=>{if(!r.isCombineEnabled||!xh(s))return null;function o(p){const x={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return{...s,at:x}}const a=s.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=Dc(t,n);if(!l){if(!c.length)return null;const p=c[c.length-1];return o(p.descriptor.id)}const u=c.findIndex(p=>p.descriptor.id===l);u===-1&&M();const d=u-1;if(d<0)return null;const f=c[d];return o(f.descriptor.id)},ii=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Sx={point:Xe,value:0},Do={invisible:{},visible:{},all:[]},jj={displaced:Do,displacedBy:Sx,at:null};var Dj=jj,Zt=(e,t)=>r=>e<=r&&r<=t,kx=e=>{const t=Zt(e.top,e.bottom),r=Zt(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right);if(i&&o)return!0;const l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right;return l&&c?!0:l&&o||c&&i}},Pj=e=>{const t=Zt(e.top,e.bottom),r=Zt(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const wh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ex={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Aj=e=>t=>{const r=Zt(t.top,t.bottom),n=Zt(t.left,t.right);return s=>e===wh?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)};const Ij=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Xe;return Go(e,r)},Tj=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Oj=(e,t,r)=>r(t)(e),bh=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:s})=>{const i=n?Ij(e,t):e;return Tj(i,t,s)&&Oj(i,r,s)},Rj=e=>bh({...e,isVisibleThroughFrameFn:kx}),Cx=e=>bh({...e,isVisibleThroughFrameFn:Pj}),$j=e=>bh({...e,isVisibleThroughFrameFn:Aj(e.destination.axis)}),Lj=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:s}=t;if(n[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function Fj(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return ar(gh(r,n))}function Po({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:s,last:i}){return e.reduce(function(a,l){const c=Fj(l,r),u=l.descriptor.id;if(a.all.push(u),!Rj({target:c,destination:t,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=Lj(u,i,s),p={draggableId:u,shouldAnimate:f};return a.visible[u]=p,a},{all:[],visible:{},invisible:{}})}function Mj(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function og({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const s=Mj(e,{inHomeList:t});return{displaced:Do,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function kl({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:s,last:i,index:o,forceShouldAnimate:a}){const l=ii(e,r);if(o==null)return og({insideDestination:t,inHomeList:l,displacedBy:s,destination:r});const c=t.find(x=>x.descriptor.index===o);if(!c)return og({insideDestination:t,inHomeList:l,displacedBy:s,destination:r});const u=Dc(e,t),d=t.indexOf(c),f=u.slice(d);return{displaced:Po({afterDragging:f,destination:r,displacedBy:s,last:i,viewport:n.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function bn(e,t){return!!t.effected[e]}var Bj=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,a=r[i].descriptor.index;return bn(i,s)?e?a:a-1:e?a+1:a},Uj=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const s=n.index,i=e?s+1:s-1,o=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=t?a:a+1;return i<o||i>l?null:i},zj=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:s,insideDestination:i,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||M(),c.type==="REORDER"){const d=Uj({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:i});return d==null?null:kl({draggable:r,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})}const u=Bj({isMovingForward:e,destination:s,displaced:o.displaced,draggables:n,combine:c.combine,afterCritical:l});return u==null?null:kl({draggable:r,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},Vj=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const s=!!(e.visible[r]||e.invisible[r]);return bn(r,t)?s?Xe:ni(n.point):s?n.point:Xe},Wj=({afterCritical:e,impact:t,draggables:r})=>{const n=jc(t);n||M();const s=n.draggableId,i=r[s].page.borderBox.center,o=Vj({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return rt(i,o)};const Nx=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Gj=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,_h=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,ag=({axis:e,moveRelativeTo:t,isMoving:r})=>es(e.line,t.marginBox[e.end]+Nx(e,r),_h(e,t.marginBox,r)),lg=({axis:e,moveRelativeTo:t,isMoving:r})=>es(e.line,t.marginBox[e.start]-Gj(e,r),_h(e,t.marginBox,r)),Hj=({axis:e,moveInto:t,isMoving:r})=>es(e.line,t.contentBox[e.start]+Nx(e,r),_h(e,t.contentBox,r));var qj=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s})=>{const i=si(n.descriptor.id,r),o=t.page,a=n.axis;if(!i.length)return Hj({axis:a,moveInto:n.page,isMoving:o});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const f=r[u];if(bn(u,s))return lg({axis:a,moveRelativeTo:f.page,isMoving:o});const p=wl(f.page,c.point);return lg({axis:a,moveRelativeTo:p,isMoving:o})}const d=i[i.length-1];if(d.descriptor.id===t.descriptor.id)return o.borderBox.center;if(bn(d.descriptor.id,s)){const f=wl(d.page,ni(s.displacedBy.point));return ag({axis:a,moveRelativeTo:f,isMoving:o})}return ag({axis:a,moveRelativeTo:d.page,isMoving:o})},Vd=(e,t)=>{const r=e.frame;return r?rt(t,r.scroll.diff.displacement):t};const Zj=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:s})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?qj({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s}):Wj({impact:e,draggables:n,afterCritical:s})};var Pc=e=>{const t=Zj(e),r=e.droppable;return r?Vd(r,t):t},jx=(e,t)=>{const r=Tt(t,e.scroll.initial),n=ni(r);return{frame:ar({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function cg(e,t){return e.map(r=>t[r])}function Kj(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Jj=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:s})=>{const i=jx(t,rt(t.scroll.current,s)),o=r.frame?vh(r,rt(r.frame.scroll.current,s)):r,a=e.displaced,l=Po({afterDragging:cg(a.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:a,forceShouldAnimate:!1}),c=Po({afterDragging:cg(a.all,n),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(x=>{const m=Kj(x,f);if(m){d[x]=m;return}u[x]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:d}}},Qj=(e,t)=>rt(e.scroll.diff.displacement,t),Sh=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=Qj(r,e),s=Tt(n,t.page.borderBox.center);return rt(t.client.borderBox.center,s)},Dx=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const o=Tt(r,e.page.borderBox.center),l={target:Go(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:n};return i?$j(l):Cx(l)},Yj=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const c=si(r.descriptor.id,n),u=ii(t,r),d=Nj({isMovingForward:e,draggable:t,destination:r,insideDestination:c,previousImpact:s})||zj({isMovingForward:e,isInHomeList:u,draggable:t,draggables:n,destination:r,insideDestination:c,previousImpact:s,viewport:i,afterCritical:l});if(!d)return null;const f=Pc({impact:d,draggable:t,droppable:r,draggables:n,afterCritical:l});if(Dx({draggable:t,destination:r,newPageBorderBoxCenter:f,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Sh({pageBorderBoxCenter:f,draggable:t,viewport:i}),impact:d,scrollJumpRequest:null};const x=Tt(f,o),m=Jj({impact:d,viewport:i,destination:r,draggables:n,maxScrollChange:x});return{clientSelection:a,impact:m,scrollJumpRequest:x}};const ft=e=>{const t=e.subject.active;return t||M(),t};var Xj=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:s})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,a=Zt(i[o.start],i[o.end]),l=Nc(n).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>kx(s.frame)(ft(u))).filter(u=>{const d=ft(u);return e?i[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const d=ft(u),f=Zt(d[o.start],d[o.end]);return a(d[o.start])||a(d[o.end])||f(i[o.start])||f(i[o.end])}).sort((u,d)=>{const f=ft(u)[o.crossAxisStart],p=ft(d)[o.crossAxisStart];return e?f-p:p-f}).filter((u,d,f)=>ft(u)[o.crossAxisStart]===ft(f[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>Zt(ft(u)[o.start],ft(u)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>ft(u)[o.start]-ft(d)[o.start])[0]:l.sort((u,d)=>{const f=sg(t,ig(ft(u))),p=sg(t,ig(ft(d)));return f!==p?f-p:ft(u)[o.start]-ft(d)[o.start]})[0]};const ug=(e,t)=>{const r=e.page.borderBox.center;return bn(e.descriptor.id,t)?Tt(r,t.displacedBy.point):r},eD=(e,t)=>{const r=e.page.borderBox;return bn(e.descriptor.id,t)?Go(r,ni(t.displacedBy.point)):r};var tD=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:s})=>n.filter(o=>Cx({target:eD(o,s),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=jo(e,Vd(r,ug(o,s))),c=jo(e,Vd(r,ug(a,s)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,Ho=Ye(function(t,r){const n=r[t.line];return{value:n,point:es(t.line,n)}});const rD=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return es(n.line,t[n.line]);const s=e.subject.page.contentBox[n.size],l=si(e.descriptor.id,r).reduce((c,u)=>c+u.client.marginBox[n.size],0)+t[n.line]-s;return l<=0?null:es(n.line,l)},Px=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Ax=(e,t,r)=>{const n=e.frame;ii(t,e)&&M(),e.subject.withPlaceholder&&M();const s=Ho(e.axis,t.displaceBy).point,i=rD(e,s,r),o={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const u=qs({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=i?rt(n.scroll.max,i):n.scroll.max,l=Px(n,a),c=qs({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},nD=e=>{const t=e.subject.withPlaceholder;t||M();const r=e.frame;if(!r){const o=qs({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const n=t.oldFrameMaxScroll;n||M();const s=Px(r,n),i=qs({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var sD=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:s,destination:i,viewport:o,afterCritical:a})=>{if(!t){if(r.length)return null;const d={displaced:Do,displacedBy:Sx,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},f=Pc({impact:d,draggable:n,droppable:i,draggables:s,afterCritical:a}),p=ii(n,i)?i:Ax(i,n,s);return Dx({draggable:n,destination:p,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],c=(()=>{const d=t.descriptor.index;return t.descriptor.id===n.descriptor.id||l?d:d+1})(),u=Ho(i.axis,n.displaceBy);return kl({draggable:n,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:Do,index:c})},iD=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:s,droppables:i,viewport:o,afterCritical:a})=>{const l=Xj({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:o});if(!l)return null;const c=si(l.descriptor.id,s),u=tD({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),d=sD({previousPageBorderBoxCenter:t,destination:l,draggable:r,draggables:s,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!d)return null;const f=Pc({impact:d,draggable:r,droppable:l,draggables:s,afterCritical:a});return{clientSelection:Sh({pageBorderBoxCenter:f,draggable:r,viewport:o}),impact:d,scrollJumpRequest:null}},$t=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const oD=(e,t)=>{const r=$t(e);return r?t[r]:null};var aD=({state:e,type:t})=>{const r=oD(e.impact,e.dimensions.droppables),n=!!r,s=e.dimensions.droppables[e.critical.droppable.id],i=r||s,o=i.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!n)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return a?Yj({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:i,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):iD({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:i,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Tn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Ix(e){const t=Zt(e.top,e.bottom),r=Zt(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function lD(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function cD({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,s=r.map(i=>{const o=i.axis,a=es(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:jo(n,a)}}).sort((i,o)=>o.distance-i.distance);return s[0]?s[0].id:null}function uD({pageBorderBox:e,draggable:t,droppables:r}){const n=Nc(r).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!lD(e,i))return!1;if(Ix(i)(e.center))return!0;const o=s.axis,a=i.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],u=Zt(i[o.crossAxisStart],i[o.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return n.length?n.length===1?n[0].descriptor.id:cD({pageBorderBox:e,draggable:t,candidates:n}):null}const Tx=(e,t)=>ar(Go(e,t));var dD=(e,t)=>{const r=e.frame;return r?Tx(t,r.scroll.diff.value):t};function Ox({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function fD({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var hD=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:s,viewport:i,afterCritical:o})=>{const a=r.axis,l=Ho(r.axis,t.displaceBy),c=l.value,u=e[a.start],d=e[a.end],p=Dc(t,n).find(m=>{const b=m.descriptor.id,y=m.page.borderBox.center[a.line],g=bn(b,o),v=Ox({displaced:s,id:b});return g?v?d<=y:u<y-c:v?d<=y+c:u<y})||null,x=fD({draggable:t,closest:p,inHomeList:ii(t,r)});return kl({draggable:t,insideDestination:n,destination:r,viewport:i,last:s,displacedBy:l,index:x})};const pD=4;var mD=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:s,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const o=n.axis,a=Ho(n.axis,e.displaceBy),l=a.value,c=t[o.start],u=t[o.end],f=Dc(e,s).find(x=>{const m=x.descriptor.id,b=x.page.borderBox,g=b[o.size]/pD,v=bn(m,i),S=Ox({displaced:r.displaced,id:m});return v?S?u>b[o.start]+g&&u<b[o.end]-g:c>b[o.start]-l+g&&c<b[o.end]-l-g:S?u>b[o.start]+l+g&&u<b[o.end]+l-g:c>b[o.start]+g&&c<b[o.end]-g});return f?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:n.descriptor.id}}}:null},Rx=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:s,viewport:i,afterCritical:o})=>{const a=Tx(t.page.borderBox,e),l=uD({pageBorderBox:a,draggable:t,droppables:n});if(!l)return Dj;const c=n[l],u=si(c.descriptor.id,r),d=dD(c,a);return mD({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:s,destination:c,insideDestination:u,afterCritical:o})||hD({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:s.displaced,viewport:i,afterCritical:o})},kh=(e,t)=>({...e,[t.descriptor.id]:t});const gD=({previousImpact:e,impact:t,droppables:r})=>{const n=$t(e),s=$t(t);if(!n||n===s)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const o=nD(i);return kh(r,o)};var yD=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:s})=>{const i=gD({previousImpact:n,impact:s,droppables:r}),o=$t(s);if(!o)return i;const a=r[o];if(ii(e,a)||a.subject.withPlaceholder)return i;const l=Ax(a,e,t);return kh(i,l)},Wi=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:s,scrollJumpRequest:i})=>{const o=n||e.viewport,a=r||e.dimensions,l=t||e.current.client.selection,c=Tt(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:rt(e.initial.client.borderBoxCenter,c)},d={selection:rt(u.selection,o.scroll.current),borderBoxCenter:rt(u.borderBoxCenter,o.scroll.current),offset:rt(u.offset,o.scroll.diff.value)},f={client:u,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:f};const p=a.draggables[e.critical.draggable.id],x=s||Rx({pageOffset:d.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),m=yD({draggable:p,impact:x,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:f,dimensions:{draggables:a.draggables,droppables:m},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function vD(e,t){return e.map(r=>t[r])}var $x=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:s})=>{const i=e.displaced,o=vD(i.all,r),a=Po({afterDragging:o,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:a}},Lx=({impact:e,draggable:t,droppable:r,draggables:n,viewport:s,afterCritical:i})=>{const o=Pc({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return Sh({pageBorderBoxCenter:o,draggable:t,viewport:s})},Fx=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&M();const n=e.impact,s=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:a}=i,l=o[e.critical.draggable.id],c=$t(n);c||M();const u=a[c],d=$x({impact:n,viewport:s,destination:u,draggables:o}),f=Lx({impact:d,draggable:l,droppable:u,draggables:o,viewport:s,afterCritical:e.afterCritical});return Wi({impact:d,clientSelection:f,state:e,dimensions:i,viewport:s})},xD=e=>({index:e.index,droppableId:e.droppableId}),Mx=({draggable:e,home:t,draggables:r,viewport:n})=>{const s=Ho(t.axis,e.displaceBy),i=si(t.descriptor.id,r),o=i.indexOf(e);o===-1&&M();const a=i.slice(o+1),l=a.reduce((f,p)=>(f[p.descriptor.id]=!0,f),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:l};return{impact:{displaced:Po({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:xD(e.descriptor)}},afterCritical:c}},wD=(e,t)=>({draggables:e.draggables,droppables:kh(e.droppables,t)}),bD=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=wl(e.client,t),s=bl(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:s}},_D=e=>{const t=e.frame;return t||M(),t},SD=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,o=t[i],l=_D(o).scroll.diff.value,c=rt(n,l);return bD({draggable:s,offset:c,initialWindowScroll:r.scroll.initial})})},kD=({state:e,published:t})=>{const r=t.modified.map(y=>{const g=e.dimensions.droppables[y.droppableId];return vh(g,y.scroll)}),n={...e.dimensions.droppables,...bx(r)},s=_x(SD({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(y=>{delete i[y]});const o={droppables:n,draggables:i},a=$t(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=Mx({draggable:c,home:u,draggables:i,viewport:e.viewport}),p=l&&l.isCombineEnabled?e.impact:d,x=Rx({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:e.viewport,afterCritical:f}),m={...e,phase:"DRAGGING",impact:x,onLiftImpact:d,dimensions:o,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?m:{...m,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Wd=e=>e.movementMode==="SNAP",Su=(e,t,r)=>{const n=wD(e.dimensions,t);return!Wd(e)||r?Wi({state:e,dimensions:n}):Fx({state:e,dimensions:n})};function ku(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const dg={phase:"IDLE",completed:null,shouldFlush:!1};var ED=(e=dg,t)=>{if(t.type==="FLUSH")return{...dg,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&M();const{critical:r,clientSelection:n,viewport:s,dimensions:i,movementMode:o}=t.payload,a=i.draggables[r.draggable.id],l=i.droppables[r.droppable.id],c={selection:n,borderBoxCenter:a.client.borderBox.center,offset:Xe},u={client:c,page:{selection:rt(c.selection,s.scroll.initial),borderBoxCenter:rt(c.selection,s.scroll.initial),offset:rt(c.selection,s.scroll.diff.value)}},d=Nc(i.droppables).every(m=>!m.isFixedOnPage),{impact:f,afterCritical:p}=Mx({draggable:a,home:l,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:p,onLiftImpact:f,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&M(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||M(),kD({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Tn(e)||M();const{client:r}=t.payload;return pn(r,e.current.client.selection)?e:Wi({state:e,clientSelection:r,impact:Wd(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ku(e);Tn(e)||M();const{id:r,newScroll:n}=t.payload,s=e.dimensions.droppables[r];if(!s)return e;const i=vh(s,n);return Su(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tn(e)||M();const{id:r,isEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||M(),s.isEnabled===n&&M();const i={...s,isEnabled:n};return Su(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Tn(e)||M();const{id:r,isCombineEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||M(),s.isCombineEnabled===n&&M();const i={...s,isCombineEnabled:n};return Su(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Tn(e)||M(),e.isWindowScrollAllowed||M();const r=t.payload.newScroll;if(pn(e.viewport.scroll.current,r))return ku(e);const n=jx(e.viewport,r);return Wd(e)?Fx({state:e,viewport:n}):Wi({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Tn(e))return e;const r=t.payload.maxScroll;if(pn(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&M();const r=aD({state:e,type:t.type});return r?Wi({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&M(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||M(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};const CD=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ND=e=>({type:"LIFT",payload:e}),jD=e=>({type:"INITIAL_PUBLISH",payload:e}),DD=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),PD=()=>({type:"COLLECTION_STARTING",payload:null}),AD=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ID=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),TD=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Bx=e=>({type:"MOVE",payload:e}),OD=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),RD=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),$D=()=>({type:"MOVE_UP",payload:null}),LD=()=>({type:"MOVE_DOWN",payload:null}),FD=()=>({type:"MOVE_RIGHT",payload:null}),MD=()=>({type:"MOVE_LEFT",payload:null}),Eh=()=>({type:"FLUSH",payload:null}),BD=e=>({type:"DROP_ANIMATE",payload:e}),Ch=e=>({type:"DROP_COMPLETE",payload:e}),Ux=e=>({type:"DROP",payload:e}),UD=e=>({type:"DROP_PENDING",payload:e}),zx=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zD=e=>({getState:t,dispatch:r})=>n=>s=>{if(s.type!=="LIFT"){n(s);return}const{id:i,clientSelection:o,movementMode:a}=s.payload,l=t();l.phase==="DROP_ANIMATING"&&r(Ch({completed:l.completed})),t().phase!=="IDLE"&&M(),r(Eh()),r(CD({draggableId:i,movementMode:a}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:p}=e.startPublishing(u);r(jD({critical:d,dimensions:f,clientSelection:o,movementMode:a,viewport:p}))},VD=e=>()=>t=>r=>{r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)};const Nh={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ao={opacity:{drop:0,combining:.7},scale:{drop:.75}},Vx={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Dn=`${Vx.outOfTheWay}s ${Nh.outOfTheWay}`,Gi={fluid:`opacity ${Dn}`,snap:`transform ${Dn}, opacity ${Dn}`,drop:e=>{const t=`${e}s ${Nh.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Dn}`,placeholder:`height ${Dn}, width ${Dn}, margin ${Dn}`},fg=e=>pn(e,Xe)?void 0:`translate(${e.x}px, ${e.y}px)`,Gd={moveTo:fg,drop:(e,t)=>{const r=fg(e);if(r)return t?`${r} scale(${Ao.scale.drop})`:r}},{minDropTime:Hd,maxDropTime:Wx}=Vx,WD=Wx-Hd,hg=1500,GD=.6;var HD=({current:e,destination:t,reason:r})=>{const n=jo(e,t);if(n<=0)return Hd;if(n>=hg)return Wx;const s=n/hg,i=Hd+WD*s,o=r==="CANCEL"?i*GD:i;return Number(o.toFixed(2))},qD=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:s})=>{const{draggables:i,droppables:o}=r,a=$t(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],u=Lx({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:l||c,viewport:n});return Tt(u,t.client.borderBox.center)},ZD=({draggables:e,reason:t,lastImpact:r,home:n,viewport:s,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:$x({draggables:e,impact:i,destination:n,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Do},didDropInsideDroppable:!0};const KD=({getState:e,dispatch:t})=>r=>n=>{if(n.type!=="DROP"){r(n);return}const s=e(),i=n.payload.reason;if(s.phase==="COLLECTING"){t(UD({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&M(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||M();const a=s.critical,l=s.dimensions,c=l.draggables[s.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=ZD({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=d?xh(u):null,p=d?jc(u):null,x={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:x,reason:i,mode:s.movementMode,destination:f,combine:p},b=qD({impact:u,draggable:c,dimensions:l,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:m,impact:u};if(!(!pn(s.current.client.offset,b)||!!m.combine)){t(Ch({completed:y}));return}const v=HD({current:s.current.client.offset,destination:b,reason:i});t(BD({newHomeClientOffset:b,dropDuration:v,completed:y}))};var JD=KD,Gx=()=>({x:window.pageXOffset,y:window.pageYOffset});function QD(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function YD({onWindowScroll:e}){function t(){e(Gx())}const r=No(t),n=QD(r);let s=hn;function i(){return s!==hn}function o(){i()&&M(),s=Ht(window,[n])}function a(){i()||M(),r.cancel(),s(),s=hn}return{start:o,stop:a,isActive:i}}const XD=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",eP=e=>{const t=YD({onWindowScroll:r=>{e.dispatch(OD({newScroll:r}))}});return r=>n=>{!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&XD(n)&&t.stop(),r(n)}};var tP=eP,rP=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),s=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=()=>t,s},nP=()=>{const e=[],t=s=>{const i=e.findIndex(a=>a.timerId===s);i===-1&&M();const[o]=e.splice(i,1);o.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const sP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,iP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,oP=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},xi=(e,t)=>{t()},ya=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Eu(e,t,r,n){if(!e){r(n(t));return}const s=rP(r);e(t,{announce:s}),s.wasCalled()||r(n(t))}var aP=(e,t)=>{const r=nP();let n=null;const s=(d,f)=>{n&&M(),xi("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:d,mode:f})})},i=(d,f)=>{n&&M(),xi("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(ya(d,f))})},o=(d,f)=>{n&&M();const p=ya(d,f);n={mode:f,lastCritical:d,lastLocation:p.source,lastCombine:null},r.add(()=>{xi("onDragStart",()=>Eu(e().onDragStart,p,t,Ra.onDragStart))})},a=(d,f)=>{const p=xh(f),x=jc(f);n||M();const m=!oP(d,n.lastCritical);m&&(n.lastCritical=d);const b=!sP(n.lastLocation,p);b&&(n.lastLocation=p);const y=!iP(n.lastCombine,x);if(y&&(n.lastCombine=x),!m&&!b&&!y)return;const g={...ya(d,n.mode),combine:x,destination:p};r.add(()=>{xi("onDragUpdate",()=>Eu(e().onDragUpdate,g,t,Ra.onDragUpdate))})},l=()=>{n||M(),r.flush()},c=d=>{n||M(),n=null,xi("onDragEnd",()=>Eu(e().onDragEnd,d,t,Ra.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:o,update:a,flush:l,drop:c,abort:()=>{if(!n)return;const d={...ya(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},lP=(e,t)=>{const r=aP(e,t);return n=>s=>i=>{if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){const a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),s(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){const a=i.payload.completed.result;r.flush(),s(i),r.drop(a);return}if(s(i),i.type==="FLUSH"){r.abort();return}const o=n.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const cP=e=>t=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&M(),e.dispatch(Ch({completed:n.completed}))};var uP=cP;const dP=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return s=>i=>{if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(zx())}};r=requestAnimationFrame(()=>{r=null,t=Ht(window,[o])})}};var fP=dP,hP=e=>()=>t=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)},pP=e=>{let t=!1;return()=>r=>n=>{if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;const s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const mP=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var gP=e=>t=>r=>n=>{if(mP(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);const s=t.getState();s.phase!=="DRAGGING"&&M(),e.start(s);return}r(n),e.scroll(t.getState())};const yP=e=>t=>r=>{if(t(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Ux({reason:n.reason})))};var vP=yP;const xP=Q0;var wP=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:s,autoScroller:i})=>J0(ED,xP(X2(VD(r),hP(e),zD(e),JD,uP,fP,vP,gP(i),tP,pP(t),lP(n,s))));const Cu=()=>({additions:{},removals:{},modified:{}});function bP({registry:e,callbacks:t}){let r=Cu(),n=null;const s=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:c,modified:u}=r,d=Object.keys(l).map(x=>e.draggable.getById(x).getDimension(Xe)).sort((x,m)=>x.descriptor.index-m.descriptor.index),f=Object.keys(u).map(x=>{const b=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),p={additions:d,removals:Object.keys(c),modified:f};r=Cu(),t.publish(p)}))};return{add:l=>{const c=l.descriptor.id;r.additions[c]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],s()},remove:l=>{const c=l.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],s()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Cu())}}}var Hx=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const s=Tt({x:t,y:e},{x:n,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},qx=()=>{const e=document.documentElement;return e||M(),e},Zx=()=>{const e=qx();return Hx({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},_P=()=>{const e=Gx(),t=Zx(),r=e.y,n=e.x,s=qx(),i=s.clientWidth,o=s.clientHeight,a=n+i,l=r+o;return{frame:ar({top:r,left:n,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Xe,displacement:Xe}}}},SP=({critical:e,scrollOptions:t,registry:r})=>{const n=_P(),s=n.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(s,t)),a=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(s));return{dimensions:{draggables:_x(a),droppables:bx(o)},critical:e,viewport:n}};function pg(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var kP=(e,t)=>{let r=null;const n=bP({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(f,p)=>{e.droppable.exists(f)||M(),r&&t.updateDroppableIsEnabled({id:f,isEnabled:p})},i=(f,p)=>{r&&(e.droppable.exists(f)||M(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:p}))},o=(f,p)=>{r&&(e.droppable.exists(f)||M(),t.updateDroppableScroll({id:f,newScroll:p}))},a=(f,p)=>{r&&e.droppable.getById(f).callbacks.scroll(p)},l=()=>{if(!r)return;n.stop();const f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(p=>p.callbacks.dragStopped()),r.unsubscribe(),r=null},c=f=>{r||M();const p=r.critical.draggable;f.type==="ADDITION"&&pg(e,p,f.value)&&n.add(f.value),f.type==="REMOVAL"&&pg(e,p,f.value)&&n.remove(f.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f=>{r&&M();const p=e.draggable.getById(f.draggableId),x=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:x.descriptor},b=e.subscribe(c);return r={critical:m,unsubscribe:b},SP({critical:m,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},Kx=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",EP=e=>{window.scrollBy(e.x,e.y)};const CP=Ye(e=>Nc(e).filter(t=>!(!t.isEnabled||!t.frame))),NP=(e,t)=>CP(t).find(n=>(n.frame||M(),Ix(n.frame.pageMarginBox)(e)))||null;var jP=({center:e,destination:t,droppables:r})=>{if(t){const s=r[t];return s.frame?s:null}return NP(e,r)};const Io={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var DP=(e,t,r=()=>Io)=>{const n=r(),s=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},Jx=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},jh=1,PP=(e,t,r=()=>Io)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return jh;const i=1-Jx({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=n.maxPixelScroll*n.ease(i);return Math.ceil(o)},AP=(e,t,r)=>{const n=r(),s=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,o=t,a=i,c=Date.now()-o;if(c>=i)return e;if(c<s)return jh;const u=Jx({startOfRange:s,endOfRange:a,current:c}),d=e*n.ease(u);return Math.ceil(d)},mg=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:s})=>{const i=PP(e,t,s);return i===0?0:n?Math.max(AP(i,r,s),jh):i},gg=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=DP(e,n,i);return t[n.end]<t[n.start]?mg({distanceToEdge:t[n.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*mg({distanceToEdge:t[n.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},IP=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,s=t.width>e.width;return!s&&!n?r:s&&n?null:{x:s?0:r.x,y:n?0:r.y}};const TP=wx(e=>e===0?0:e);var Qx=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},a=gg({container:t,distanceToEdges:o,dragStartTime:e,axis:wh,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),l=gg({container:t,distanceToEdges:o,dragStartTime:e,axis:Ex,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=TP({x:l,y:a});if(pn(c,Xe))return null;const u=IP({container:t,subject:r,proposedScroll:c});return u?pn(u,Xe)?null:u:null};const OP=wx(e=>e===0?0:e>0?1:-1),Dh=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const s=rt(t,n),i={x:e(s.x,r.x),y:e(s.y,r.y)};return pn(i,Xe)?null:i}})(),Yx=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=OP(r),i=Dh({max:n,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},Ph=(e,t)=>Yx({current:e.scroll.current,max:e.scroll.max,change:t}),RP=(e,t)=>{if(!Ph(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Dh({current:n,max:r,change:t})},Ah=(e,t)=>{const r=e.frame;return r?Yx({current:r.scroll.current,max:r.scroll.max,change:t}):!1},$P=(e,t)=>{const r=e.frame;return!r||!Ah(e,t)?null:Dh({current:r.scroll.current,max:r.scroll.max,change:t})};var LP=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=Qx({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&Ph(e,o)?o:null},FP=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const a=Qx({dragStartTime:n,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&Ah(e,a)?a:null},yg=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:s,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=LP({dragStartTime:t,viewport:d,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(f){n(f);return}}const c=jP({center:o,destination:$t(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=FP({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&s(c.descriptor.id,u)},MP=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Io})=>{const n=No(e),s=No(t);let i=null;const o=c=>{i||M();const{shouldUseTimeDampening:u,dragStartTime:d}=i;yg({state:c,scrollWindow:n,scrollDroppable:s,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:c=>{i&&M();const u=Date.now();let d=!1;const f=()=>{d=!0};yg({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:d},d&&o(c)},stop:()=>{i&&(n.cancel(),s.cancel(),i=null)},scroll:o}},BP=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(a,l)=>{const c=rt(a.current.client.selection,l);e({client:c})},s=(a,l)=>{if(!Ah(a,l))return l;const c=$P(a,l);if(!c)return t(a.descriptor.id,l),null;const u=Tt(l,c);return t(a.descriptor.id,u),Tt(l,u)},i=(a,l,c)=>{if(!a||!Ph(l,c))return c;const u=RP(l,c);if(!u)return r(c),null;const d=Tt(c,u);return r(d),Tt(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=$t(a.impact);c||M();const u=s(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=i(a.isWindowScrollAllowed,d,u);f&&n(a,f)}},UP=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const s=MP({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=BP({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){s.scroll(l);return}l.scrollJumpRequest&&i(l)}},start:s.start,stop:s.stop}};const Zs="data-rfd",Ks=(()=>{const e=`${Zs}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),qd=(()=>{const e=`${Zs}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),zP=(()=>{const e=`${Zs}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),vg={contextId:`${Zs}-scroll-container-context-id`},VP=e=>t=>`[${t}="${e}"]`,wi=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),WP="pointer-events: none;";var GP=e=>{const t=VP(e),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ks.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:WP,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${Gi.outOfTheWay};
    `;return{selector:t(qd.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(zP.contextId),styles:{always:"overflow-anchor: none;"}},o=[n,r,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:wi(o,"always"),resting:wi(o,"resting"),dragging:wi(o,"dragging"),dropAnimating:wi(o,"dropAnimating"),userCancel:wi(o,"userCancel")}};const HP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;var Lt=HP;const Nu=()=>{const e=document.querySelector("head");return e||M(),e},xg=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qP(e,t){const r=me(()=>GP(e),[e]),n=w.useRef(null),s=w.useRef(null),i=ee(Ye(d=>{const f=s.current;f||M(),f.textContent=d}),[]),o=ee(d=>{const f=n.current;f||M(),f.textContent=d},[]);Lt(()=>{!n.current&&!s.current||M();const d=xg(t),f=xg(t);return n.current=d,s.current=f,d.setAttribute(`${Zs}-always`,e),f.setAttribute(`${Zs}-dynamic`,e),Nu().appendChild(d),Nu().appendChild(f),o(r.always),i(r.resting),()=>{const p=x=>{const m=x.current;m||M(),Nu().removeChild(m),x.current=null};p(n),p(s)}},[t,o,i,r.always,r.resting,e]);const a=ee(()=>i(r.dragging),[i,r.dragging]),l=ee(d=>{if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),c=ee(()=>{s.current&&i(r.resting)},[i,r.resting]);return me(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function Xx(e,t){return Array.from(e.querySelectorAll(t))}var ew=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Ac(e){return e instanceof ew(e).HTMLElement}function ZP(e,t){const r=`[${Ks.contextId}="${e}"]`,n=Xx(document,r);if(!n.length)return null;const s=n.find(i=>i.getAttribute(Ks.draggableId)===t);return!s||!Ac(s)?null:s}function KP(e){const t=w.useRef({}),r=w.useRef(null),n=w.useRef(null),s=w.useRef(!1),i=ee(function(f,p){const x={id:f,focus:p};return t.current[f]=x,function(){const b=t.current;b[f]!==x&&delete b[f]}},[]),o=ee(function(f){const p=ZP(e,f);p&&p!==document.activeElement&&p.focus()},[e]),a=ee(function(f,p){r.current===f&&(r.current=p)},[]),l=ee(function(){n.current||s.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const f=r.current;f&&o(f)}))},[o]),c=ee(function(f){r.current=null;const p=document.activeElement;p&&p.getAttribute(Ks.draggableId)===f&&(r.current=f)},[]);return Lt(()=>(s.current=!0,function(){s.current=!1;const f=n.current;f&&cancelAnimationFrame(f)}),[]),me(()=>({register:i,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[i,c,l,a])}function JP(){const e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){const p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function n(d){t.length&&t.forEach(f=>f(d))}function s(d){return e.draggables[d]||null}function i(d){const f=s(d);return f||M(),f}const o={register:d=>{e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,f)=>{const p=e.draggables[f.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,p=s(f);p&&d.uniqueId===p.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:i,findById:s,exists:d=>!!s(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||M(),f}const c={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:r,clean:u}}function QP(){const e=me(JP,[]);return w.useEffect(()=>function(){ue.version.startsWith("16")||ue.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Ih=ue.createContext(null),El=()=>{const e=document.body;return e||M(),e};const YP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var XP=YP;const eA=e=>`rfd-announcement-${e}`;function tA(e){const t=me(()=>eA(e),[e]),r=w.useRef(null);return w.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),fn(i.style,XP),El().appendChild(i),function(){setTimeout(function(){const l=El();l.contains(i)&&l.removeChild(i),i===r.current&&(r.current=null)})}},[t]),ee(s=>{const i=r.current;if(i){i.textContent=s;return}},[])}let rA=0;const tw={separator:"::"};function nA(e,t=tw){return me(()=>`${e}${t.separator}${rA++}`,[t.separator,e])}function sA(e,t=tw){const r=ue.useId();return me(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var Th="useId"in ue?sA:nA;function iA({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function oA({contextId:e,text:t}){const r=Th("hidden-text",{separator:"-"}),n=me(()=>iA({contextId:e,uniqueId:r}),[r,e]);return w.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",El().appendChild(i),function(){const a=El();a.contains(i)&&a.removeChild(i)}},[n,t]),n}var Ic=ue.createContext(null);function rw(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function aA(){let e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&M();const a={abandon:o};return e=a,a}function s(){e||M(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}function To(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const lA=9,cA=13,Oh=27,nw=32,uA=33,dA=34,fA=35,hA=36,pA=37,mA=38,gA=39,yA=40,vA={[cA]:!0,[lA]:!0};var sw=e=>{vA[e.keyCode]&&e.preventDefault()};const xA=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})();var Tc=xA;const iw=0,wg=5;function wA(e,t){return Math.abs(t.x-e.x)>=wg||Math.abs(t.y-e.y)>=wg}const bg={type:"IDLE"};function bA({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:o,clientY:a}=s;if(i!==iw)return;const l={x:o,y:a},c=r();if(c.type==="DRAGGING"){s.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&M();const u=c.point;if(!wA(u,l))return;s.preventDefault();const d=c.actions.fluidLift(l);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:s=>{const i=r();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(r().type==="PENDING"){e();return}if(s.keyCode===Oh){s.preventDefault(),e();return}sw(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=r();if(i.type==="IDLE"&&M(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Tc,fn:e}]}function _A(e){const t=w.useRef(bg),r=w.useRef(hn),n=me(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==iw||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.tryGetLock(f,o,{sourceEvent:d});if(!p)return;d.preventDefault();const x={x:d.clientX,y:d.clientY};r.current(),c(p,x)}}),[e]),s=me(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=e.findClosestDraggableId(u);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}),[e]),i=ee(function(){const d={passive:!1,capture:!0};r.current=Ht(window,[s,n],d)},[s,n]),o=ee(()=>{t.current.type!=="IDLE"&&(t.current=bg,r.current(),i())},[i]),a=ee(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=ee(function(){const d={capture:!0,passive:!1},f=bA({cancel:a,completed:o,getPhase:()=>t.current,setPhase:p=>{t.current=p}});r.current=Ht(window,f,d)},[a,o]),c=ee(function(d,f){t.current.type!=="IDLE"&&M(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);Lt(function(){return i(),function(){r.current()}},[i])}function SA(){}const kA={[dA]:!0,[uA]:!0,[hA]:!0,[fA]:!0};function EA(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Oh){s.preventDefault(),r();return}if(s.keyCode===nw){s.preventDefault(),n();return}if(s.keyCode===yA){s.preventDefault(),e.moveDown();return}if(s.keyCode===mA){s.preventDefault(),e.moveUp();return}if(s.keyCode===gA){s.preventDefault(),e.moveRight();return}if(s.keyCode===pA){s.preventDefault(),e.moveLeft();return}if(kA[s.keyCode]){s.preventDefault();return}sw(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Tc,fn:r}]}function CA(e){const t=w.useRef(SA),r=me(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==nw)return;const o=e.findClosestDraggableId(i);if(!o)return;const a=e.tryGetLock(o,u,{sourceEvent:i});if(!a)return;i.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||M(),l=!1,t.current(),n()}t.current=Ht(window,EA(c,u),{capture:!0,passive:!1})}}),[e]),n=ee(function(){const i={passive:!1,capture:!0};t.current=Ht(window,[r],i)},[r]);Lt(function(){return n(),function(){t.current()}},[n])}const ju={type:"IDLE"},NA=120,jA=.15;function DA({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===Oh&&r.preventDefault(),e()}},{eventName:Tc,fn:e}]}function PA({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:o}=n.touches[0],a={x:i,y:o};n.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}n.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const s=r();s.type==="IDLE"&&M();const i=n.touches[0];if(!i||!(i.force>=jA))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Tc,fn:e}]}function AA(e){const t=w.useRef(ju),r=w.useRef(hn),n=ee(function(){return t.current},[]),s=ee(function(p){t.current=p},[]),i=me(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const x=e.findClosestDraggableId(p);if(!x)return;const m=e.tryGetLock(x,a,{sourceEvent:p});if(!m)return;const b=p.touches[0],{clientX:y,clientY:g}=b,v={x:y,y:g};r.current(),d(m,v)}}),[e]),o=ee(function(){const p={capture:!0,passive:!1};r.current=Ht(window,[i],p)},[i]),a=ee(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),s(ju),r.current(),o())},[o,s]),l=ee(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=ee(function(){const p={capture:!0,passive:!1},x={cancel:l,completed:a,getPhase:n},m=Ht(window,PA(x),p),b=Ht(window,DA(x),p);r.current=function(){m(),b()}},[l,n,a]),u=ee(function(){const p=n();p.type!=="PENDING"&&M();const x=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:x,hasMoved:!1})},[n,s]),d=ee(function(p,x){n().type!=="IDLE"&&M();const m=setTimeout(u,NA);s({type:"PENDING",point:x,actions:p,longPressTimerId:m}),c()},[c,n,s,u]);Lt(function(){return o(),function(){r.current();const x=n();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),s(ju))}},[n,o,s]),Lt(function(){return Ht(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const IA=["input","button","textarea","select","option","optgroup","video","audio"];function ow(e,t){if(t==null)return!1;if(IA.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:ow(e,t.parentElement)}function TA(e,t){const r=t.target;return Ac(r)?ow(e,r):!1}var OA=e=>ar(e.getBoundingClientRect()).center;function RA(e){return e instanceof ew(e).Element}const $A=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function aw(e,t){return e==null?null:e[$A](t)?e:aw(e.parentElement,t)}function LA(e,t){return e.closest?e.closest(t):aw(e,t)}function FA(e){return`[${Ks.contextId}="${e}"]`}function MA(e,t){const r=t.target;if(!RA(r))return null;const n=FA(e),s=LA(r,n);return!s||!Ac(s)?null:s}function BA(e,t){const r=MA(e,t);return r?r.getAttribute(Ks.draggableId):null}function UA(e,t){const r=`[${qd.contextId}="${e}"]`,s=Xx(document,r).find(i=>i.getAttribute(qd.id)===t);return!s||!Ac(s)?null:s}function zA(e){e.preventDefault()}function va({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function lw({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const s=r.draggable.findById(n);return!(!s||!s.options.isEnabled||!Kx(t.getState(),n))}function VA({lockAPI:e,contextId:t,store:r,registry:n,draggableId:s,forceSensorStop:i,sourceEvent:o}){if(!lw({lockAPI:e,store:r,registry:n,draggableId:s}))return null;const l=n.draggable.getById(s),c=UA(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&TA(c,o))return null;const u=e.claim(i||hn);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function p(){return e.isActive(u)}function x(k,N){va({expected:k,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(N())}const m=x.bind(null,"DRAGGING");function b(k){function N(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(N(),M()),r.dispatch(ND(k.liftActionArgs)),d="DRAGGING";function P(C,T={shouldBlockNextClick:!1}){if(k.cleanup(),T.shouldBlockNextClick){const j=Ht(window,[{eventName:"click",fn:zA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}N(),r.dispatch(Ux({reason:C}))}return{isActive:()=>va({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,drop:C=>P("DROP",C),cancel:C=>P("CANCEL",C),...k.actions}}function y(k){const N=No(C=>{m(()=>Bx({client:C}))});return{...b({liftActionArgs:{id:s,clientSelection:k,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function g(){const k={moveUp:()=>m($D),moveRight:()=>m(FD),moveDown:()=>m(LD),moveLeft:()=>m(MD)};return b({liftActionArgs:{id:s,clientSelection:OA(c),movementMode:"SNAP"},cleanup:hn,actions:k})}function v(){va({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>va({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:y,snapLift:g,abort:v}}const WA=[_A,CA,AA];function GA({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:s}){const i=[...s?WA:[],...n||[]],o=w.useState(()=>aA())[0],a=ee(function(b,y){To(b)&&!To(y)&&o.tryAbandon()},[o]);Lt(function(){let b=t.getState();return t.subscribe(()=>{const g=t.getState();a(b,g),b=g})},[o,t,a]),Lt(()=>o.tryAbandon,[o.tryAbandon]);const l=ee(m=>lw({lockAPI:o,registry:r,store:t,draggableId:m}),[o,r,t]),c=ee((m,b,y)=>VA({lockAPI:o,registry:r,contextId:e,store:t,draggableId:m,forceSensorStop:b||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[e,o,r,t]),u=ee(m=>BA(e,m),[e]),d=ee(m=>{const b=r.draggable.findById(m);return b?b.options:null},[r.draggable]),f=ee(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Eh()))},[o,t]),p=ee(()=>o.isClaimed(),[o]),x=me(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:p}),[l,c,u,d,f,p]);for(let m=0;m<i.length;m++)i[m](x)}const HA=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ue.version.startsWith("16")||ue.version.startsWith("17")?r():Mo.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),qA=e=>({...Io,...e.autoScrollerOptions,durationDampening:{...Io.durationDampening,...e.autoScrollerOptions}});function bi(e){return e.current||M(),e.current}function ZA(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:s,dragHandleUsageInstructions:i}=e,o=w.useRef(null),a=rw(e),l=ee(()=>HA(a.current),[a]),c=ee(()=>qA(a.current),[a]),u=tA(t),d=oA({contextId:t,text:i}),f=qP(t,s),p=ee(j=>{bi(o).dispatch(j)},[]),x=me(()=>Gm({publishWhileDragging:DD,updateDroppableScroll:AD,updateDroppableIsEnabled:ID,updateDroppableIsCombineEnabled:TD,collectionStarting:PD},p),[p]),m=QP(),b=me(()=>kP(m,x),[m,x]),y=me(()=>UP({scrollWindow:EP,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:c,...Gm({move:Bx},p)}),[b.scrollDroppable,p,c]),g=KP(t),v=me(()=>wP({announce:u,autoScroller:y,dimensionMarshal:b,focusMarshal:g,getResponders:l,styleMarshal:f}),[u,y,b,g,l,f]);o.current=v;const S=ee(()=>{const j=bi(o);j.getState().phase!=="IDLE"&&j.dispatch(Eh())},[]),k=ee(()=>{const j=bi(o).getState();return j.phase==="DROP_ANIMATING"?!0:j.phase==="IDLE"?!1:j.isDragging},[]),N=me(()=>({isDragging:k,tryAbort:S}),[k,S]);r(N);const P=ee(j=>Kx(bi(o).getState(),j),[]),C=ee(()=>Tn(bi(o).getState()),[]),T=me(()=>({marshal:b,focus:g,contextId:t,canLift:P,isMovementAllowed:C,dragHandleUsageInstructionsId:d,registry:m}),[t,b,d,g,P,C,m]);return GA({contextId:t,store:v,registry:m,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>S,[S]),ue.createElement(Ic.Provider,{value:T},ue.createElement(sj,{context:Ih,store:v},e.children))}let KA=0;function JA(){return me(()=>`${KA++}`,[])}function QA(){return ue.useId()}var YA="useId"in ue?QA:JA;function XA(e){const t=YA(),r=e.dragHandleUsageInstructions||Ra.dragHandleUsageInstructions;return ue.createElement(mj,null,n=>ue.createElement(ZA,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const _g={dragging:5e3,dropAnimating:4500},eI=(e,t)=>t?Gi.drop(t.duration):e?Gi.snap:Gi.fluid,tI=(e,t)=>{if(e)return t?Ao.opacity.drop:Ao.opacity.combining},rI=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function nI(e){const r=e.dimension.client,{offset:n,combineWith:s,dropping:i}=e,o=!!s,a=rI(e),l=!!i,c=l?Gd.drop(n,o):Gd.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:eI(a,i),transform:c,opacity:tI(o,l),zIndex:l?_g.dropAnimating:_g.dragging,pointerEvents:"none"}}function sI(e){return{transform:Gd.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function iI(e){return e.type==="DRAGGING"?nI(e):sI(e)}function oI(e,t,r=Xe){const n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=mx(s,n),o=bl(i,r),a={client:i,tagName:t.tagName.toLowerCase(),display:n.display},l={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:i,page:o}}function aI(e){const t=Th("draggable"),{descriptor:r,registry:n,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}=e,l=me(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}),[i,a,o]),c=ee(p=>{const x=s();return x||M(),oI(r,x,p)},[r,s]),u=me(()=>({uniqueId:t,descriptor:r,options:l,getDimension:c}),[r,c,l,t]),d=w.useRef(u),f=w.useRef(!0);Lt(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),Lt(()=>{if(f.current){f.current=!1;return}const p=d.current;d.current=u,n.draggable.update(u,p)},[u,n.draggable])}var Rh=ue.createContext(null);function Cl(e){const t=w.useContext(e);return t||M(),t}function lI(e){e.preventDefault()}const cI=e=>{const t=w.useRef(null),r=ee((N=null)=>{t.current=N},[]),n=ee(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:o}=Cl(Ic),{type:a,droppableId:l}=Cl(Rh),c=me(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:p,canDragInteractiveElements:x,isClone:m,mapped:b,dropAnimationFinished:y}=e;if(!m){const N=me(()=>({descriptor:c,registry:o,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:p,isEnabled:f}),[c,o,n,x,p,f]);aI(N)}const g=me(()=>f?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:lI}:null,[s,i,d,f]),v=ee(N=>{b.type==="DRAGGING"&&b.dropping&&N.propertyName==="transform"&&(ue.version.startsWith("16")||ue.version.startsWith("17")?y():Mo.flushSync(y))},[y,b]),S=me(()=>{const N=iI(b),P=b.type==="DRAGGING"&&b.dropping?v:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":d,style:N,onTransitionEnd:P},dragHandleProps:g}},[s,g,d,b,v,r]),k=me(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ue.createElement(ue.Fragment,null,u(S,b.snapshot,k))};var uI=cI,cw=(e,t)=>e===t,uw=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const dI=e=>e.combine?e.combine.draggableId:null,fI=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function hI(){const e=Ye((s,i)=>({x:s,y:i})),t=Ye((s,i,o=null,a=null,l=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!l,dropAnimation:l,mode:s,draggingOver:o,combineWith:a,combineTargetFor:null})),r=Ye((s,i,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:i,offset:s,dimension:o,forceShouldAnimate:u,snapshot:t(i,a,l,c,null)}}));return(s,i)=>{if(To(s)){if(s.critical.draggable.id!==i.draggableId)return null;const o=s.current.client.offset,a=s.dimensions.draggables[i.draggableId],l=$t(s.impact),c=fI(s.impact),u=s.forceShouldAnimate;return r(e(o.x,o.y),s.movementMode,a,i.isClone,l,c,u)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==i.draggableId)return null;const a=i.isClone,l=s.dimensions.draggables[i.draggableId],c=o.result,u=c.mode,d=uw(c),f=dI(c),x={duration:s.dropDuration,curve:Nh.drop,moveTo:s.newHomeClientOffset,opacity:f?Ao.opacity.drop:null,scale:f?Ao.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:l,dropping:x,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:t(u,a,d,f,x)}}}return null}}function dw(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const pI={mapped:{type:"SECONDARY",offset:Xe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:dw(null)}};function mI(){const e=Ye((o,a)=>({x:o,y:a})),t=Ye(dw),r=Ye((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),n=o=>o?r(Xe,o,!0):null,s=(o,a,l,c)=>{const u=l.displaced.visible[o],d=!!(c.inVirtualList&&c.effected[o]),f=jc(l),p=f&&f.draggableId===o?a:null;if(!u){if(!d)return n(p);if(l.displaced.invisible[o])return null;const b=ni(c.displacedBy.point),y=e(b.x,b.y);return r(y,p,!0)}if(d)return n(p);const x=l.displacedBy.point,m=e(x.x,x.y);return r(m,p,u.shouldAnimate)};return(o,a)=>{if(To(o))return o.critical.draggable.id===a.draggableId?null:s(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:s(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const gI=()=>{const e=hI(),t=mI();return(n,s)=>e(n,s)||t(n,s)||pI},yI={dropAnimationFinished:zx},vI=hx(gI,yI,null,{context:Ih,areStatePropsEqual:cw})(uI);var xI=vI;function fw(e){return Cl(Rh).isUsingCloneFor===e.draggableId&&!e.isClone?null:ue.createElement(xI,e)}function wI(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return ue.createElement(fw,fn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const hw=e=>t=>e===t,bI=hw("scroll"),_I=hw("auto"),Sg=(e,t)=>t(e.overflowX)||t(e.overflowY),SI=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Sg(r,bI)||Sg(r,_I)},kI=()=>!1,pw=e=>e==null?null:e===document.body?kI()?e:null:e===document.documentElement?null:SI(e)?e:pw(e.parentElement);var Zd=e=>({x:e.scrollLeft,y:e.scrollTop});const mw=e=>e?window.getComputedStyle(e).position==="fixed"?!0:mw(e.parentElement):!1;var EI=e=>{const t=pw(e),r=mw(e);return{closestScrollable:t,isFixedOnPage:r}},CI=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:s,client:i,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:p}=a,x=Hx({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:x,diff:{value:Xe,displacement:Xe}}}})(),c=s==="vertical"?wh:Ex,u=qs({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:c,isEnabled:t,client:i,page:o,frame:l,subject:u}};const NI=(e,t)=>{const r=gx(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,s=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,o=s+t.scrollWidth,l=gh({top:n,right:o,bottom:i,left:s},r.border);return yh({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var jI=({ref:e,descriptor:t,env:r,windowScroll:n,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:a})=>{const l=r.closestScrollable,c=NI(e,l),u=bl(c,n),d=(()=>{if(!l)return null;const p=gx(l),x={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:bl(p,n),scroll:Zd(l),scrollSize:x,shouldClipSubject:a}})();return CI({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:c,page:u,closest:d})};const DI={passive:!1},PI={passive:!0};var kg=e=>e.shouldPublishImmediately?DI:PI;const xa=e=>e&&e.env.closestScrollable||null;function AI(e){const t=w.useRef(null),r=Cl(Ic),n=Th("droppable"),{registry:s,marshal:i}=r,o=rw(e),a=me(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=w.useRef(a),c=me(()=>Ye((S,k)=>{t.current||M();const N={x:S,y:k};i.updateDroppableScroll(a.id,N)}),[a.id,i]),u=ee(()=>{const S=t.current;return!S||!S.env.closestScrollable?Xe:Zd(S.env.closestScrollable)},[]),d=ee(()=>{const S=u();c(S.x,S.y)},[u,c]),f=me(()=>No(d),[d]),p=ee(()=>{const S=t.current,k=xa(S);if(S&&k||M(),S.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),x=ee((S,k)=>{t.current&&M();const N=o.current,P=N.getDroppableRef();P||M();const C=EI(P),T={ref:P,descriptor:a,env:C,scrollOptions:k};t.current=T;const j=jI({ref:P,descriptor:a,env:C,windowScroll:S,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),z=C.closestScrollable;return z&&(z.setAttribute(vg.contextId,r.contextId),z.addEventListener("scroll",p,kg(T.scrollOptions))),j},[r.contextId,a,p,o]),m=ee(()=>{const S=t.current,k=xa(S);return S&&k||M(),Zd(k)},[]),b=ee(()=>{const S=t.current;S||M();const k=xa(S);t.current=null,k&&(f.cancel(),k.removeAttribute(vg.contextId),k.removeEventListener("scroll",p,kg(S.scrollOptions)))},[p,f]),y=ee(S=>{const k=t.current;k||M();const N=xa(k);N||M(),N.scrollTop+=S.y,N.scrollLeft+=S.x},[]),g=me(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:m,dragStopped:b,scroll:y}),[b,x,m,y]),v=me(()=>({uniqueId:n,descriptor:a,callbacks:g}),[g,a,n]);Lt(()=>(l.current=v.descriptor,s.droppable.register(v),()=>{t.current&&b(),s.droppable.unregister(v)}),[g,a,b,v,i,s.droppable]),Lt(()=>{t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Lt(()=>{t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Du(){}const Eg={width:0,height:0,margin:_j},II=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?Eg:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},TI=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=II({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Gi.placeholder:null}},OI=e=>{const t=w.useRef(null),r=ee(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:s,onClose:i,contextId:o}=e,[a,l]=w.useState(e.animate==="open");w.useEffect(()=>a?n!=="open"?(r(),l(!1),Du):t.current?Du:(t.current=setTimeout(()=>{t.current=null,l(!1)}),r):Du,[n,a,r]);const c=ee(d=>{d.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),u=TI({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return ue.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var RI=ue.memo(OI);class $I extends ue.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const LI=e=>{const t=w.useContext(Ic);t||M();const{contextId:r,isMovementAllowed:n}=t,s=w.useRef(null),i=w.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:p,snapshot:x,useClone:m,updateViewportMaxScroll:b,getContainerForClone:y}=e,g=ee(()=>s.current,[]),v=ee((z=null)=>{s.current=z},[]);ee(()=>i.current,[]);const S=ee((z=null)=>{i.current=z},[]),k=ee(()=>{n()&&b({maxScroll:Zx()})},[n,b]);AI({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:g});const N=me(()=>ue.createElement($I,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:z,data:W,animate:G})=>ue.createElement(RI,{placeholder:W,onClose:z,innerRef:S,animate:G,contextId:r,onTransitionEnd:k})),[r,k,e.placeholder,e.shouldAnimatePlaceholder,S]),P=me(()=>({innerRef:v,placeholder:N,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,N,v]),C=m?m.dragging.draggableId:null,T=me(()=>({droppableId:a,type:l,isUsingCloneFor:C}),[a,C,l]);function j(){if(!m)return null;const{dragging:z,render:W}=m,G=ue.createElement(fw,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(le,R)=>W(le,R,z));return Q_.createPortal(G,y())}return ue.createElement(Rh.Provider,{value:T},o(P,x),j())};var FI=LI;function MI(){return document.body||M(),document.body}const Cg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:MI},gw=e=>{let t={...e},r;for(r in Cg)e[r]===void 0&&(t={...t,[r]:Cg[r]});return t},Pu=(e,t)=>e===t.droppable.type,Ng=(e,t)=>t.draggables[e.draggable.id],BI=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Ye(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=Ye((i,o,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===i){const x=u?{render:u,dragging:r(c.descriptor)}:null,m={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:x}}if(!o)return t;if(!l)return e;const p={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(i,o)=>{const a=gw(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(To(i)){const f=i.critical;if(!Pu(c,f))return t;const p=Ng(f,i.dimensions),x=$t(i.impact)===l;return n(l,u,x,x,p,d)}if(i.phase==="DROP_ANIMATING"){const f=i.completed;if(!Pu(c,f.critical))return t;const p=Ng(f.critical,i.dimensions);return n(l,u,uw(f.result)===l,$t(f.impact)===l,p,d)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const f=i.completed;if(!Pu(c,f.critical))return t;const p=$t(f.impact)===l,x=!!(f.impact.at&&f.impact.at.type==="COMBINE"),m=f.critical.droppable.id===l;return p?x?e:t:m?e:t}return t}},UI={updateViewportMaxScroll:RD},zI=hx(BI,UI,(e,t,r)=>({...gw(r),...e,...t}),{context:Ih,areStatePropsEqual:cw})(FI);var VI=zI;function WI(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState(1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,p]=w.useState(null),[x,m]=w.useState("checking"),[b,y]=w.useState(null),g=10;w.useEffect(()=>{(async()=>{await v()})()},[]),w.useEffect(()=>{x==="connected"&&S()},[o,s]);async function v(){try{m("checking"),y(null);const{data:{user:C},error:T}=await H.auth.getUser();if(T)throw new Error(`Authentication error: ${T.message}`);if(!C)throw new Error("No authenticated user found");const{error:j}=await H.from("workflows").select("id").limit(1);if(j)throw new Error(`Database ping failed: ${j.message}`);m("connected"),S()}catch(C){const T=C instanceof Error?C.message:"Failed to connect to database";console.error("Connection check failed:",C),m("error"),y(T),re.error(T)}}async function S(){try{n(!0),console.log("WorkflowList: Starting to fetch workflows (RLS bypassed)..."),y(null);const{data:{user:C}}=await H.auth.getUser();if(console.log("WorkflowList: Current user:",C),console.log("WorkflowList: RLS status: BYPASSED"),!C)throw new Error("User not authenticated");const{data:T,error:j}=await H.from("workflows").select("id, name, description, status, created_at, updated_at, order, supports_documents, supports_images, worker_id, api_auth_token, variables, api_url").eq("status","active").order("order",{ascending:!0});if(console.log("WorkflowList: Fetched workflows:",T),console.log("WorkflowList: Query error:",j),console.log("WorkflowList: Query parameters:",{status:"active"}),j)throw console.error("WorkflowList: Supabase query error:",j),new Error("Failed to fetch workflows");t(T||[])}catch(C){console.error("WorkflowList: Error in fetchWorkflows:",C);const T=C instanceof Error?C.message:"Failed to fetch workflows";y(T),re.error(T)}finally{n(!1)}}const k=C=>{switch(C){case"active":return"bg-emerald-500";case"inactive":return"bg-yellow-500";case"archived":return"bg-gray-500";default:return"bg-gray-500"}},N=async C=>{if(!C.destination)return;const T=Array.from(e),[j]=T.splice(C.source.index,1);T.splice(C.destination.index,0,j);const z=T.map((W,G)=>({...W,order:G}));t(z);try{const{error:W}=await H.from("workflows").upsert(z.map(({id:G,order:le,name:R,status:oe,description:B})=>({id:G,order:le,name:R,status:oe,description:B})));if(W)throw W;re.success("Workflow order updated successfully")}catch(W){re.error("Failed to update workflow order"),console.error("Error:",W),S()}},P=async C=>{try{if(!confirm("Are you sure you want to delete this workflow? This will also delete all conversations and logs associated with it."))return;const{data:{user:T}}=await H.auth.getUser();if(!T)throw new Error("User not authenticated");const{data:j,error:z}=await H.rpc("safely_delete_workflow",{p_workflow_id:C,p_user_id:T.id});if(z)throw z;j===!0?(re.success("Workflow and all associated data deleted successfully"),S()):re.error("You do not have permission to delete this workflow")}catch(T){console.error("Error deleting workflow:",T),re.error(T instanceof Error?T.message:"Failed to delete workflow")}};return h.jsxs("div",{className:"p-6 bg-[#121212] min-h-screen",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0]",children:"Workflows"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:`inline-flex h-3 w-3 rounded-full ${x==="connected"?"bg-emerald-500":x==="checking"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),h.jsx("span",{className:"text-sm text-[#757575]",children:x==="connected"?"Connected":x==="checking"?"Checking connection...":"Connection error"}),x==="error"&&h.jsx("button",{onClick:v,className:"ml-2 text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",title:"Retry connection",children:h.jsx(Vn,{className:"w-4 h-4"})})]}),h.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#f7ab38] text-white rounded-lg hover:bg-opacity-90 transition-colors",children:[h.jsx(Kf,{className:"w-5 h-5 mr-2"}),"Add Workflow"]})]})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search workflows...",value:s,onChange:C=>i(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1F1F1F] text-[#E0E0E0] rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"})]})}),h.jsx(XA,{onDragEnd:N,children:h.jsx(VI,{droppableId:"workflows",children:C=>h.jsxs("div",{...C.droppableProps,ref:C.innerRef,className:"space-y-4",children:[r?h.jsx("div",{className:"bg-[#1F1F1F] p-8 rounded-lg flex justify-center",children:h.jsx(Vn,{className:"w-6 h-6 animate-spin text-[#E0E0E0]"})}):b?h.jsxs("div",{className:"bg-[#1F1F1F] p-8 rounded-lg flex items-center justify-center space-x-3 text-red-500",children:[h.jsx(qf,{className:"w-6 h-6"}),h.jsx("span",{children:b})]}):e.length===0?h.jsx("div",{className:"bg-[#1F1F1F] p-8 rounded-lg text-center text-[#757575]",children:"No workflows found"}):e.map((T,j)=>h.jsx(wI,{draggableId:T.id,index:j,children:z=>h.jsxs("div",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,className:"bg-[#1F1F1F] rounded-lg border border-[#2D2D2D] p-4 hover:border-[#f7ab38] transition-colors","data-workflow-id":T.id,children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(MS,{className:"w-5 h-5 text-[#757575] cursor-move"}),h.jsxs("h3",{className:"text-[#E0E0E0] font-medium",children:[T.display_name||T.name,T.display_name&&h.jsxs("span",{className:"text-[#757575] text-sm ml-2",children:["(",T.name,")"]})]})]}),T.description&&h.jsx("p",{className:"text-[#757575] text-sm",children:T.description}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(T.status)} text-white`,children:T.status}),h.jsxs("span",{className:"text-[#757575] text-sm",children:["Created: ",new Date(T.created_at).toLocaleDateString()]}),h.jsxs("span",{className:"text-[#757575] text-sm",children:["Updated: ",new Date(T.updated_at).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>{d(T),c(!0)},className:"text-[#f7ab38] hover:text-[#E0E0E0] transition-colors",children:h.jsx(HS,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>p(f===T.id?null:T.id),className:`text-[#f7ab38] hover:text-[#E0E0E0] transition-colors ${f===T.id?"text-[#E0E0E0]":""}`,children:h.jsx(s0,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>P(T.id),className:"text-red-500 hover:text-red-400 transition-colors",children:h.jsx(Zl,{className:"w-5 h-5"})})]})]}),f===T.id&&h.jsx("div",{className:"mt-4 border-t border-[#2D2D2D] pt-4",children:h.jsx(Z2,{workflowId:T.id})})]})},T.id)),C.placeholder]})})}),h.jsxs("div",{className:"mt-4 flex justify-between items-center text-[#757575]",children:[h.jsx("button",{onClick:()=>a(C=>Math.max(1,C-1)),disabled:o===1,className:"px-4 py-2 disabled:opacity-50",children:"Previous"}),h.jsxs("span",{children:["Page ",o]}),h.jsx("button",{onClick:()=>a(C=>C+1),disabled:e.length<g,className:"px-4 py-2 disabled:opacity-50",children:"Next"})]})]}),l&&h.jsx(q2,{workflow:u,onClose:()=>{c(!1),d(null)},onSave:()=>{c(!1),d(null),S()}})]})}const GI=3,HI=1e3;async function yw(e,t=GI,r=HI){try{return await e()}catch(n){if(t>0)return await new Promise(s=>setTimeout(s,r)),yw(e,t-1,r*1.5);throw n}}function qI(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState("email"),[l,c]=w.useState("asc"),[u,d]=w.useState([]),[f,p]=w.useState(!1),[x,m]=w.useState(null),[b,y]=w.useState(1),g=10,{register:v,handleSubmit:S,formState:{errors:k,isSubmitting:N},reset:P,setValue:C}=nc({resolver:sc(G2),defaultValues:{email:"",company_name:"",role:"user"}});w.useEffect(()=>{x&&(C("email",x.email),C("company_name",x.company_name),C("role",x.role))},[x,C]),w.useEffect(()=>{T()},[b,o,l,s]);const T=async()=>{try{n(!0);let R=H.from("profiles").select("*").order(o,{ascending:l==="asc"}).range((b-1)*g,b*g-1);s&&(R=R.or(`email.ilike.%${s}%,company_name.ilike.%${s}%`));const{data:oe,error:B}=await yw(async()=>{const I=await R;if(I.error)throw I.error;return I});if(B)throw B;t(oe||[])}catch(R){console.error("Error fetching users:",R),re.error(R.message==="Failed to fetch"?"Unable to connect to the server. Please check your internet connection and try again.":`Failed to fetch users: ${R.message}`),t([])}finally{n(!1)}},j=R=>{R===o?c(l==="asc"?"desc":"asc"):(a(R),c("asc"))},z=R=>{d(R?e.map(oe=>oe.id):[])},W=(R,oe)=>{d(B=>oe?[...B,R]:B.filter(I=>I!==R))},G=async R=>{if(u.length)try{switch(R){case"delete":if(!confirm("Are you sure you want to delete the selected users?"))return;await H.from("profiles").delete().in("id",u);break;case"activate":case"deactivate":await H.from("profiles").update({status:R==="activate"}).in("id",u);break}re.success(`Successfully ${R}d selected users`),d([]),T()}catch(oe){re.error(`Failed to ${R} users`),console.error("Error:",oe)}},le=async R=>{try{if(x){if(R.password){const{error:B}=await H.auth.admin.updateUserById(x.id,{password:R.password});if(B)throw B}const{error:oe}=await H.from("profiles").update({company_name:R.company_name,role:R.role,updated_at:new Date().toISOString()}).eq("id",x.id);if(oe)throw oe;re.success("User updated successfully")}else{const{data:oe,error:B}=await H.auth.signUp({email:R.email,password:R.password});if(B)throw B;re.success("User created successfully")}await T(),p(!1),P()}catch(oe){re.error(oe.message||"Failed to save user"),console.error("Error:",oe)}};return h.jsx("div",{className:"p-6 bg-[#121212] min-h-screen",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Management"}),h.jsxs("button",{onClick:()=>{m(null),p(!0)},className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[h.jsx(Kf,{className:"w-5 h-5 mr-2"}),"Add New User"]})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:R=>i(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1F1F1F] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),u.length>0&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>G("activate"),className:"px-3 py-1.5 bg-emerald-600 text-white rounded hover:bg-emerald-700 transition-colors",children:"Activate"}),h.jsx("button",{onClick:()=>G("deactivate"),className:"px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",children:"Deactivate"}),h.jsx("button",{onClick:()=>G("delete"),className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete"})]})]}),h.jsx("div",{className:"overflow-x-auto rounded-lg border border-[#2D2D2D]",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-[#1F1F1F]",children:[h.jsx("th",{className:"p-4 text-left",children:h.jsx("input",{type:"checkbox",checked:u.length===e.length,onChange:R=>z(R.target.checked),className:"rounded border-gray-400 text-emerald-600 focus:ring-emerald-500"})}),["email","company_name","role","last_login","status"].map(R=>h.jsx("th",{onClick:()=>j(R),className:"p-4 text-left text-gray-400 font-medium cursor-pointer",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{children:R.replace("_"," ").toUpperCase()}),o===R&&(l==="asc"?h.jsx(LS,{className:"w-4 h-4"}):h.jsx(Zf,{className:"w-4 h-4"}))]})},R)),h.jsx("th",{className:"p-4 text-left text-gray-400 font-medium",children:"ACTIONS"})]})}),h.jsx("tbody",{children:r?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"text-center py-8",children:h.jsx(Jn,{className:"w-6 h-6 animate-spin mx-auto text-emerald-500"})})}):e.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-400",children:"No users found"})}):e.map(R=>h.jsxs("tr",{className:"border-t border-[#2D2D2D] hover:bg-[#1A1A1A]",children:[h.jsx("td",{className:"p-4",children:h.jsx("input",{type:"checkbox",checked:u.includes(R.id),onChange:oe=>W(R.id,oe.target.checked),className:"rounded border-gray-400 text-emerald-600 focus:ring-emerald-500"})}),h.jsx("td",{className:"p-4 text-white",children:R.email}),h.jsx("td",{className:"p-4 text-white",children:R.company_name}),h.jsx("td",{className:"p-4",children:h.jsx("span",{className:`px-2 py-1 rounded text-sm ${R.role==="admin"?"bg-purple-600":R.role==="manager"?"bg-blue-600":"bg-gray-600"} text-white`,children:R.role})}),h.jsx("td",{className:"p-4 text-gray-400",children:new Date(R.last_login).toLocaleString()}),h.jsx("td",{className:"p-4",children:h.jsx("button",{onClick:async()=>{try{await H.from("profiles").update({status:!R.status}).eq("id",R.id),await T()}catch{re.error("Failed to update user status")}},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${R.status?"bg-emerald-600":"bg-gray-600"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${R.status?"translate-x-6":"translate-x-1"}`})})}),h.jsx("td",{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>{m(R),p(!0)},className:"p-1 text-blue-400 hover:text-blue-300 transition-colors",children:h.jsx(VS,{className:"w-4 h-4"})}),h.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to delete this user?"))try{await H.from("profiles").delete().eq("id",R.id),await T(),re.success("User deleted successfully")}catch{re.error("Failed to delete user")}},className:"p-1 text-red-400 hover:text-red-300 transition-colors",children:h.jsx(Zl,{className:"w-4 h-4"})})]})})]},R.id))})]})}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"text-gray-400",children:["Showing ",(b-1)*g+1," to ",Math.min(b*g,e.length)," of ",e.length," users"]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("button",{onClick:()=>y(R=>Math.max(1,R-1)),disabled:b===1,className:"px-3 py-1 bg-[#1F1F1F] text-white rounded disabled:opacity-50",children:"Previous"}),h.jsxs("span",{className:"text-white",children:["Page ",b]}),h.jsx("button",{onClick:()=>y(R=>R+1),disabled:e.length<g,className:"px-3 py-1 bg-[#1F1F1F] text-white rounded disabled:opacity-50",children:"Next"})]})]}),f&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-md",children:h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-bold text-white",children:x?"Edit User":"Add New User"}),h.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white transition-colors",children:h.jsx(Jf,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:S(le),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email Address"}),h.jsx("input",{...v("email"),type:"email",disabled:!!x,className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50",placeholder:"Enter email address"}),k.email&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.email.message})]}),!x&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),h.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter password"}),k.password&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.password.message})]}),x&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"New Password (optional)"}),h.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter new password"}),k.password&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.password.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Confirm New Password"}),h.jsx("input",{...v("confirmPassword"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Confirm new password"}),k.confirmPassword&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.confirmPassword.message})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Company Name"}),h.jsx("input",{...v("company_name"),type:"text",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter company name"}),k.company_name&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.company_name.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),h.jsxs("select",{...v("role"),className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[h.jsx("option",{value:"user",children:"User"}),h.jsx("option",{value:"manager",children:"Manager"}),h.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&h.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.role.message})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center",children:N?h.jsxs(h.Fragment,{children:[h.jsx(Jn,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save User"})]})]})]})})})]})})}const ZI=pe.object({company_name:pe.string().min(1,"Company name is required"),email:pe.string().email("Invalid email format").min(1,"Email is required"),current_password:pe.string().optional(),new_password:pe.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least 1 uppercase letter").regex(/[a-z]/,"Password must contain at least 1 lowercase letter").regex(/[0-9]/,"Password must contain at least 1 number").regex(/[^A-Za-z0-9]/,"Password must contain at least 1 special character").optional(),confirm_password:pe.string().optional()}).refine(e=>!(e.new_password&&!e.current_password),{message:"Current password is required when setting a new password",path:["current_password"]}).refine(e=>e.new_password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]});function KI(){const[e,t]=w.useState(null),[r,n]=w.useState(!0),[s,i]=w.useState(!1);w.useState(!1);const o=Hf(),{register:a,handleSubmit:l,formState:{errors:c},reset:u,formState:{isDirty:d}}=nc({resolver:sc(ZI)});w.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const{data:{user:m}}=await H.auth.getUser();if(!m)throw new Error("Not authenticated");const{data:b,error:y}=await H.from("profiles").select("*").eq("id",m.id).single();if(y)throw y;t(b),u({email:b.email,company_name:b.company_name||""})}catch(m){console.error("Error fetching profile:",m),re.error("Failed to load profile")}finally{n(!1)}},p=async m=>{try{i(!0);const{data:{user:b}}=await H.auth.getUser();if(!b)throw new Error("Not authenticated");const{error:y}=await H.from("profiles").update({company_name:m.company_name,updated_at:new Date().toISOString()}).eq("id",b.id);if(y)throw y;if(m.new_password&&m.current_password){const{error:g}=await H.auth.updateUser({password:m.new_password});if(g)throw g}re.success("Profile updated successfully"),await f()}catch(b){console.error("Error updating profile:",b),re.error(b instanceof Error?b.message:"Failed to update profile")}finally{i(!1)}},x=()=>{d&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||o(-1)};return r?h.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:h.jsx(Jn,{className:"w-8 h-8 animate-spin text-[#BB86FC]"})}):h.jsx("div",{className:"min-h-screen bg-[#121212] p-6",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0] mb-8",children:"Profile Settings"}),h.jsx("div",{className:"bg-[#1F1F1F] rounded-lg p-6",children:h.jsxs("form",{onSubmit:l(p),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Email Address"}),h.jsx("input",{...a("email"),type:"email",readOnly:!0,className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38] opacity-50 cursor-not-allowed"}),c.email&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Company Name"}),h.jsx("input",{...a("company_name"),type:"text",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.company_name&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.company_name.message})]}),h.jsxs("div",{className:"pt-4 border-t border-[#3D3D3D]",children:[h.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0] mb-4",children:"Change Password"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Current Password"}),h.jsx("input",{...a("current_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.current_password&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.current_password.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"New Password"}),h.jsx("input",{...a("new_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.new_password&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.new_password.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Confirm New Password"}),h.jsx("input",{...a("confirm_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.confirm_password&&h.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.confirm_password.message})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[h.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 text-[#E0E0E0] hover:text-[#f7ab38] transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-[#f7ab38] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center space-x-2",children:s?h.jsxs(h.Fragment,{children:[h.jsx(Jn,{className:"w-4 h-4 animate-spin"}),h.jsx("span",{children:"Saving..."})]}):h.jsx("span",{children:"Save Changes"})})]})]})})]})})}function JI(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState(null),[o,a]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(!1),[f,p]=w.useState("");w.useEffect(()=>{x()},[]);const x=async()=>{try{c(!0),console.log("PermissionsManagement: Starting to fetch data...");const{data:{user:v}}=await H.auth.getUser();console.log("PermissionsManagement: Current user:",v);const{data:S,error:k}=await H.from("profiles").select("*").order("email");if(console.log("PermissionsManagement: Fetched users:",S),k)throw k;const{data:N,error:P}=await H.from("workflows").select("*").eq("status","active").order("name");if(console.log("PermissionsManagement: Fetched workflows:",N),console.log("PermissionsManagement: Workflows query error:",P),P)throw P;t(S||[]),n(N||[])}catch(v){console.error("PermissionsManagement: Error fetching data:",v),re.error("Failed to load data")}finally{c(!1)}},m=async v=>{try{const{data:S,error:k}=await H.from("user_workflows").select("workflow_id").eq("user_id",v);if(k)throw k;a(S.map(N=>({userId:v,workflowId:N.workflow_id})))}catch(S){console.error("Error fetching permissions:",S),re.error("Failed to load user permissions")}},b=async v=>{i(v),await m(v)},y=v=>{s&&a(S=>S.some(N=>N.userId===s&&N.workflowId===v)?S.filter(N=>!(N.userId===s&&N.workflowId===v)):[...S,{userId:s,workflowId:v}])},g=async()=>{if(s)try{d(!0);const{error:v}=await H.from("user_workflows").delete().eq("user_id",s);if(v)throw v;if(o.length>0){const{error:S}=await H.from("user_workflows").insert(o.map(k=>({user_id:k.userId,workflow_id:k.workflowId})));if(S)throw S}re.success("Permissions saved successfully")}catch(v){console.error("Error saving permissions:",v),re.error("Failed to save permissions")}finally{d(!1)}};return l?h.jsx("div",{className:"p-6 flex justify-center",children:h.jsx(Vn,{className:"w-6 h-6 animate-spin text-[#BB86FC]"})}):h.jsx("div",{className:"p-6 bg-[#121212] min-h-screen",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0]",children:"Workflow Permissions"}),h.jsx("button",{onClick:x,className:"text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",title:"Refresh data",children:h.jsx(Vn,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-6 space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-[#E0E0E0]",children:"Manage User Permissions"}),h.jsx("p",{className:"text-[#757575]",children:"Control which workflows each user can access"}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0]",children:"Select User"}),h.jsxs("div",{className:"relative",children:[h.jsx(ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#757575] w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search users...",value:f,onChange:v=>p(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#BB86FC]"})]}),h.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:e.filter(v=>v.email.toLowerCase().includes(f.toLowerCase())).map(v=>h.jsx("button",{onClick:()=>b(v.id),className:`w-full text-left px-4 py-2 rounded-lg transition-colors ${s===v.id?"bg-[#BB86FC] text-white":"text-[#E0E0E0] hover:bg-[#2C2C2C]"}`,children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{children:v.email}),h.jsx("span",{className:`text-sm px-2 py-0.5 rounded ${v.role==="admin"?"bg-purple-600":v.role==="manager"?"bg-blue-600":"bg-gray-600"}`,children:v.role})]})},v.id))})]}),s&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0]",children:"Workflow Access"}),h.jsx("button",{onClick:g,disabled:u,className:"flex items-center px-4 py-2 bg-[#BB86FC] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50",children:u?h.jsxs(h.Fragment,{children:[h.jsx(Vn,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(WS,{className:"w-4 h-4 mr-2"}),"Save Permissions"]})})]}),h.jsx("div",{className:"space-y-2",children:r.length===0?h.jsx("div",{className:"text-center py-4 text-[#757575]",children:"No workflows available"}):r.map(v=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2C2C2C] rounded-lg",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-[#E0E0E0] font-medium",children:v.name}),v.description&&h.jsx("p",{className:"text-sm text-[#757575]",children:v.description})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.some(S=>S.userId===s&&S.workflowId===v.id),onChange:()=>y(v.id)}),h.jsx("div",{className:"w-11 h-6 bg-[#3D3D3D] peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#BB86FC] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#BB86FC]"})]})]},v.id))})]})]})]})})}function QI(){const[e,t]=w.useState(!1),[r,n]=w.useState(!1);w.useEffect(()=>{const c=new Image;c.src="https://n-remote.com/sdc/public/sharon/cmodern_office_invironment_in_the_background-2.png",c.onload=()=>n(!0)},[]);const{register:s,handleSubmit:i,formState:{errors:o},reset:a}=nc({resolver:sc(W2),mode:"onBlur"}),l=async c=>{try{t(!0);const{error:u}=await H.auth.signInWithPassword({email:c.email,password:c.password});if(u)if(u.message.includes("session_not_found")){const{data:{session:d},error:f}=await H.auth.refreshSession();if(f||!d)throw new Error("Failed to refresh session. Please try logging in again.")}else throw u;re.success("Successfully signed in")}catch(u){re.error(u.message)}finally{t(!1),a()}};return h.jsx("div",{className:`min-h-screen w-full flex items-center justify-center bg-cover bg-center transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,style:{backgroundImage:"url(https://n-remote.com/sdc/public/sharon/cmodern_office_invironment_in_the_background-2.png)",backgroundColor:"#121212"},children:h.jsxs("div",{className:"w-full max-w-md p-8 bg-white/95 backdrop-blur-sm rounded-lg shadow-xl",children:[h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("img",{src:"https://n-remote.com/sdc/public/logos/N-Remote295x95.png",alt:"N-Remote Logo",className:"h-12 mb-6"}),h.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome to Sharon AI"})]}),h.jsxs("form",{onSubmit:i(l),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(US,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{...s("email"),type:"email",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),o.email&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(BS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{...s("password"),type:"password",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]}),o.password&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),h.jsx("button",{type:"submit",disabled:e,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e?h.jsx(Jn,{className:"h-5 w-5 animate-spin"}):"Sign In"})]})]})})}async function wa(e,t,r,n,s){try{const{error:i}=await e.from("workflow_logs").insert({workflow_id:t,level:r,message:n,details:s});i&&console.error("Failed to log workflow event:",i)}catch(i){console.error("Error logging workflow event:",i)}}function YI(){const e=Hf(),[t,r]=w.useState(null),[n,s]=w.useState(!0),[i,o]=w.useState(""),[a,l]=w.useState([]),[c,u]=w.useState(null),[d,f]=w.useState("New Chat"),[p,x]=w.useState(!1),[m,b]=w.useState(null),[y,g]=w.useState(null),[v,S]=w.useState(null),[k,N]=w.useState(0),[P,C]=w.useState(null),[T,j]=w.useState(null),z=!m||p,W=async B=>{try{const I=document.querySelector(`[data-message-id="${B}"]`);I&&await navigator.clipboard.writeText(I.textContent||""),g(B),setTimeout(()=>g(null),2e3)}catch(I){console.error("Failed to copy text:",I)}},G=B=>{let I=B.replace(/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1[^>]*>(.*?)<\/a>/g,"%%%LINK$1$2$1$3%%%").replace(/<sup\s+class="citation">(.*?)<\/sup>/g,"%%%CITATION$1%%%").replace(/^(#{1,6})\s+(.+)$/gm,(A,O,te)=>{const J=7-O.length;return`<h${O.length} class="text-${J}xl font-bold mb-4">${te}</h${O.length}>`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,(A,O,te)=>`<a href="${te.startsWith("http")?te:`https://${te}`}" target="_blank" rel="noopener noreferrer" class="text-[#BB86FC] hover:text-[#9B66DC] underline">${O}</a>`).replace(/^\s*[•*-]\s+(.+)$/gm,"<li>$1</li>").split(`
`).map(A=>A.trim()).filter(A=>A).map(A=>A.startsWith("<")?A:`<p>${A}</p>`).join(`
`).replace(/%%%LINK(["'])(.*?)\1(.*?)%%%/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-[#BB86FC] hover:text-[#9B66DC] underline">$3</a>').replace(/%%%CITATION(.*?)%%%/g,'<sup class="citation">$1</sup>');return I=I.replace(/(<li>.*<\/li>\n*)+/g,'<ul class="list-disc pl-6 space-y-2 my-4">$&</ul>').replace(/\n{3,}/g,`
`).trim(),I};w.useEffect(()=>{if(!H){j("Supabase client not initialized. Please check your environment variables.");return}(async()=>{try{const{data:{session:A},error:O}=await H.auth.getSession();if(O)if(O.message.includes("session_not_found")){const{data:{session:te},error:J}=await H.auth.refreshSession();if(J||!te){await H.auth.signOut(),e("/");return}r(te.user)}else throw O;else r((A==null?void 0:A.user)??null)}catch(A){console.error("Session initialization error:",A),j("Failed to initialize session. Please try logging in again."),await H.auth.signOut(),e("/")}finally{s(!1)}})();const{data:{subscription:I}}=H.auth.onAuthStateChange(async(A,O)=>{O!=null&&O.user?r(O.user):(r(null),e("/"))});return()=>I.unsubscribe()},[e]),w.useEffect(()=>{c&&le(c)},[c]);const le=async B=>{try{const{data:I,error:A}=await H.from("messages").select("*").eq("conversation_id",B).order("created_at",{ascending:!0});if(A){if(A.message.includes("session_not_found")){const{data:{session:J},error:xe}=await H.auth.refreshSession();if(xe||!J){await H.auth.signOut(),e("/");return}return le(B)}throw A}const O=I.map(J=>({id:J.id,type:J.sender_type,text:J.text,document_url:J.document_url,timestamp:new Date(J.created_at).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}));l(O);const{data:te}=await H.from("conversations").select("title").eq("id",B).single();te&&f(te.title)}catch(I){console.error("Error loading messages:",I),re.error("Failed to load conversation messages")}},R=async B=>{var A;if(B.preventDefault(),!i.trim()&&!v)return;console.log("App: Submitting message with workflow:",{workflow_id:m==null?void 0:m.id,workflow_name:m==null?void 0:m.name,worker_id:m==null?void 0:m.worker_id});const I=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});try{if(!m)throw new Error("Please select a workflow first");if(!t)throw new Error("You must be logged in to send messages");let O=null,te=null,J=c;if(v){te=Date.now();const Pe=(A=v.name.split(".").pop())==null?void 0:A.toLowerCase(),Me=Pe&&["png","jpg","jpeg","gif"].includes(Pe);if(Me&&!(m!=null&&m.supports_images))throw new Error("Image uploads are not supported for this workflow");if(!Me&&!(m!=null&&m.supports_documents))throw new Error("Document uploads are not supported for this workflow");const hr=Me?"images":"documents",Ve=`${t.id}/${crypto.randomUUID()}.${Pe}`;await wa(H,m.id,"info","Starting file upload",{fileType:Me?"image":"document",fileName:v.name,fileSize:v.size,bucket:hr});const{error:pr,data:Oc}=await H.storage.from(hr).upload(Ve,v,{onUploadProgress:ai=>{N(ai.loaded/ai.total*100)}});if(pr)throw pr;const Rc=Date.now()-te,{data:Nn}=H.storage.from(hr).getPublicUrl(Ve);if(!(Nn!=null&&Nn.publicUrl))throw new Error("Failed to generate public URL for uploaded file");O=Nn.publicUrl,await wa(H,m.id,"info","File uploaded successfully",{filePath:Ve,duration:Rc,documentUrl:O,fileType:Me?"image":"document"}),console.log("Generated file URL:",O)}if(!J){const{data:Pe,error:Me}=await H.from("conversations").insert({title:i,workflow_id:m.id,created_by:t.id}).select().single();if(Me){if(Me.message.includes("session_not_found")){const{data:{session:hr},error:Ve}=await H.auth.refreshSession();if(Ve||!hr){await H.auth.signOut(),e("/");return}return R(B)}throw Me}J=Pe.id,u(Pe.id),f(i)}const{error:xe}=await H.from("messages").insert({conversation_id:J,sender_type:"user",text:i,document_url:O});if(xe){if(xe.message.includes("session_not_found")){const{data:{session:Pe},error:Me}=await H.auth.refreshSession();if(Me||!Pe){await H.auth.signOut(),e("/");return}return R(B)}throw xe}const ie={id:crypto.randomUUID(),type:"user",text:i,document_url:O,timestamp:I,isFollowUp:!!P};o(""),l(Pe=>[...Pe,ie]),x(!0);const Ze=await M0({workerId:m.worker_id,apiAuthToken:m.api_auth_token,apiConfig:{method:"post",url:"https://api.mindstudio.ai/developer/v2/workers/run",content_type:"application/json"},variables:{request:i,workflowId:m.id,workflowName:m.name,documentUrl:O,...P&&{previousAnswer:P}}});if(!Ze.data||typeof Ze.data.response!="string")throw new Error("Invalid response format from API");const $e=G(Ze.data.response),{error:bt}=await H.from("messages").insert({conversation_id:J,sender_type:"assistant",text:$e});if(bt){if(bt.message.includes("session_not_found")){const{data:{session:Pe},error:Me}=await H.auth.refreshSession();if(Me||!Pe){await H.auth.signOut(),e("/");return}return R(B)}throw bt}const oi={id:crypto.randomUUID(),type:"assistant",text:$e,timestamp:I};l(Pe=>[...Pe,oi]),C($e),await wa(H,m.id,"info","Message exchange completed successfully",{conversationId:J,requestLength:i.length,responseLength:$e.length,hadDocument:!!O,isFollowUp:!!P})}catch(O){console.error("Error in message submission:",O),console.error("Error details:",{stack:O instanceof Error?O.stack:void 0,context:{workflowId:m==null?void 0:m.id,message:i,documentUrl,previousAnswer:P}});const te={id:crypto.randomUUID(),type:"assistant",text:O instanceof Error?O.message:"An unexpected error occurred",timestamp:I};l(J=>[...J,te]),m&&await wa(H,m.id,"error","Error processing message",{error:O instanceof Error?O.message:"Unknown error",stack:O instanceof Error?O.stack:void 0,context:{message:i,documentUrl,previousAnswer:P,isFollowUp:!!P}}),re.error("Failed to process message")}finally{x(!1),S(null),N(0)}},oe=async()=>{await H.auth.signOut(),e("/")};return n?h.jsx(ma,{children:h.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):t?T?h.jsx(ma,{children:h.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-8 max-w-md w-full text-center space-y-4",children:[h.jsx(qf,{className:"w-16 h-16 text-red-500 mx-auto"}),h.jsx("h2",{className:"text-xl font-bold text-white",children:"Connection Error"}),h.jsx("p",{className:"text-[#757575]",children:T})]})})}):h.jsx(ma,{onSignOut:oe,user:!0,children:h.jsxs(U1,{children:[h.jsx(us,{path:"/workflows",element:h.jsx(WI,{})}),h.jsx(us,{path:"/users",element:h.jsx(qI,{})}),h.jsx(us,{path:"/permissions",element:h.jsx(JI,{})}),h.jsx(us,{path:"/profile",element:h.jsx(KI,{})}),h.jsx(us,{path:"/",element:h.jsxs("div",{className:"flex h-screen bg-[#121212]",children:[h.jsx(dC,{onNewChat:()=>{l([]),u(null),f("New Chat"),b(null),C(null)},selectedChat:c,selectedWorkflow:m,onSelectWorkflow:b,onSelectChat:u}),h.jsxs("div",{className:"flex-1 flex flex-col relative",children:[h.jsx("div",{className:"bg-[#1F1F1F] p-4 border-b border-[#2D2D2D] shadow-lg",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-[#E0E0E0] text-lg font-medium",children:d}),m&&h.jsxs("span",{className:"text-sm text-[#BB86FC]",children:["Using: ",m.display_name||m.name]})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[!m&&h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[h.jsx(jd,{className:"w-16 h-16 text-[#757575]"}),h.jsxs("div",{className:"max-w-md space-y-2",children:[h.jsx("h3",{className:"text-xl font-medium text-[#E0E0E0]",children:"Select a Workflow to Start"}),h.jsx("p",{className:"text-[#757575]",children:"Choose a workflow from the dropdown menu above to begin your conversation."})]})]}),a.map(B=>h.jsx("div",{className:"flex flex-col animate-fade-in",children:h.jsxs("div",{className:`flex flex-col ${B.type==="user"?"items-end":"items-start"}`,children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[h.jsx("span",{className:"text-sm text-[#757575]",children:B.type==="user"?B.isFollowUp?"Your Follow-up":"Your Question":"Sharon's Answer"}),h.jsx("button",{onClick:()=>W(B.id),className:"text-[#757575] hover:text-accent transition-colors",children:y===B.id?h.jsx(n0,{className:"w-4 h-4"}):h.jsx(FS,{className:"w-4 h-4"})})]}),h.jsx("div",{className:`relative p-4 rounded-2xl shadow-md max-w-2xl w-full ${B.type==="user"?"bg-[#3871f7] text-[#E0E0E0]":"bg-[#2C2C2C] text-[#E0E0E0] prose prose-invert prose-headings:text-[#E0E0E0] prose-a:text-accent prose-a:no-underline hover:prose-a:underline"}`,"data-message-id":B.id,children:B.type==="assistant"?h.jsx("div",{children:h.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:B.text}})}):h.jsxs("div",{children:[h.jsx("p",{children:B.text}),B.document_url&&h.jsx("div",{className:"mt-2",children:B.document_url.match(/\.(jpg|jpeg|png|gif)$/i)?h.jsx("img",{src:B.document_url,alt:"Uploaded image",className:"max-w-full h-auto rounded-lg"}):h.jsxs("a",{href:B.document_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-[#1A1A1A] p-2 rounded hover:bg-[#2D2D2D] transition-colors",children:[h.jsx(nm,{className:"w-5 h-5 text-[#757575]"}),h.jsx("span",{className:"text-[#757575] text-sm",children:"View document"})]})})]})}),h.jsx("span",{className:"text-[#757575] text-sm mt-1",children:B.timestamp})]})},B.id)),p&&h.jsxs("div",{className:"flex flex-col items-start animate-fade-in",children:[h.jsx("span",{className:"text-sm text-[#757575] mb-1",children:"Sharon's working..."}),h.jsxs("div",{className:"bg-[#2C2C2C] p-4 rounded-2xl shadow-md flex items-center space-x-2 animate-pulse",children:[h.jsx(Jn,{className:"w-5 h-5 text-accent animate-spin"}),h.jsx("span",{className:"text-[#E0E0E0]",children:"Processing your request..."})]})]})]}),h.jsx("div",{className:"sticky bottom-0 p-4 bg-[#121212] border-t border-[#2D2D2D] shadow-lg",children:h.jsxs("form",{onSubmit:R,className:"flex space-x-3",children:[((m==null?void 0:m.supports_documents)||(m==null?void 0:m.supports_images))&&h.jsxs("div",{className:`relative ${z?"opacity-50 cursor-not-allowed":""}`,title:m!=null&&m.supports_documents&&(m!=null&&m.supports_images)?"Upload documents (.pdf, .doc, .docx, .txt) or images (.png, .jpg, .jpeg, .gif)":m!=null&&m.supports_documents?"Upload documents (.pdf, .doc, .docx, .txt)":"Upload images (.png, .jpg, .jpeg, .gif)",children:[h.jsx("input",{type:"file",onChange:B=>{var I;return S(((I=B.target.files)==null?void 0:I[0])||null)},className:"hidden",id:"file-upload",accept:`${m!=null&&m.supports_documents?".pdf,.doc,.docx,.txt":""}${m!=null&&m.supports_documents&&(m!=null&&m.supports_images)?",":""}${m!=null&&m.supports_images?".png,.jpg,.jpeg,.gif":""}`,disabled:z}),h.jsx("label",{htmlFor:"file-upload",className:`flex items-center justify-center w-12 h-12 rounded-xl transition-colors ${v?"bg-emerald-600":"bg-[#2C2C2C]"} ${z?"cursor-not-allowed":"cursor-pointer hover:opacity-90"}`,children:h.jsx(qS,{className:"w-5 h-5 text-white"})}),v&&h.jsxs("div",{className:"absolute bottom-full mb-2 left-0 bg-[#2C2C2C] text-white text-sm rounded-lg p-4 min-w-[200px] max-w-[300px]",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"truncate",children:v.name}),h.jsx("button",{onClick:B=>{B.preventDefault(),S(null)},className:"ml-2 text-gray-400 hover:text-white",children:h.jsx(Jf,{className:"w-4 h-4"})})]}),k>0&&k<100?h.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full",children:h.jsx("div",{className:"h-full bg-emerald-600 rounded-full",style:{width:`${k}%`}})}):h.jsx("div",{className:"mt-2",children:v.type.startsWith("image/")?h.jsx("img",{src:URL.createObjectURL(v),alt:"Preview",className:"w-full h-auto rounded-lg",onLoad:()=>URL.revokeObjectURL(URL.createObjectURL(v))}):h.jsxs("div",{className:"flex items-center space-x-2 bg-[#1A1A1A] p-2 rounded",children:[h.jsx(nm,{className:"w-5 h-5 text-[#757575]"}),h.jsx("span",{className:"text-[#757575] text-xs",children:v.type||"Document"})]})})]})]}),h.jsx("textarea",{rows:1,onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),R(B))},value:i,onChange:B=>{if(!m){re.error("Please select a workflow first");return}B.target.style.height="auto",B.target.style.height=`${B.target.scrollHeight}px`,o(B.target.value)},placeholder:m?"Type your message...":"Select a workflow to start chatting",className:`flex-1 bg-[#2C2C2C] text-white px-4 py-3 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent transition-shadow ${z?"opacity-50 cursor-not-allowed":""} resize-none overflow-hidden min-h-[48px] max-h-[200px]`,disabled:z}),h.jsx("button",{type:"submit",className:`bg-accent text-white p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-[#121212] transition-all ${z||!i.trim()&&!v?"opacity-50 cursor-not-allowed":"hover:bg-opacity-90"}`,disabled:z||!i.trim()&&!v,children:h.jsx(GS,{className:"w-5 h-5"})})]})})]})]})})]})}):h.jsx(ma,{user:!1,children:h.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:h.jsx(QI,{})})})}class XI extends w.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?h.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-8 max-w-md w-full space-y-6 text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(r0,{className:"w-16 h-16 text-red-500"})}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Something went wrong"}),h.jsx("p",{className:"text-[#757575]",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#BB86FC] text-white rounded-lg hover:bg-opacity-90 transition-colors",children:"Reload Page"})]})}):this.props.children}}Bv(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(W1,{children:h.jsx(XI,{children:h.jsx(YI,{})})})}));export{Kd as g};
